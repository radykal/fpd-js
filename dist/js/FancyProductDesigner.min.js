function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function createPngDataTable(){for(var t=new Int32Array(256),e=0;e<256;e++){for(var n=e,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t}function calcCrc(t){var e=-1;pngDataTable=pngDataTable||createPngDataTable();for(var n=0;n<t.length;n++)e=pngDataTable[255&(e^t[n])]^e>>>8;return-1^e}!function(t,e){"use strict";"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(function(t){return e()}):t.AreaSortable=e()}("undefined"!=typeof self?self:this,function(t){"use strict";var rt="$areaSortable",ot="rect",at="scroll",st="style",lt="margin",ht="padding",ut="left",ct="right",ft="width",dt="top",pt="bottom",gt="height",mt="nextElementSibling",bt="previousElementSibling",vt="scrollTop",_t="scrollLeft",yt=1,wt=2,St=yt+wt,Ct=Math,Pt=String,_=parseInt,i=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=/^\s+|\s+$/g,P=/mousedown|pointerdown/,l=Pt.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(n,"")},r=null;function At(t,e){return t<0?-1:0<t?1:e||0}function y(t){return"function"==typeof t}function w(t){return"[object String]"===e.call(t)}function h(){var t=!1,e={};try{Object.defineProperty(e,"passive",{get:function(){return!(t=!0)}}),window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}function S(t,e,n,i){null==r&&(r=h()),t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n,r?i:"object"==typeof i?!!i.capture:!!i)}function a(t,e,n,i){null==r&&(r=h()),t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener(e,n,r?i:"object"==typeof i?!!i.capture:!!i)}function C(t,e){return t.classList?t.classList.contains(e):-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function xt(t,e){t.classList?t.classList.add(e):C(t,e)||(t.className=""===t.className?e:t.className+" "+e)}function Mt(t,e){t.classList?t.classList.remove(e):t.className=l((" "+t.className+" ").replace(" "+e+" "," "))}function Et(t,e){return 0!==t[e]||(t[e]=1)===t[e]&&(t[e]=0,1)}function Tt(t){return(y(window.getComputedStyle)?window.getComputedStyle(t,null):t.currentStyle)||{}}function Dt(t,e,n){return t.elementsFromPoint(e,n)}function Lt(n,t){return t.reduce(function(t,e){return t[e]=n[st].getPropertyValue(e),t},{})}function Rt(e,t,n){n=n||e[rt][st],t.forEach(function(t){i.call(n,t)&&""!==n[t]?e[st][t]=n[t]:e[st].removeProperty(t)})}function It(e,t,n){var i,r,o,a;0<t&&(e[rt]&&e[rt].animation&&e[rt].animation.stop(),i="transform "+Pt(t)+"ms",r="translate3d(0,0,0)",o=null,a=function t(){o&&clearTimeout(o),o=null,e[rt]&&e[rt].animation&&t===e[rt].animation.stop&&(e[rt].animation=null),e[st].transform===r&&e[st].transition===i&&(e[st].transition="none",e[st].transform="none")},e[st].transition="none",e[st].transform="translate3d("+Pt(-(n[ut]||0))+"px,"+Pt(-(n[dt]||0))+"px,0)",e.offsetWidth,e[st].transform=r,e[st].transition=i,o=setTimeout(a,t),e[rt].animation={stop:a})}function kt(t,e,n,i,r){return t=t[rt].r,e=e[rt][ot],Ct.max(0,Ct.min(1,Ct.max(0,Ct.min(t[i]+t[r],e[i]-n[i]+e[r])-Ct.max(t[i],e[i]-n[i]))/Ct.min(t[r],e[r])))}function Ft(t,e,n,i,r){var t=t[rt].r,e=e[rt][ot],o=Ct.max(0,Ct.min(t[ut]+t[ft],e[ut]-n[ut]+e[ft])-Ct.max(t[ut],e[ut]-n[ut])),n=Ct.max(0,Ct.min(t[dt]+t[gt],e[dt]-n[dt]+e[gt])-Ct.max(t[dt],e[dt]-n[dt]));return Ct.max(0,Ct.min(1,o*n/(Ct.min(t[ft],e[ft])*Ct.min(t[gt],e[gt]))))}function o(A,x){function E(t,e,n){n<0?(k===e&&(k=t),L===t&&(L=T[bt]),O.insertBefore(t,e)):0<n&&(k===t&&(k=t[mt]),e[mt]?O.insertBefore(t,e[mt]):(O.appendChild(t),L=t)),t[rt].index=e[rt].index,O.insertBefore(T,t),y(A.options.onChange)&&A.options.onChange(t)}function t(t){if(f&&!b&&A.options.container&&(!P.test(t.type)||0===t.button))if(g(),(u=t.target)&&C(u,A.options.handle||"dnd-sortable-handle"))if(M=function(t,e){if(t.closest)return t.closest("."+e);for(;t;){if(C(t,e))return t;t=t.parentNode}}(u,A.options.item||"dnd-sortable-item"))if(!(O=M.parentNode)||w(A.options.container)&&O.id!==A.options.container||!w(A.options.container)&&O!==A.options.container)g();else if(y(A.options.onStart)&&A.options.onStart(M),y(A.options.itemFilter)&&!(M=A.options.itemFilter(M)))g();else{b=!0,Y=M.ownerDocument||document,t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),d=t.touches&&t.touches.length;var e,r=0,o=0,a=ut,s=ft,l=ct,n=(O.tagName||"").toLowerCase();if(I=(e=Y).scrollingElement||e.documentElement||e.body,F=null,A.options.autoscroll)for(F=O;F&&!(I===F||wt!==x&&F.scrollHeight>F.clientHeight&&Et(F,vt)||yt!==x&&F.scrollWidth>F.clientWidth&&Et(F,_t));)F=F.parentNode;O[rt]={rect:O.getBoundingClientRect(),scroll:{top:O[vt]||0,left:O[_t]||0,width:O.scrollWidth,height:O.scrollHeight,top0:O[vt]||0,left0:O[_t]||0},$:Tt(O),style:Lt(O,["width","height","max-width","max-height","box-sizing","padding-left","padding-top","padding-right","padding-bottom"])},O[rt][ht]={left:_(O[rt].$.paddingLeft)||0,right:_(O[rt].$.paddingRight)||0},F&&F!==O&&(F[rt]={rect:F.getBoundingClientRect(),scroll:{top:F[vt]||0,left:F[_t]||0,width:F.scrollWidth,height:F.scrollHeight,top0:F[vt]||0,left0:F[_t]||0}}),(c=[].map.call(O.children,function(t,e){var n=t.getBoundingClientRect(),i=Tt(t);return t[rt]={index:e,line:0,prev:{},rect:{top:n[dt],left:n[ut],width:n[ft],height:n[gt]},r:{top:n[dt],left:n[ut],width:n[ft],height:n[gt]},margin:{top:_(i.marginTop)||0,right:_(i.marginRight)||0,bottom:_(i.marginBottom)||0,left:_(i.marginLeft)||0},$:i,style:Lt(t,["position","box-sizing","overflow","top","left","width","height","transform","transition"]),animation:null},e=t[rt][lt][a]+t[rt][ot][s]+t[rt][lt][l],0<o&&O[rt][ht][a]+o+e+O[rt][ht][l]>O[rt][ot][s]&&(r++,o=0),t[rt].line=r,o+=e,t})).length&&(k=c[0],L=c[c.length-1]),a=dt,s=gt,l=pt,R=new Array(c.length),c.forEach(function(t){var e=t[rt].line,t=t[rt][ot][a]-t[rt][lt][a]-O[rt][ot][a]+O[rt][at][a];R[e]=null==R[e]?t:Ct.min(t,R[e])}),xt(O,A.options.activeArea||"dnd-sortable-area"),O[st].boxSizing="border-box",O[st][ft]=Pt(O[rt][ot][ft])+"px",O[st][gt]=Pt(O[rt][ot][gt])+"px",O[st].maxWidth=Pt(O[rt][ot][ft])+"px",O[st].maxHeight=Pt(O[rt][ot][gt])+"px",M.draggable=!1,xt(M,A.options.activeItem||"dnd-sortable-dragged"),et=!0,c.forEach(function(t){var e=c[0];t[st].position="absolute",t[st].boxSizing="border-box",t[st].overflow="hidden",t[st][dt]=Pt(t[rt][ot][dt]-O[rt][ot][dt]+O[rt][at][dt]-t[rt][lt][dt])+"px",t[st][ut]=Pt(t[rt][ot][ut]-O[rt][ot][ut]+O[rt][at][ut]-t[rt][lt][ut])+"px",t[st][ft]=Pt(t[rt][ot][ft])+"px",t[st][gt]=Pt(t[rt][ot][gt])+"px",t[rt][ot][ft]===e[rt][ot][ft]&&t[rt][ot][gt]===e[rt][ot][gt]&&t[rt][lt][dt]===e[rt][lt][dt]&&t[rt][lt][pt]===e[rt][lt][pt]&&t[rt][lt][ut]===e[rt][lt][ut]&&t[rt][lt][ct]===e[rt][lt][ct]||(et=!1)}),xt(T=Y.createElement("ul"===n||"ol"===n?"li":"tr"===n?"td":"tbody"===n||"thead"===n||"tfoot"===n||"table"===n?"tr":"span"),A.options.placeholder||"dnd-sortable-placeholder"),T[st].position="absolute",T[st].display="block",T[st].boxSizing="border-box",T[st].margin="0",O===F&&(O[st].paddingLeft=Pt(O[rt][at][ft]-O[rt][ot][ft])+"px",O[st].paddingTop=Pt(O[rt][at][gt]-O[rt][ot][gt])+"px",O[st].paddingRight="0px",O[st].paddingBottom="0px",O[_t]=O[rt][at][ut],O[vt]=O[rt][at][dt]),d?(S(Y,"touchmove",i,!1),S(Y,"touchend",h,!1),S(Y,"touchcancel",h,!1)):(S(Y,"mousemove",i,!1),S(Y,"mouseup",h,!1)),v=setInterval(m,60),K=G=(d?t.touches[0]:t).clientX,Q=J=(d?t.touches[0]:t).clientY,N=G,B=J,W=U=j=H=0,O.insertBefore(T,M),T[st][ft]=Pt(M[rt][ot][ft])+"px",T[st][gt]=Pt(M[rt][ot][gt])+"px",T[st][dt]=Pt(M[rt][ot][dt]-O[rt][ot][dt]+O[rt][at][dt])+"px",T[st][ut]=Pt(M[rt][ot][ut]-O[rt][ot][ut]+O[rt][at][ut])+"px",wt!==x&&(M[st][dt]=Pt(J-B+M[rt][ot][dt]-O[rt][ot][dt]+O[rt][at][dt]-M[rt][lt][dt])+"px"),yt!==x&&(M[st][ut]=Pt(G-N+M[rt][ot][ut]-O[rt][ot][ut]+O[rt][at][ut]-M[rt][lt][ut])+"px")}else g();else g()}function i(){r||(n.apply(this,arguments),r=!0,setTimeout(function(){r=!1},60))}function m(){var t,e,n,i,r,o,a,s,l,h,u,c,f,d,p,g,m=0,b=dt,v=gt,_=ut,y=ft,w=0,S=0,C=!1,P=!1;yt===x&&(_=dt,y=gt),n=(e=K)-G,i=(t=Q)-J,H=0===H?n:H,j=0===j?i:j,U=0!=n?At(n):0!==H?At(H):U,W=0!=i?At(i):0!==j?At(j):W,G=e,J=t,X=(s=F)?{top:s[vt]-s[rt][at].top0||0,left:s[_t]-s[rt][at].left0||0}:{top:0,left:0},wt!==x&&(M[rt].r[dt]=J-B+M[rt][ot][dt],M[st][dt]=Pt(M[rt].r[dt]-O[rt][ot][dt]+O[rt][at][dt]-M[rt][lt][dt]+X[dt])+"px",P=i*j<0),yt!==x&&(M[rt].r[ut]=G-N+M[rt][ot][ut],M[st][ut]=Pt(M[rt].r[ut]-O[rt][ot][ut]+O[rt][at][ut]-M[rt][lt][ut]+X[ut])+"px",C=n*H<0),A.options.autoscroll&&F&&(!$||C||P)&&($&&(clearInterval($),$=null),C=s=I===F?(l=F[rt][ot][ft],o=F[rt][ot][gt],a=r=0,1.5):(l=F[rt][ot][ct],r=F[rt][ot][ut],o=F[rt][ot][pt],a=F[rt][ot][dt],1.2),yt!==x&&(0<U&&F[_t]+F[rt][ot][ft]<F[rt][at][ft]&&M[rt].r[ut]+M[rt].r[ft]>=l||U<0&&0<F[_t]&&M[rt].r[ut]<=r)&&(w=Ct.round(U*s*M[rt].r[ft])),wt!==x&&(0<W&&F[vt]+F[rt][ot][gt]<F[rt][at][gt]&&M[rt].r[dt]+M[rt].r[gt]>=o||W<0&&0<F[vt]&&M[rt].r[dt]<=a)&&(S=Ct.round(W*C*M[rt].r[gt])),w||S)&&(P=Ct.abs(w)>Ct.abs(S)?w:0,l=Ct.abs(S)>=Ct.abs(w)?S:0,h=A.options.scrollAnimationMs||0,u=1e3/60,c=F[vt]||0,f=F[_t]||0,d=0,p=P/(h||u),g=l/(h||u),$=setInterval(function(){d+=u,c+=g*u,f+=p*u,F[vt]=Ct.min(Ct.max(0,c),F[rt][at][gt]-F[rt][ot][gt]),F[_t]=Ct.min(Ct.max(0,f),F[rt][at][ft]-F[rt][ot][ft]),$&&h<=d&&(clearInterval($),$=null)},u)),H=n,j=i,r=M[rt].r[ut]+M[rt].r[ft]/2,s=M[rt].r[dt]+M[rt].r[gt]/2,o=M[rt].r[_],a=function(t){for(var e=1,n=arguments,i=n.length;e<i;++e)t.push.apply(t,n[e]);return t}(Dt(Y,e,t),yt===x?[]:Dt(Y,M[rt].r[ut]+2,s),yt===x?[]:Dt(Y,M[rt].r[ut]+M[rt].r[ft]-2,s),wt===x?[]:Dt(Y,r,M[rt].r[dt]+2),wt===x?[]:Dt(Y,r,M[rt].r[dt]+M[rt].r[gt]-2)).reduce(function(t,e){var n;return e!==M&&e!==T&&e.parentNode===O&&(n=it(M,e,X,z,V),m<n)&&(m=n,t=e),t},null),C=St===x?(a=!(a=!a&&M!==k&&0<=k[rt][ot][_]-X[_]-(o+M[rt][ot][y])&&k[rt][ot][_]-X[_]-(o+M[rt][ot][y])<25&&.7<(m=kt(M,k,X,b,v))?k:a)&&M!==L&&0<=o-(L[rt][ot][_]-X[_]+L[rt][ot][y])&&o-(L[rt][ot][_]-X[_]+L[rt][ot][y])<25&&.7<(m=kt(M,L,X,b,v))?L:a)?a[rt].index-M[rt].index:Ct.abs(W)>=Ct.abs(U)?W:U:(!(a=!a&&M!==k&&k[rt][ot][_]-X[_]>o+M[rt][ot][y]?k:a)&&M!==L&&o>L[rt][ot][_]-X[_]+L[rt][ot][y]&&(a=L),wt===x?U:W),D&&(Z<0&&0<C&&q<.5||0<Z&&C<0&&q<.5||a&&D!==a&&q<m||!it(M,D,X,z,V))&&(Mt(D,A.options.closestItem||"dnd-sortable-closest"),q=0,D=null),!D&&a&&m&&(D=a,Z=0<C?1:-1,q=m,tt=!1),D&&((m=m||it(M,D,X,z,V))?.2<(q=m)?(xt(D,A.options.closestItem||"dnd-sortable-closest"),.5<m&&!tt&&(N-=M[rt][ot][ut],B-=M[rt][ot][dt],tt=!0,nt(M,D,Z,A.options.animationMs||0),N+=M[rt][ot][ut],B+=M[rt][ot][dt])):Mt(D,A.options.closestItem||"dnd-sortable-closest"):(Mt(D,A.options.closestItem||"dnd-sortable-closest"),q=0,D=null))}function h(t){var e=M;o(),g(),y(A.options.onEnd)&&A.options.onEnd(e)}var T,M,u,D,k,L,c,R,I,F,O,N,B,G,J,H,j,U,W,K,Q,X,Z,q,tt,Y,n,r,e=!1,f=!1,b=!1,d=!1,v=null,$=null,et=!1,V=wt===x?ft:gt,z=wt===x?ut:dt,p=ut===z?ct:pt,g=function(){Y=R=c=O=F=I=L=k=D=u=M=T=null,tt=!1,q=0},o=function(){b&&($&&(clearInterval($),$=null),d?(a(Y,"touchmove",i,!1),a(Y,"touchend",h,!1),a(Y,"touchcancel",h,!1)):(a(Y,"mousemove",i,!1),a(Y,"mouseup",h,!1)),v&&(clearInterval(v),v=null),T&&T.parentNode&&(T.parentNode.removeChild(T),T[rt]=null),Mt(O,A.options.activeArea||"dnd-sortable-area"),Rt(O,["width","height","max-width","max-height","box-sizing","padding-left","padding-top","padding-right","padding-bottom"],O[rt].style),D&&Mt(D,A.options.closestItem||"dnd-sortable-closest"),Mt(M,A.options.activeItem||"dnd-sortable-dragged"),c.forEach(function(t){Rt(t,["position","box-sizing","overflow","top","left","width","height","transform","transition"]),t[rt]=null}),O[rt]=null,F&&(F[rt]=null),b=!1)},nt=St===x?function(t,e,n,i){var r,o=e;if(et){if(n<0){for(a=t[mt],E(t,e,n),t[rt].prev.line=t[rt].line,t[rt].prev[dt]=t[rt][ot][dt],t[rt].prev[ut]=t[rt][ot][ut],t[rt].line=e[rt].line,t[rt][ot][dt]=e[rt][ot][dt],t[rt][ot][ut]=e[rt][ot][ut],T[st][dt]=Pt(t[rt][ot][dt]-O[rt][ot][dt]+O[rt][at][dt])+"px",T[st][ut]=Pt(t[rt][ot][ut]-O[rt][ot][ut]+O[rt][at][ut])+"px";(r=e[mt])&&r!==a;)e[rt].animation&&e[rt].animation.stop(),e[rt].index++,e[rt].prev.line=e[rt].line,e[rt].prev[dt]=e[rt][ot][dt],e[rt].prev[ut]=e[rt][ot][ut],e[rt].line=r[rt].line,e[rt][ot][dt]=r[rt][ot][dt],e[rt][ot][ut]=r[rt][ot][ut],e[st][dt]=Pt(e[rt][ot][dt]-O[rt][ot][dt]+O[rt][at][dt]-e[rt][lt][dt])+"px",e[st][ut]=Pt(e[rt][ot][ut]-O[rt][ot][ut]+O[rt][at][ut]-e[rt][lt][ut])+"px",e=r;e[rt].animation&&e[rt].animation.stop(),e[rt].index++,e[rt].prev.line=e[rt].line,e[rt].prev[dt]=e[rt][ot][dt],e[rt].prev[ut]=e[rt][ot][ut],e[rt].line=t[rt].prev.line,e[rt][ot][dt]=t[rt].prev[dt],e[rt][ot][ut]=t[rt].prev[ut],e[st][dt]=Pt(e[rt][ot][dt]-O[rt][ot][dt]+O[rt][at][dt]-e[rt][lt][dt])+"px",e[st][ut]=Pt(e[rt][ot][ut]-O[rt][ot][ut]+O[rt][at][ut]-e[rt][lt][ut])+"px"}else if(0<n){for(a=t[mt],E(t,e,n),e=a,(r=t)[rt].prev.line=r[rt].line,r[rt].prev[dt]=r[rt][ot][dt],r[rt].prev[ut]=r[rt][ot][ut];e[rt].animation&&e[rt].animation.stop(),e[rt].index--,e[rt].prev.line=e[rt].line,e[rt].prev[dt]=e[rt][ot][dt],e[rt].prev[ut]=e[rt][ot][ut],e[rt].line=r[rt].prev.line,e[rt][ot][dt]=r[rt].prev[dt],e[rt][ot][ut]=r[rt].prev[ut],e[st][dt]=Pt(e[rt][ot][dt]-O[rt][ot][dt]+O[rt][at][dt]-e[rt][lt][dt])+"px",e[st][ut]=Pt(e[rt][ot][ut]-O[rt][ot][ut]+O[rt][at][ut]-e[rt][lt][ut])+"px",(e=(r=e)[mt])&&e!==T;);t[rt].line=r[rt].prev.line,t[rt][ot][dt]=r[rt].prev[dt],t[rt][ot][ut]=r[rt].prev[ut],T[st][dt]=Pt(t[rt][ot][dt]-O[rt][ot][dt]+O[rt][at][dt])+"px",T[st][ut]=Pt(t[rt][ot][ut]-O[rt][ot][ut]+O[rt][at][ut])+"px"}}else{n<0?(r=T[bt],a=e[bt]||e,E(t,e,n)):0<n&&(r=t[mt],a=T[bt]||t[mt],E(t,e,n)),function(t,e,n,i){for(t=t[n<0?mt:bt];t;){if(t!==i&&(t[rt].index+=n<0?1:-1),t===e)return;t=t[n<0?mt:bt]}}(t,r,n,T);for(var a,s,l=a=function(t,e){for(var n;(n=t[bt])&&n[rt]&&n[rt].line>=e;)t=n;return t}(a,n=a[rt].line),h=n,u=O,c=t,f=T,d=ut,p=ft,g=ct,m=0;l;)l!==f&&(l[rt]&&l[rt].animation&&l[rt].animation.stop(),s=l[rt][lt][d]+l[rt][ot][p]+l[rt][lt][g],0<m&&u[rt][ht][d]+m+s+u[rt][ht][g]>u[rt][ot][p]&&(h++,m=0),l[rt].line=h,l[rt].prev[d]=l[rt][ot][d],l[rt][ot][d]=u[rt][ot][d]-u[rt][at][d]+u[rt][ht][d]+m+l[rt][lt][d],(l===c?f:l)[st][d]=Pt(l[rt][ot][d]-u[rt][ot][d]+u[rt][at][d]-(l===c?0:l[rt][lt][d]))+"px",m+=s),l=l[mt];for(var b,v,_,y=a,w=R,S=O,C=t,P=T,A=dt,x=gt,M=pt,n=y,D=y[rt].line,k=0;y;)y!==P&&(b=y[rt].line,_=y[rt][lt][A]+y[rt][ot][x]+y[rt][lt][M],k=b===D?Ct.max(k,_):(w[b]=w[D]+k,D=b,_)),y=y[mt];for(0<k&&(w[D+1]=w[D]+k),y=n;y;)y!==P&&(v=w[b=y[rt].line],y[rt].prev[A]=y[rt][ot][A],"bottom"===y[rt].$.verticalAlign?y[rt][ot][A]=S[rt][ot][A]-S[rt][at][A]+w[b+1]-y[rt][ot][x]-y[rt][lt][M]:y[rt][ot][A]=S[rt][ot][A]-S[rt][at][A]+v+y[rt][lt][A],(y===C?P:y)[st][A]=Pt(y[rt][ot][A]-(y===C?0:y[rt][lt][A])-S[rt][ot][A]+S[rt][at][A])+"px"),y=y[mt]}It(o,i,{top:o[rt][ot][dt]-o[rt].prev[dt],left:o[rt][ot][ut]-o[rt].prev[ut]})}:function(t,e,n,i){var r,o,a=e,s=0,l=0;if(n<0){for(o=t[mt],E(t,e,n),t[rt].prev[z]=t[rt][ot][z],l=t[rt][lt][z]-e[rt][lt][z],t[rt][ot][z]=e[rt][ot][z]+l,T[st][z]=Pt(t[rt][ot][z]-O[rt][ot][z]+O[rt][at][z])+"px",s=t[rt][ot][V]-e[rt][ot][V],l+=t[rt][lt][p]-e[rt][lt][p];(r=e[mt])&&r!==o;)e[rt].animation&&e[rt].animation.stop(),e[rt].index++,e[rt].prev[z]=e[rt][ot][z],l+=e[rt][lt][z]-r[rt][lt][z],e[rt][ot][z]=r[rt][ot][z]+s+l,l+=e[rt][lt][p]-r[rt][lt][p],e[st][z]=Pt(e[rt][ot][z]-O[rt][ot][z]+O[rt][at][z]-e[rt][lt][z])+"px",s+=e[rt][ot][V]-r[rt][ot][V],e=r;e[rt].animation&&e[rt].animation.stop(),e[rt].index++,e[rt].prev[z]=e[rt][ot][z],e[rt][ot][z]=t[rt].prev[z]+s+l-t[rt][lt][z]+e[rt][lt][z],e[st][z]=Pt(e[rt][ot][z]-O[rt][ot][z]+O[rt][at][z]-e[rt][lt][z])+"px"}else if(0<n){for(o=t[mt],E(t,e,n),e=o,s=l=0,(r=t)[rt].prev[z]=r[rt][ot][z];e[rt].animation&&e[rt].animation.stop(),e[rt].index--,e[rt].prev[z]=e[rt][ot][z],l+=e[rt][lt][z]-r[rt][lt][z],e[rt][ot][z]=r[rt].prev[z]+s+l,e[st][z]=Pt(e[rt][ot][z]-O[rt][ot][z]+O[rt][at][z]-e[rt][lt][z])+"px",s+=-(r[rt][ot][V]-e[rt][ot][V]),l+=e[rt][lt][p]-r[rt][lt][p],(e=(r=e)[mt])&&e!==T;);t[rt][ot][z]=r[rt].prev[z]+s+l-r[rt][lt][z]+t[rt][lt][z],T[st][z]=Pt(t[rt][ot][z]-O[rt][ot][z]+O[rt][at][z])+"px"}(n={})[z]=a[rt][ot][z]-a[rt].prev[z],It(a,i,n)},it=St===x?Ft:kt;r=!(n=function(t){K=(d?t.touches[0]:t).clientX,Q=(d?t.touches[0]:t).clientY});A.start=A.options.callable?function(){f||(f=!(e=!1),A.handle=t)}:function(){f||(f=!0,e)||(e=!0,S(document,"touchstart",t,{capture:!0,passive:!1}),S(document,"mousedown",t,{capture:!0,passive:!1}))},A.stop=function(){A.handle=null,f=!1,e&&(a(document,"touchstart",t,{capture:!0,passive:!1}),a(document,"mousedown",t,{capture:!0,passive:!1}),e=!1),o(),g()}}function s(t,e){var n=this;if(!(n instanceof s))return new s(t,e);switch(n.options=e||{},(t=Pt(t)).toLowerCase()){case"unrestricted":o(n,St);break;case"horizontal":o(n,wt);break;case"vertical":o(n,yt);break;default:throw new TypeError("AreaSortable invalid sort mode:"+t)}n.start()}return window.Element&&!i.call(window.Element.prototype,rt)&&(window.Element.prototype[rt]=null),s.VERSION="1.2.2",s.prototype={constructor:s,options:null,start:null,handle:null,stop:null,dispose:function(){var t=this;return t.stop&&t.stop(),t.options=null,t.start=null,t.handle=null,t.stop=null,t}},s});var pngDataTable=void 0,PNG="image/png",JPEG="image/jpeg",b64PhysSignature1="AAlwSFlz",b64PhysSignature2="AAAJcEhZ",b64PhysSignature3="AAAACXBI",_P="p".charCodeAt(0),_H="H".charCodeAt(0),_Y="Y".charCodeAt(0),_S="s".charCodeAt(0);function changeDpiBlob(r,o){var e=r.slice(0,33);return new Promise(function(n,t){var i=new FileReader;i.onload=function(){var t=new Uint8Array(i.result),e=r.slice(33),t=changeDpiOnArray(t,o,r.type);n(new Blob([t,e],{type:r.type}))},i.readAsArrayBuffer(e)})}function changeDpiDataUrl(t,e){for(var n=(t=t.split(","))[0],t=t[1],i=void 0,r=void 0,o=!1,a=(-1!==n.indexOf(PNG)&&(i=PNG,0<=(a=detectPhysChunkFromDataUrl(t))?(r=4*Math.ceil((a+28)/3),o=!0):r=44),-1!==n.indexOf(JPEG)&&(i=JPEG,r=24),t.substring(0,r)),t=t.substring(r),s=atob(a),l=new Uint8Array(s.length),h=0;h<l.length;h++)l[h]=s.charCodeAt(h);return r=changeDpiOnArray(l,e,i,o),[n,",",btoa(String.fromCharCode.apply(String,_toConsumableArray(r))),t].join("")}function detectPhysChunkFromDataUrl(t){var e=t.indexOf(b64PhysSignature1);return-1===(e=-1===e?t.indexOf(b64PhysSignature2):e)?t.indexOf(b64PhysSignature3):e}function searchStartOfPhys(t){for(var e=t.length-1;4<=e;e--)if(9===t[e-4]&&t[e-3]===_P&&t[e-2]===_H&&t[e-1]===_Y&&t[e]===_S)return e-3}function changeDpiOnArray(t,e,n,i){var r;return n===JPEG?(t[13]=1,t[14]=e>>8,t[15]=255&e,t[16]=e>>8,t[17]=255&e,t):n===PNG?(e*=39.3701,(n=new Uint8Array(13))[0]=_P,n[1]=_H,n[2]=_Y,n[3]=_S,n[4]=e>>>24,n[5]=e>>>16,n[6]=e>>>8,n[7]=255&e,n[8]=n[4],n[9]=n[5],n[10]=n[6],n[11]=n[7],n[12]=1,e=calcCrc(n),(r=new Uint8Array(4))[0]=e>>>24,r[1]=e>>>16,r[2]=e>>>8,r[3]=255&e,i?(e=searchStartOfPhys(t),t.set(n,e),t.set(r,e+13),t):((i=new Uint8Array(4))[0]=0,i[1]=0,i[2]=0,i[3]=9,(e=new Uint8Array(54)).set(t,0),e.set(i,33),e.set(n,37),e.set(r,50),e)):void 0}if(!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.download=e()}(this,function(){return function e(t,n,i){function r(t){return String(t)}var o=window,a="application/octet-stream",s=i||a,i=!n&&!i&&t,l=document.createElement("a"),h=o.Blob||o.MozBlob||o.WebKitBlob||r,u=n||"download",h=h.call?h.bind(o):Blob;if("true"===String(this)&&(s=(t=[t,s])[0],t=t[1]),i&&i.length<2048){var c,u=i.split("/").pop().split("?")[0];if(l.href=i,-1!==l.href.indexOf(i))return(c=new XMLHttpRequest).open("GET",i,!0),c.responseType="blob",c.onload=function(t){e(t.target.response,u,a)},setTimeout(function(){c.send()},0),c}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(t)){if(!(2096103.424<t.length&&h!==r))return navigator.msSaveBlob?navigator.msSaveBlob(f(t),u):d(t);s=(t=f(t)).type||a}function f(t){for(var e=(t=t.split(/[:;,]/))[1],n=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),i=n.length,r=0,o=new Uint8Array(i);r<i;++r)o[r]=n.charCodeAt(r);return new h([o],{type:e})}function d(t,e){var n;return"download"in l?(l.href=t,l.setAttribute("download",u),l.className="download-js-link",l.innerHTML="downloading...",l.style.display="none",document.body.appendChild(l),setTimeout(function(){l.click(),document.body.removeChild(l),!0===e&&setTimeout(function(){o.URL.revokeObjectURL(l.href)},250)},66),!0):/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)?(t=t.replace(/^data:([\w\/\-\+]+)/,a),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0):(n=document.createElement("iframe"),document.body.appendChild(n),e||(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,a)),n.src=t,void setTimeout(function(){document.body.removeChild(n)},333))}if(n=t instanceof h?t:new h([t],{type:s}),navigator.msSaveBlob)return navigator.msSaveBlob(n,u);if(o.URL)d(o.URL.createObjectURL(n),!0);else{if("string"==typeof n||n.constructor===r)try{return d("data:"+s+";base64,"+o.btoa(n))}catch(t){return d("data:"+s+","+encodeURIComponent(n))}(i=new FileReader).onload=function(t){d(this.result)},i.readAsDataURL(n)}return!0}}),this.JpegMeta)throw Error("Library included multiple times");var QRCode,JpegMeta={stringIsClean:function(t){for(var e=0;e<t.length;e++)if(t.charCodeAt(e)<32)return!1;return!0},parseNum:function(t,e,n,i){var r,o,a=">"===t;for(void 0===n&&(n=0),void 0===i&&(i=e.length-n),r=a?n:n+i-1;a?r<n+i:n<=r;a?r++:r--)o=(o<<=8)+e.charCodeAt(r);return o},parseSnum:function(t,e,n,i){var r,o,a,s=">"===t;for(void 0===n&&(n=0),void 0===i&&(i=e.length-n),r=s?n:n+i-1;s?r<n+i:n<=r;s?r++:r--)o=(o<<=8)+((a=void 0===a?128==(128&e.charCodeAt(r)):a)?255&~e.charCodeAt(r):e.charCodeAt(r));return a?-1*(o+1):o},Rational:function(t,e){return this.num=t,this.den=e||1,this}};JpegMeta.Rational.prototype.toString=function(){return 0===this.num||1===this.den?""+this.num:1===this.num?this.num+" / "+this.den:this.num/this.den},JpegMeta.Rational.prototype.asFloat=function(){return this.num/this.den},JpegMeta.MetaGroup=function(t,e){return this.fieldName=t,this.description=e,this.metaProps={},this},JpegMeta.MetaGroup.prototype._addProperty=function(t,e,n){this[(t=new JpegMeta.MetaProp(t,e,n)).fieldName]=t,this.metaProps[t.fieldName]=t},JpegMeta.MetaGroup.prototype.toString=function(){return"[MetaGroup "+this.description+"]"},JpegMeta.MetaProp=function(t,e,n){return this.fieldName=t,this.description=e,this.value=n,this},JpegMeta.MetaProp.prototype.toString=function(){return""+this.value},this.JpegMeta.JpegFile=function(t,e){var n,i,r,o=this._SOS,a=(this.metaGroups={},this._binary_data=t,this.filename=e,0);if(this._binary_data.slice(0,2)!==this._SOI_MARKER)throw new Error("Doesn't look like a JPEG file. First two bytes are "+this._binary_data.charCodeAt(0)+","+this._binary_data.charCodeAt(1)+".");for(a+=2;a<this._binary_data.length&&(r=this._binary_data.charCodeAt(a++),i=this._binary_data.charCodeAt(a++),n=a,r==this._DELIM)&&i!==o;){for(a+=JpegMeta.parseNum(">",this._binary_data,a,2);a<this._binary_data.length;)if(this._binary_data.charCodeAt(a++)==this._DELIM&&0!=this._binary_data.charCodeAt(a++)){a-=2;break}(r=this._markers[i]?(this._markers[i][0],this._markers[i][1]):void 0)&&this[r](i,n+2,a-n-2)}if(void 0===this.general)throw Error("Invalid JPEG file.");return this},this.JpegMeta.JpegFile.prototype.toString=function(){return"[JpegFile "+this.filename+" "+this.general.type+" "+this.general.pixelWidth+"x"+this.general.pixelHeight+" Depth: "+this.general.depth+"]"},this.JpegMeta.JpegFile.prototype._SOI_MARKER="ÿØ",this.JpegMeta.JpegFile.prototype._DELIM=255,this.JpegMeta.JpegFile.prototype._EOI=217,this.JpegMeta.JpegFile.prototype._SOS=218,this.JpegMeta.JpegFile.prototype._sofHandler=function(t,e){if(void 0!==this.general)throw Error("Unexpected multiple-frame image");this._addMetaGroup("general","General"),this.general._addProperty("depth","Depth",JpegMeta.parseNum(">",this._binary_data,e,1)),this.general._addProperty("pixelHeight","Pixel Height",JpegMeta.parseNum(">",this._binary_data,e+1,2)),this.general._addProperty("pixelWidth","Pixel Width",JpegMeta.parseNum(">",this._binary_data,e+3,2)),this.general._addProperty("type","Type",this._markers[t][2])},this.JpegMeta.JpegFile.prototype._commentHandler=function(t,e,n){var i,r;for(n--,i=++e,r="";i<e+n;)r+=String.fromCharCode(this._binary_data.charCodeAt(i)),i++;this._addMetaGroup("comment","Comment"),this.comment._addProperty("comment","Comment",r)},this.JpegMeta.JpegFile.prototype._JFIF_IDENT="JFIF\0",this.JpegMeta.JpegFile.prototype._JFXX_IDENT="JFXX\0",this.JpegMeta.JpegFile.prototype._EXIF_IDENT="Exif\0",this.JpegMeta.JpegFile.prototype._types={1:["BYTE",1],2:["ASCII",1],3:["SHORT",2],4:["LONG",4],5:["RATIONAL",8],6:["SBYTE",1],7:["UNDEFINED",1],8:["SSHORT",2],9:["SLONG",4],10:["SRATIONAL",8],11:["FLOAT",4],12:["DOUBLE",8]},this.JpegMeta.JpegFile.prototype._tifftags={256:["Image width","ImageWidth"],257:["Image height","ImageLength"],258:["Number of bits per component","BitsPerSample"],259:["Compression scheme","Compression",{1:"uncompressed",6:"JPEG compression"}],262:["Pixel composition","PhotmetricInerpretation",{2:"RGB",6:"YCbCr"}],274:["Orientation of image","Orientation",{1:"Normal",2:"Reverse?",3:"Upside-down",4:"Upside-down Reverse",5:"90 degree CW",6:"90 degree CW reverse",7:"90 degree CCW",8:"90 degree CCW reverse"}],277:["Number of components","SamplesPerPixel"],284:["Image data arrangement","PlanarConfiguration",{1:"chunky format",2:"planar format"}],530:["Subsampling ratio of Y to C","YCbCrSubSampling"],531:["Y and C positioning","YCbCrPositioning",{1:"centered",2:"co-sited"}],282:["X Resolution","XResolution"],283:["Y Resolution","YResolution"],296:["Resolution Unit","ResolutionUnit",{2:"inches",3:"centimeters"}],273:["Image data location","StripOffsets"],278:["Number of rows per strip","RowsPerStrip"],279:["Bytes per compressed strip","StripByteCounts"],513:["Offset to JPEG SOI","JPEGInterchangeFormat"],514:["Bytes of JPEG Data","JPEGInterchangeFormatLength"],301:["Transfer function","TransferFunction"],318:["White point chromaticity","WhitePoint"],319:["Chromaticities of primaries","PrimaryChromaticities"],529:["Color space transformation matrix coefficients","YCbCrCoefficients"],532:["Pair of black and white reference values","ReferenceBlackWhite"],306:["Date and time","DateTime"],270:["Image title","ImageDescription"],271:["Make","Make"],272:["Model","Model"],305:["Software","Software"],315:["Person who created the image","Artist"],316:["Host Computer","HostComputer"],33432:["Copyright holder","Copyright"],34665:["Exif tag","ExifIfdPointer"],34853:["GPS tag","GPSInfoIfdPointer"]},this.JpegMeta.JpegFile.prototype._exiftags={36864:["Exif Version","ExifVersion"],40960:["FlashPix Version","FlashpixVersion"],40961:["Color Space","ColorSpace"],37121:["Meaning of each component","ComponentsConfiguration"],37122:["Compressed Bits Per Pixel","CompressedBitsPerPixel"],40962:["Pixel X Dimension","PixelXDimension"],40963:["Pixel Y Dimension","PixelYDimension"],37500:["Manufacturer notes","MakerNote"],37510:["User comments","UserComment"],40964:["Related audio file","RelatedSoundFile"],36867:["Date Time Original","DateTimeOriginal"],36868:["Date Time Digitized","DateTimeDigitized"],37520:["DateTime subseconds","SubSecTime"],37521:["DateTimeOriginal subseconds","SubSecTimeOriginal"],37522:["DateTimeDigitized subseconds","SubSecTimeDigitized"],33434:["Exposure time","ExposureTime"],33437:["FNumber","FNumber"],34850:["Exposure program","ExposureProgram"],34852:["Spectral sensitivity","SpectralSensitivity"],34855:["ISO Speed Ratings","ISOSpeedRatings"],34856:["Optoelectric coefficient","OECF"],37377:["Shutter Speed","ShutterSpeedValue"],37378:["Aperture Value","ApertureValue"],37379:["Brightness","BrightnessValue"],37380:["Exposure Bias Value","ExposureBiasValue"],37381:["Max Aperture Value","MaxApertureValue"],37382:["Subject Distance","SubjectDistance"],37383:["Metering Mode","MeteringMode"],37384:["Light Source","LightSource"],37385:["Flash","Flash"],37386:["Focal Length","FocalLength"],37396:["Subject Area","SubjectArea"],41483:["Flash Energy","FlashEnergy"],41484:["Spatial Frequency Response","SpatialFrequencyResponse"],41486:["Focal Plane X Resolution","FocalPlaneXResolution"],41487:["Focal Plane Y Resolution","FocalPlaneYResolution"],41488:["Focal Plane Resolution Unit","FocalPlaneResolutionUnit"],41492:["Subject Location","SubjectLocation"],41493:["Exposure Index","ExposureIndex"],41495:["Sensing Method","SensingMethod"],41728:["File Source","FileSource"],41729:["Scene Type","SceneType"],41730:["CFA Pattern","CFAPattern"],41985:["Custom Rendered","CustomRendered"],41986:["Exposure Mode","Exposure Mode"],41987:["White Balance","WhiteBalance"],41988:["Digital Zoom Ratio","DigitalZoomRatio"],41989:["Focal length in 35 mm film","FocalLengthIn35mmFilm"],41990:["Scene Capture Type","SceneCaptureType"],41991:["Gain Control","GainControl"],41992:["Contrast","Contrast"],41993:["Saturation","Saturation"],41994:["Sharpness","Sharpness"],41995:["Device settings description","DeviceSettingDescription"],41996:["Subject distance range","SubjectDistanceRange"],42016:["Unique image ID","ImageUniqueID"],40965:["Interoperability tag","InteroperabilityIFDPointer"]},this.JpegMeta.JpegFile.prototype._gpstags={0:["GPS tag version","GPSVersionID"],1:["North or South Latitude","GPSLatitudeRef"],2:["Latitude","GPSLatitude"],3:["East or West Longitude","GPSLongitudeRef"],4:["Longitude","GPSLongitude"],5:["Altitude reference","GPSAltitudeRef"],6:["Altitude","GPSAltitude"],7:["GPS time (atomic clock)","GPSTimeStamp"],8:["GPS satellites usedd for measurement","GPSSatellites"],9:["GPS receiver status","GPSStatus"],10:["GPS mesaurement mode","GPSMeasureMode"],11:["Measurement precision","GPSDOP"],12:["Speed unit","GPSSpeedRef"],13:["Speed of GPS receiver","GPSSpeed"],14:["Reference for direction of movement","GPSTrackRef"],15:["Direction of movement","GPSTrack"],16:["Reference for direction of image","GPSImgDirectionRef"],17:["Direction of image","GPSImgDirection"],18:["Geodetic survey data used","GPSMapDatum"],19:["Reference for latitude of destination","GPSDestLatitudeRef"],20:["Latitude of destination","GPSDestLatitude"],21:["Reference for longitude of destination","GPSDestLongitudeRef"],22:["Longitude of destination","GPSDestLongitude"],23:["Reference for bearing of destination","GPSDestBearingRef"],24:["Bearing of destination","GPSDestBearing"],25:["Reference for distance to destination","GPSDestDistanceRef"],26:["Distance to destination","GPSDestDistance"],27:["Name of GPS processing method","GPSProcessingMethod"],28:["Name of GPS area","GPSAreaInformation"],29:["GPS Date","GPSDateStamp"],30:["GPS differential correction","GPSDifferential"]},this.JpegMeta.JpegFile.prototype._iptctags={0:["Record Version","recordVersion"],3:["Object Type Reference","objectType"],4:["Object Attribute Reference","objectAttribute"],5:["Object Name","objectName"],7:["Edit Status","editStatus"],8:["Editorial Update","editorialUpdate"],10:["Urgency","urgency"],12:["Subject Reference","subjectRef"],15:["Category","category"],20:["Supplemental Category","supplCategory"],22:["Fixture Identifier","fixtureID"],25:["Keywords","keywords"],26:["Content Location Code","contentLocCode"],27:["Content Location Name","contentLocName"],30:["Release Date","releaseDate"],35:["Release Time","releaseTime"],37:["Expiration Date","expirationDate"],38:["Expiration Time","expirationTime"],40:["Special Instructions","specialInstructions"],42:["Action Advised","actionAdvised"],45:["Reference Service","refService"],47:["Reference Date","refDate"],50:["Reference Number","refNumber"],55:["Date Created","dateCreated"],60:["Time Created","timeCreated"],62:["Digital Creation Date","digitalCreationDate"],63:["Digital Creation Time","digitalCreationTime"],65:["Originating Program","originatingProgram"],70:["Program Version","programVersion"],75:["Object Cycle","objectCycle"],80:["By-line","byline"],85:["By-line Title","bylineTitle"],90:["City","city"],92:["Sub-location","sublocation"],95:["Province/State","state"],100:["Country Code","countryCode"],101:["Country Name","countryName"],103:["Original Transmission Reference","origTransRef"],105:["Headline","headline"],110:["Credit","credit"],115:["Source","source"],116:["Copyright Notice","copyrightNotice"],118:["Contact","contact"],120:["Caption/Abstract","caption"],122:["Writer/Editor","writerEditor"],125:["Rasterized Caption","rasterizedCaption"],130:["Image Type","imageType"],131:["Image Orientation","imageOrientation"],135:["Language Identifier","languageID"],150:["Audio Type","audioType"],151:["Audio Sampling Rate","audioSamplingRate"],152:["Audio Sampling Resolution","audioSamplingRes"],153:["Audio Duration","audioDuration"],154:["Audio Outcue","audioOutcue"],200:["Preview File Format","previewFileFormat"],201:["Preview File Format Version","previewFileFormatVer"],202:["Preview Data","previewData"]},this.JpegMeta.JpegFile.prototype._markers={192:["SOF0","_sofHandler","Baseline DCT"],193:["SOF1","_sofHandler","Extended sequential DCT"],194:["SOF2","_sofHandler","Progressive DCT"],195:["SOF3","_sofHandler","Lossless (sequential)"],197:["SOF5","_sofHandler","Differential sequential DCT"],198:["SOF6","_sofHandler","Differential progressive DCT"],199:["SOF7","_sofHandler","Differential lossless (sequential)"],200:["JPG",null,"Reserved for JPEG extensions"],201:["SOF9","_sofHandler","Extended sequential DCT"],202:["SOF10","_sofHandler","Progressive DCT"],203:["SOF11","_sofHandler","Lossless (sequential)"],205:["SOF13","_sofHandler","Differential sequential DCT"],206:["SOF14","_sofHandler","Differential progressive DCT"],207:["SOF15","_sofHandler","Differential lossless (sequential)"],196:["DHT",null,"Define Huffman table(s)"],204:["DAC",null,"Define arithmetic coding conditioning(s)"],208:["RST0",null,"Restart with modulo 8 count �0�"],209:["RST1",null,"Restart with modulo 8 count �1�"],210:["RST2",null,"Restart with modulo 8 count �2�"],211:["RST3",null,"Restart with modulo 8 count �3�"],212:["RST4",null,"Restart with modulo 8 count �4�"],213:["RST5",null,"Restart with modulo 8 count �5�"],214:["RST6",null,"Restart with modulo 8 count �6�"],215:["RST7",null,"Restart with modulo 8 count �7�"],216:["SOI",null,"Start of image"],217:["EOI",null,"End of image"],218:["SOS",null,"Start of scan"],219:["DQT",null,"Define quantization table(s)"],220:["DNL",null,"Define number of lines"],221:["DRI",null,"Define restart interval"],222:["DHP",null,"Define hierarchical progression"],223:["EXP",null,"Expand reference component(s)"],224:["APP0","_app0Handler","Reserved for application segments"],225:["APP1","_app1Handler"],226:["APP2",null],227:["APP3",null],228:["APP4",null],229:["APP5",null],230:["APP6",null],231:["APP7",null],232:["APP8",null],233:["APP9",null],234:["APP10",null],235:["APP11",null],236:["APP12",null],237:["IPTC","_iptcHandler","IPTC Photo Metadata"],238:["APP14",null],239:["APP15",null],240:["JPG0",null],241:["JPG1",null],242:["JPG2",null],243:["JPG3",null],244:["JPG4",null],245:["JPG5",null],246:["JPG6",null],247:["JPG7",null],248:["JPG8",null],249:["JPG9",null],250:["JPG10",null],251:["JPG11",null],252:["JPG12",null],253:["JPG13",null],254:["COM","_commentHandler","Comment"],1:["JPG13",null]},this.JpegMeta.JpegFile.prototype._addMetaGroup=function(t,e){return this[(t=new JpegMeta.MetaGroup(t,e)).fieldName]=t,this.metaGroups[t.fieldName]=t},this.JpegMeta.JpegFile.prototype._parseIfd=function(t,e,n,i,r,o,a){for(var s,l,h,u,c,f,d,p,g,m=JpegMeta.parseNum(t,e,n+i,2),b=this._addMetaGroup(o,a),v=0;v<m;v++)if(l=JpegMeta.parseNum(t,e,s=n+i+2+12*v,2),u=JpegMeta.parseNum(t,e,s+2,2),f=JpegMeta.parseNum(t,e,s+4,4),d=JpegMeta.parseNum(t,e,s+8,4),void 0!==this._types[u]){if(h=this._types[u][0],d=(c=this._types[u][1])*f<=4?s+8:n+d,"UNDEFINED"==h)_=void 0;else if("ASCII"==h)_=(_=e.slice(d,d+f)).split("\0")[0],JpegMeta.stringIsClean(_)||(_="");else{for(var _=new Array,y=0;y<f;y++,d+=c)"BYTE"!=h&&"SHORT"!=h&&"LONG"!=h||_.push(JpegMeta.parseNum(t,e,d,c)),"SBYTE"!=h&&"SSHORT"!=h&&"SLONG"!=h||_.push(JpegMeta.parseSnum(t,e,d,c)),"RATIONAL"==h&&(p=JpegMeta.parseNum(t,e,d,4),g=JpegMeta.parseNum(t,e,d+4,4),_.push(new JpegMeta.Rational(p,g))),"SRATIONAL"==h&&(p=JpegMeta.parseSnum(t,e,d,4),g=JpegMeta.parseSnum(t,e,d+4,4),_.push(new JpegMeta.Rational(p,g))),_.push();1===f&&(_=_[0])}r.hasOwnProperty(l)?b._addProperty(r[l][1],r[l][0],_):console.log("WARNING(jpegmeta.js): Unknown tag: ",l)}},this.JpegMeta.JpegFile.prototype._jfifHandler=function(t,e){if(void 0!==this.jfif)throw Error("Multiple JFIF segments found");this._addMetaGroup("jfif","JFIF"),this.jfif._addProperty("version_major","Version Major",this._binary_data.charCodeAt(e+5)),this.jfif._addProperty("version_minor","Version Minor",this._binary_data.charCodeAt(e+6)),this.jfif._addProperty("version","JFIF Version",this.jfif.version_major.value+"."+this.jfif.version_minor.value),this.jfif._addProperty("units","Density Unit",this._binary_data.charCodeAt(e+7)),this.jfif._addProperty("Xdensity","X density",JpegMeta.parseNum(">",this._binary_data,e+8,2)),this.jfif._addProperty("Ydensity","Y Density",JpegMeta.parseNum(">",this._binary_data,e+10,2)),this.jfif._addProperty("Xthumbnail","X Thumbnail",JpegMeta.parseNum(">",this._binary_data,e+12,1)),this.jfif._addProperty("Ythumbnail","Y Thumbnail",JpegMeta.parseNum(">",this._binary_data,e+13,1))},this.JpegMeta.JpegFile.prototype._app0Handler=function(t,e){this._binary_data.slice(e,e+5)==this._JFIF_IDENT?this._jfifHandler(t,e):this._JFXX_IDENT},this.JpegMeta.JpegFile.prototype._app1Handler=function(t,e){this._binary_data.slice(e,e+5)==this._EXIF_IDENT&&this._exifHandler(t,e+6)},JpegMeta.JpegFile.prototype._exifHandler=function(t,e){if(void 0!==this.exif)throw new Error("Multiple JFIF segments found");var n,i=this._binary_data.slice(e,e+2);if("II"===i)n="<";else{if("MM"!==i)throw new Error("Malformed TIFF meta-data. Unknown endianess: "+i);n=">"}if(42!==(i=JpegMeta.parseNum(n,this._binary_data,e+2,2)))throw new Error("Malformed TIFF meta-data. Bad magic: "+i);i=JpegMeta.parseNum(n,this._binary_data,e+4,4),this._parseIfd(n,this._binary_data,e,i,this._tifftags,"tiff","TIFF"),this.tiff.ExifIfdPointer&&this._parseIfd(n,this._binary_data,e,this.tiff.ExifIfdPointer.value,this._exiftags,"exif","Exif"),this.tiff.GPSInfoIfdPointer&&(this._parseIfd(n,this._binary_data,e,this.tiff.GPSInfoIfdPointer.value,this._gpstags,"gps","GPS"),this.gps.GPSLatitude&&(i=this.gps.GPSLatitude.value[0].asFloat()+1/60*this.gps.GPSLatitude.value[1].asFloat()+1/3600*this.gps.GPSLatitude.value[2].asFloat(),"S"===this.gps.GPSLatitudeRef.value&&(i=-i),this.gps._addProperty("latitude","Dec. Latitude",i)),this.gps.GPSLongitude)&&(n=this.gps.GPSLongitude.value[0].asFloat()+1/60*this.gps.GPSLongitude.value[1].asFloat()+1/3600*this.gps.GPSLongitude.value[2].asFloat(),"W"===this.gps.GPSLongitudeRef.value&&(n=-n),this.gps._addProperty("longitude","Dec. Longitude",n))},this.JpegMeta.JpegFile.prototype._iptcHandler=function(t,e,n){this._addMetaGroup("iptc","IPTC");for(var i,r,o,a=JpegMeta.parseNum("<",this._binary_data,e+4,1),s=0;s<n;s++)if(2==JpegMeta.parseNum("<",this._binary_data,r=e+s,1)&&(o=JpegMeta.parseNum("<",this._binary_data,r+1,1),tag_desc=this._iptctags[o])){for(a=0,i=2;i<n&&28!=JpegMeta.parseNum("<",this._binary_data,r+i,1)&&2!=JpegMeta.parseNum("<",this._binary_data,r+i+1,1);)i++,a++;a&&(o=(o=this._binary_data.slice(e+s+2,e+s+2+a)).replace("\0","").trim(),this.iptc._addProperty(tag_desc[1],tag_desc[0],o),s+=a-1)}},function(){function e(t){this.mode=o.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;e<n;e++){var i=[],r=this.data.charCodeAt(e);65536<r?(i[0]=240|(1835008&r)>>>18,i[1]=128|(258048&r)>>>12,i[2]=128|(4032&r)>>>6,i[3]=128|63&r):2048<r?(i[0]=224|(61440&r)>>>12,i[1]=128|(4032&r)>>>6,i[2]=128|63&r):128<r?(i[0]=192|(1984&r)>>>6,i[1]=128|63&r):i[0]=r,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function l(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function m(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}function u(t,e){this.totalCount=t,this.dataCount=e}function h(){this.buffer=[],this.length=0}function i(){var t=!1,e=navigator.userAgent;return/android/i.test(e)&&(t=!0,e=e.toString().match(/android ([0-9]\.[0-9])/i))&&e[1]?parseFloat(e[1]):t}e.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;e<n;e++)t.put(this.parsedData[e],8)}},l.prototype={addData:function(t){t=new e(t),this.dataList.push(t),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+n][e+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=b.getLostPoint(this);(0==n||i<t)&&(t=i,e=n)}return e},createMovieClip:function(t,e,n){var i=t.createEmptyMovieClip(e,n);this.make();for(var r=0;r<this.modules.length;r++)for(var o=+r,a=0;a<this.modules[r].length;a++){var s=+a;this.modules[r][a]&&(i.beginFill(0,100),i.moveTo(s,o),i.lineTo(1+s,o),i.lineTo(1+s,1+o),i.lineTo(s,1+o),i.endFill())}return i},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=b.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],r=t[n];if(null==this.modules[i][r])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[i+o][r+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},setupTypeNumber:function(t){for(var e=b.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++)i=!t&&1==(e>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i},setupTypeInfo:function(t,e){for(var e=this.errorCorrectLevel<<3|e,n=b.getBCHTypeInfo(e),i=0;i<15;i++){var r=!t&&1==(n>>i&1);i<6?this.modules[i][8]=r:i<8?this.modules[i+1][8]=r:this.modules[this.moduleCount-15+i][8]=r}for(i=0;i<15;i++)r=!t&&1==(n>>i&1),i<8?this.modules[8][this.moduleCount-i-1]=r:i<9?this.modules[8][15-i-1+1]=r:this.modules[8][15-i-1]=r;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,i=this.moduleCount-1,r=7,o=0,a=this.moduleCount-1;0<a;a-=2)for(6==a&&a--;;){for(var s,l,h=0;h<2;h++)null==this.modules[i][a-h]&&(s=!1,o<t.length&&(s=1==(t[o]>>>r&1)),l=b.getMask(e,i,a-h),this.modules[i][a-h]=s=l?!s:s,-1==--r)&&(o++,r=7);if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},l.PAD0=236,l.PAD1=17,l.createData=function(t,e,n){for(var i=u.getRSBlocks(t,e),r=new h,o=0;o<n.length;o++){var a=n[o];r.put(a.mode,4),r.put(a.getLength(),b.getLengthInBits(a.mode,t)),a.write(r)}for(var s=0,o=0;o<i.length;o++)s+=i[o].dataCount;if(r.getLengthInBits()>8*s)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*s+")");for(r.getLengthInBits()+4<=8*s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*s||(r.put(l.PAD0,8),r.getLengthInBits()>=8*s));)r.put(l.PAD1,8);return l.createBytes(r,i)},l.createBytes=function(t,e){for(var n=0,i=0,r=0,o=new Array(e.length),a=new Array(e.length),s=0;s<e.length;s++){var l=e[s].dataCount,h=e[s].totalCount-l,i=Math.max(i,l),r=Math.max(r,h);o[s]=new Array(l);for(var u=0;u<o[s].length;u++)o[s][u]=255&t.buffer[u+n];n+=l;var l=b.getErrorCorrectPolynomial(h),c=new m(o[s],l.getLength()-1).mod(l);for(a[s]=new Array(l.getLength()-1),u=0;u<a[s].length;u++){var f=u+c.getLength()-a[s].length;a[s][u]=0<=f?c.get(f):0}}for(var d=0,u=0;u<e.length;u++)d+=e[u].totalCount;for(var p=new Array(d),g=0,u=0;u<i;u++)for(s=0;s<e.length;s++)u<o[s].length&&(p[g++]=o[s][u]);for(u=0;u<r;u++)for(s=0;s<e.length;s++)u<a[s].length&&(p[g++]=a[s][u]);return p};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},c={L:1,M:0,Q:3,H:2},b={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;0<=b.getBCHDigit(e)-b.getBCHDigit(b.G15);)e^=b.G15<<b.getBCHDigit(e)-b.getBCHDigit(b.G15);return(t<<10|e)^b.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;0<=b.getBCHDigit(e)-b.getBCHDigit(b.G18);)e^=b.G18<<b.getBCHDigit(e)-b.getBCHDigit(b.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return b.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case 0:return(e+n)%2==0;case 1:return e%2==0;case 2:return n%3==0;case 3:return(e+n)%3==0;case 4:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case 5:return e*n%2+e*n%3==0;case 6:return(e*n%2+e*n%3)%2==0;case 7:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new m([1],0),n=0;n<t;n++)e=e.multiply(new m([1,r.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:case o.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i++)for(var r=0;r<e;r++){for(var o=0,a=t.isDark(i,r),s=-1;s<=1;s++)if(!(i+s<0||e<=i+s))for(var l=-1;l<=1;l++)r+l<0||e<=r+l||0==s&&0==l||a!=t.isDark(i+s,r+l)||o++;5<o&&(n+=3+o-5)}for(i=0;i<e-1;i++)for(r=0;r<e-1;r++){var h=0;t.isDark(i,r)&&h++,t.isDark(i+1,r)&&h++,t.isDark(i,r+1)&&h++,t.isDark(i+1,r+1)&&h++,0!=h&&4!=h||(n+=3)}for(i=0;i<e;i++)for(r=0;r<e-6;r++)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(n+=40);for(r=0;r<e;r++)for(i=0;i<e-6;i++)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(n+=40);for(var u=0,r=0;r<e;r++)for(i=0;i<e;i++)t.isDark(i,r)&&u++;return n+Math.abs(100*u/e/e-50)/5*10}},r={glog:function(t){if(t<1)throw new Error("glog("+t+")");return r.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;256<=t;)t-=255;return r.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},t=0;t<8;t++)r.EXP_TABLE[t]=1<<t;for(t=8;t<256;t++)r.EXP_TABLE[t]=r.EXP_TABLE[t-4]^r.EXP_TABLE[t-5]^r.EXP_TABLE[t-6]^r.EXP_TABLE[t-8];for(t=0;t<255;t++)r.LOG_TABLE[r.EXP_TABLE[t]]=t;m.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=r.gexp(r.glog(this.get(n))+r.glog(t.get(i)));return new m(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=r.glog(this.get(0))-r.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<t.getLength();i++)n[i]^=r.gexp(r.glog(t.get(i))+e);return new m(n,0).mod(t)}},u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(t,e){var n=u.getRsBlockTable(t,e);if(null==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=n.length/3,r=[],o=0;o<i;o++)for(var a=n[3*o+0],s=n[3*o+1],l=n[3*o+2],h=0;h<a;h++)r.push(new u(s,l));return r},u.getRsBlockTable=function(t,e){switch(e){case c.L:return u.RS_BLOCK_TABLE[4*(t-1)+0];case c.M:return u.RS_BLOCK_TABLE[4*(t-1)+1];case c.Q:return u.RS_BLOCK_TABLE[4*(t-1)+2];case c.H:return u.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},h.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var f=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],a=(d.prototype.draw=function(t){function e(t,e){var n,i=document.createElementNS("http://www.w3.org/2000/svg",t);for(n in e)e.hasOwnProperty(n)&&i.setAttribute(n,e[n]);return i}var n=this._htOption,i=this._el,r=t.getModuleCount(),o=(Math.floor(n.width/r),Math.floor(n.height/r),this.clear(),e("svg",{viewBox:"0 0 "+String(r)+" "+String(r),width:"100%",height:"100%",fill:n.colorLight}));o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(o),o.appendChild(e("rect",{fill:n.colorLight,width:"100%",height:"100%"})),o.appendChild(e("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(var a,s=0;s<r;s++)for(var l=0;l<r;l++)t.isDark(s,l)&&((a=e("use",{x:String(l),y:String(s)})).setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(a))},d.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},d),s="svg"===document.documentElement.tagName.toLowerCase()?a:"undefined"!=typeof CanvasRenderingContext2D?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function e(t,e){this._bIsPainted=!1,this._android=i(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null}var u,c;return this._android&&this._android<=2.1&&(u=1/window.devicePixelRatio,c=CanvasRenderingContext2D.prototype.drawImage,CanvasRenderingContext2D.prototype.drawImage=function(t,e,n,i,r,o,a,s,l){if("nodeName"in t&&/img/i.test(t.nodeName))for(var h=arguments.length-1;1<=h;h--)arguments[h]=arguments[h]*u;else void 0===s&&(arguments[1]*=u,arguments[2]*=u,arguments[3]*=u,arguments[4]*=u);c.apply(this,arguments)}),e.prototype.draw=function(t){var e=this._elImage,n=this._oContext,i=this._htOption,r=t.getModuleCount(),o=i.width/r,a=i.height/r,s=Math.round(o),l=Math.round(a);e.style.display="none",this.clear();for(var h=0;h<r;h++)for(var u=0;u<r;u++){var c=t.isDark(h,u),f=u*o,d=h*a;n.strokeStyle=c?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=c?i.colorDark:i.colorLight,n.fillRect(f,d,o,a),n.strokeRect(Math.floor(f)+.5,Math.floor(d)+.5,s,l),n.strokeRect(Math.ceil(f)-.5,Math.ceil(d)-.5,s,l)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&function(t,e){var n=this;n._fFail=e,n._fSuccess=t,null===n._bSupportDataURI?((e=document.createElement("img")).onabort=t=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)},e.onerror=t,e.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},e.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=="):!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}.call(this,t)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},e.prototype.round=function(t){return t&&Math.floor(1e3*t)/1e3},e}():(n.prototype.draw=function(t){for(var e=this._htOption,n=this._el,i=t.getModuleCount(),r=Math.floor(e.width/i),o=Math.floor(e.height/i),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<i;s++){a.push("<tr>");for(var l=0;l<i;l++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+r+"px;height:"+o+"px;background-color:"+(t.isDark(s,l)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),n.innerHTML=a.join("");var n=n.childNodes[0],h=(e.width-n.offsetWidth)/2,u=(e.height-n.offsetHeight)/2;0<h&&0<u&&(n.style.margin=u+"px "+h+"px")},n.prototype.clear=function(){this._el.innerHTML=""},n);function n(t,e){this._el=t,this._htOption=e}function d(t,e){this._el=t,this._htOption=e}(QRCode=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:c.H},e="string"==typeof e?{text:e}:e)for(var n in e)this._htOption[n]=e[n];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(s=a),this._android=i(),this._el=t,this._oQRCode=null,this._oDrawing=new s(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(t){this._oQRCode=new l(function(t,e){for(var n,i=1,r=(n=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(n.length!=t?3:0),o=0,a=f.length;o<=a;o++){var s=0;switch(e){case c.L:s=f[o][0];break;case c.M:s=f[o][1];break;case c.Q:s=f[o][2];break;case c.H:s=f[o][3]}if(r<=s)break;i++}if(f.length<i)throw new Error("Too long data");return i}(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=c}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).tinycolor=e()}(this,function(){"use strict";function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v=/^\s+/,_=/\s+$/;function y(t,e){var n,i,r,o,a,s,l,h,u,c,f,d,p,g;return e=e||{},(t=t||"")instanceof y?t:this instanceof y?(c={r:0,g:0,b:0},d=null,g=p=!1,f=S("object"==b(n="string"==typeof(n=t)?function(t){t=t.replace(v,"").replace(_,"").toLowerCase();var e,n=!1;if(w[t])t=w[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=R.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=R.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=R.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=R.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=R.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=R.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=R.hex8.exec(t))?{r:A(e[1]),g:A(e[2]),b:A(e[3]),a:k(e[4]),format:n?"name":"hex8"}:(e=R.hex6.exec(t))?{r:A(e[1]),g:A(e[2]),b:A(e[3]),format:n?"name":"hex"}:(e=R.hex4.exec(t))?{r:A(e[1]+""+e[1]),g:A(e[2]+""+e[2]),b:A(e[3]+""+e[3]),a:k(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=R.hex3.exec(t))&&{r:A(e[1]+""+e[1]),g:A(e[2]+""+e[2]),b:A(e[3]+""+e[3]),format:n?"name":"hex"}}(n):n)&&(I(n.r)&&I(n.g)&&I(n.b)?(h=n.r,u=n.g,f=n.b,c={r:255*C(h,255),g:255*C(u,255),b:255*C(f,255)},p=!0,g="%"===String(n.r).substr(-1)?"prgb":"rgb"):I(n.h)&&I(n.s)&&I(n.v)?(d=M(n.s),h=M(n.v),f=d,u=6*C(u=n.h,360),f=C(f,100),c={r:255*[h=C(h,100),l=h*(1-(u-=a=Math.floor(u))*f),s=h*(1-f),s,u=h*(1-(1-u)*f),h][f=a%6],g:255*[u,h,h,l,s,s][f],b:255*[s,s,u,h,h,l][f]},p=!0,g="hsv"):I(n.h)&&I(n.s)&&I(n.l)&&(u=d=M(n.s),h=a=M(n.l),s=C(s=n.h,360),u=C(u,100),h=C(h,100),0===u?i=r=o=h:(i=m(u=2*h-(h=h<.5?h*(1+u):h+u-h*u),h,s+1/3),r=m(u,h,s),o=m(u,h,s-1/3)),c={r:255*i,g:255*r,b:255*o},p=!0,g="hsl"),n.hasOwnProperty("a"))?n.a:1),l={ok:p,format:n.format||g,r:Math.min(255,Math.max(c.r,0)),g:Math.min(255,Math.max(c.g,0)),b:Math.min(255,Math.max(c.b,0)),a:f},this._originalInput=t,this._r=l.r,this._g=l.g,this._b=l.b,this._a=l.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||l.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),void(this._ok=l.ok)):new y(t,e);function m(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}}function i(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var i,r=Math.max(t,e,n),o=Math.min(t,e,n),a=(r+o)/2;if(r==o)i=l=0;else{var s=r-o,l=.5<a?s/(2-r-o):s/(r+o);switch(r){case t:i=(e-n)/s+(e<n?6:0);break;case e:i=(n-t)/s+2;break;case n:i=(t-e)/s+4}i/=6}return{h:i,s:l,l:a}}function r(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var i,r=Math.max(t,e,n),o=Math.min(t,e,n),a=r,s=r-o,l=0===r?0:s/r;if(r==o)i=0;else{switch(r){case t:i=(e-n)/s+(e<n?6:0);break;case e:i=(n-t)/s+2;break;case n:i=(t-e)/s+4}i/=6}return{h:i,s:l,v:a}}function e(t,e,n,i){return t=[x(Math.round(t).toString(16)),x(Math.round(e).toString(16)),x(Math.round(n).toString(16))],i&&t[0].charAt(0)==t[0].charAt(1)&&t[1].charAt(0)==t[1].charAt(1)&&t[2].charAt(0)==t[2].charAt(1)?t[0].charAt(0)+t[1].charAt(0)+t[2].charAt(0):t.join("")}function o(t,e,n,i){return[x(D(i)),x(Math.round(t).toString(16)),x(Math.round(e).toString(16)),x(Math.round(n).toString(16))].join("")}function t(t,e){return e=0===e?0:e||10,(t=y(t).toHsl()).s-=e/100,t.s=P(t.s),y(t)}function n(t,e){return e=0===e?0:e||10,(t=y(t).toHsl()).s+=e/100,t.s=P(t.s),y(t)}function a(t){return y(t).desaturate(100)}function s(t,e){return e=0===e?0:e||10,(t=y(t).toHsl()).l+=e/100,t.l=P(t.l),y(t)}function l(t,e){return e=0===e?0:e||10,(t=y(t).toRgb()).r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),y(t)}function h(t,e){return e=0===e?0:e||10,(t=y(t).toHsl()).l-=e/100,t.l=P(t.l),y(t)}function u(t,e){return e=((t=y(t).toHsl()).h+e)%360,t.h=e<0?360+e:e,y(t)}function c(t){return(t=y(t).toHsl()).h=(t.h+180)%360,y(t)}function f(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=y(t).toHsl(),i=[y(t)],r=360/e,o=1;o<e;o++)i.push(y({h:(n.h+o*r)%360,s:n.s,l:n.l}));return i}function d(t){var e=y(t).toHsl(),n=e.h;return[y(t),y({h:(n+72)%360,s:e.s,l:e.l}),y({h:(n+216)%360,s:e.s,l:e.l})]}function p(t,e,n){e=e||6,n=n||30;var i=y(t).toHsl(),r=360/n,o=[y(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(y(i));return o}function g(t,e){e=e||6;for(var n=(t=y(t).toHsv()).h,i=t.s,r=t.v,o=[],a=1/e;e--;)o.push(y({h:n,s:i,v:r})),r=(r+a)%1;return o}y.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t=(n=this.toRgb()).r/255,e=n.g/255,n=n.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((.055+t)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((.055+e)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((.055+n)/1.055,2.4))},setAlpha:function(t){return this._a=S(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),t=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+t+"%)":"hsva("+e+", "+n+"%, "+t+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),t=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+t+"%)":"hsla("+e+", "+n+"%, "+t+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){var e=this._r,n=this._g,i=this._b,r=this._a,e=[x(Math.round(e).toString(16)),x(Math.round(n).toString(16)),x(Math.round(i).toString(16)),x(D(r))];return t&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)&&e[3].charAt(0)==e[3].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0)+e[3].charAt(0):e.join("")},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*C(this._r,255))+"%",g:Math.round(100*C(this._g,255))+"%",b:Math.round(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*C(this._r,255))+"%, "+Math.round(100*C(this._g,255))+"%, "+Math.round(100*C(this._b,255))+"%)":"rgba("+Math.round(100*C(this._r,255))+"%, "+Math.round(100*C(this._g,255))+"%, "+Math.round(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(m[e(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+o(this._r,this._g,this._b,this._a),n=e;return"progid:DXImageTransform.Microsoft.gradient("+(this._gradientType?"GradientType = 1, ":"")+"startColorstr="+e+",endColorstr="+(t?"#"+o((e=y(t))._r,e._g,e._b,e._a):n)+")"},toString:function(t){var e=!!t,n=(t=t||this._format,!1),i=this._a<1&&0<=this._a;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),(n="hsv"===t?this.toHsvString():n)||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return y(this.toString())},_applyModification:function(t,e){return t=t.apply(null,[this].concat([].slice.call(e))),this._r=t._r,this._g=t._g,this._b=t._b,this.setAlpha(t._a),this},lighten:function(){return this._applyModification(s,arguments)},brighten:function(){return this._applyModification(l,arguments)},darken:function(){return this._applyModification(h,arguments)},desaturate:function(){return this._applyModification(t,arguments)},saturate:function(){return this._applyModification(n,arguments)},greyscale:function(){return this._applyModification(a,arguments)},spin:function(){return this._applyModification(u,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(p,arguments)},complement:function(){return this._applyCombination(c,arguments)},monochromatic:function(){return this._applyCombination(g,arguments)},splitcomplement:function(){return this._applyCombination(d,arguments)},triad:function(){return this._applyCombination(f,[3])},tetrad:function(){return this._applyCombination(f,[4])}},y.fromRatio=function(t,e){if("object"==b(t)){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]="a"===n?t[n]:M(t[n]));t=i}return y(t,e)},y.equals=function(t,e){return!(!t||!e)&&y(t).toRgbString()==y(e).toRgbString()},y.random=function(){return y.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},y.mix=function(t,e,n){return n=0===n?0:n||50,t=y(t).toRgb(),e=y(e).toRgb(),y({r:(e.r-t.r)*(n/=100)+t.r,g:(e.g-t.g)*n+t.g,b:(e.b-t.b)*n+t.b,a:(e.a-t.a)*n+t.a})},y.readability=function(t,e){return t=y(t),e=y(e),(Math.max(t.getLuminance(),e.getLuminance())+.05)/(Math.min(t.getLuminance(),e.getLuminance())+.05)},y.isReadable=function(t,e,n){var i=y.readability(t,e),r=!1;switch((n={level:e="AA"!==(e=((t=n||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e?"AA":e,size:t="small"!==(t=(t.size||"small").toLowerCase())&&"large"!==t?"small":t}).level+n.size){case"AAsmall":case"AAAlarge":r=4.5<=i;break;case"AAlarge":r=3<=i;break;case"AAAsmall":r=7<=i}return r},y.mostReadable=function(t,e,n){for(var i,r=null,o=0,a=(n=n||{}).includeFallbackColors,s=n.level,l=n.size,h=0;h<e.length;h++)(i=y.readability(t,e[h]))>o&&(o=i,r=y(e[h]));return y.isReadable(t,r,{level:s,size:l})||!a?r:(n.includeFallbackColors=!1,y.mostReadable(t,["#fff","#000"],n))};var w=y.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},m=y.hexNames=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}(w);function S(t){return t=parseFloat(t),isNaN(t)||t<0||1<t?1:t}function C(t,e){var n="string"==typeof(t="string"==typeof(n=t)&&-1!=n.indexOf(".")&&1===parseFloat(n)?"100%":t)&&-1!=t.indexOf("%");return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function P(t){return Math.min(1,Math.max(0,t))}function A(t){return parseInt(t,16)}function x(t){return 1==t.length?"0"+t:""+t}function M(t){return t<=1?100*t+"%":t}function D(t){return Math.round(255*parseFloat(t)).toString(16)}function k(t){return A(t)/255}var E,T,L,T="[\\s|\\(]+("+(E="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+E+")[,|\\s]+("+E+")\\s*\\)?",L="[\\s|\\(]+("+E+")[,|\\s]+("+E+")[,|\\s]+("+E+")[,|\\s]+("+E+")\\s*\\)?",R={CSS_UNIT:new RegExp(E),rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+L),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+L),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+L),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function I(t){return R.CSS_UNIT.exec(t)}return y}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Picker=e()}(this,function(){"use strict";function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=e,i=[],r=!0,e=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!n||i.length!==n);r=!0);}catch(t){e=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(e)throw o}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")}String.prototype.startsWith=String.prototype.startsWith||function(t){return 0===this.indexOf(t)},String.prototype.padStart=String.prototype.padStart||function(t,e){for(var n=this;n.length<t;)n=e+n;return n};var e={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function r(t,e){return(0<(e=1<arguments.length&&void 0!==e?e:1)?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString())||"0"}t(c,[{key:"printRGB",value:function(t){var e=(t?this.rgba:this.rgba.slice(0,3)).map(function(t,e){return r(t,3===e?3:0)});return t?"rgba("+e+")":"rgb("+e+")"}},{key:"printHSL",value:function(t){var n=[360,100,100,1],i=["","%","%",""],e=(t?this.hsla:this.hsla.slice(0,3)).map(function(t,e){return r(t*n[e],3===e?3:1)+i[e]});return t?"hsla("+e+")":"hsl("+e+")"}},{key:"printHex",value:function(t){var e=this.hex;return t?e:e.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(this._hsla)return this._rgba=c.hslToRgb(this._hsla);throw new Error("No color is set")},set:function(t){3===t.length&&(t[3]=1),this._rgba=t,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(this._rgba)return this._hsla=c.rgbToHsl(this._rgba);throw new Error("No color is set")},set:function(t){3===t.length&&(t[3]=1),this._hsla=t,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map(function(t,e){return(e<3?t:Math.round(255*t)).toString(16)}).map(function(t){return t.padStart(2,"0")}).join("")},set:function(t){this.rgba=c.hexToRgb(t)}}],[{key:"hexToRgb",value:function(t){var e=(t.startsWith("#")?t.slice(1):t).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(e.match(/^([0-9a-fA-F]{8})$/))return(e=e.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(t){return parseInt(t,16)}))[3]=e[3]/255,e;throw new Error("Unknown hex color; "+t)}},{key:"nameToRgb",value:function(t){return t=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),void 0===(t=e[t])?t:c.hexToRgb(t.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(t){var e=(t=u(t,4))[0],n=t[1],i=t[2],t=t[3],r=(e/=255,n/=255,i/=255,Math.max(e,n,i)),o=Math.min(e,n,i),a=void 0,s=void 0,l=(r+o)/2;if(r===o)a=s=0;else{var h=r-o,s=.5<l?h/(2-r-o):h/(r+o);switch(r){case e:a=(n-i)/h+(n<i?6:0);break;case n:a=(i-e)/h+2;break;case i:a=(e-n)/h+4}a/=6}return[a,s,l,t]}},{key:"hslToRgb",value:function(t){var e=(t=u(t,4))[0],n=t[1],i=t[2],t=t[3],r=void 0,o=void 0,a=void 0,s=(0===n?r=o=a=i:(r=(s=function(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t})(n=2*i-(i=i<.5?i*(1+n):i+n-i*n),i,e+1/3),o=s(n,i,e),a=s(n,i,e-1/3)),[255*r,255*o,255*a].map(Math.round));return s[3]=t,s}}]);var o=c;function c(t,e,n,i){h(this,c);var r,o,a,s,l;void 0!==t&&(Array.isArray(t)?this.rgba=t:void 0===n?(r=t&&""+t)&&((r=r.toLowerCase()).startsWith("hsl")?(a=r.match(/([\-\d\.e]+)/g).map(Number),s=(a=u(a,4))[0],l=a[1],o=a[2],a=a[3],this.hsla=[s/=360,l/=100,o/=100,a=void 0===a?1:a]):r.startsWith("rgb")?(s=r.match(/([\-\d\.e]+)/g).map(Number),o=(l=u(s,4))[0],a=l[1],s=l[2],l=l[3],this.rgba=[o,a,s,l=void 0===l?1:l]):r.startsWith("#")?this.rgba=c.hexToRgb(r):this.rgba=c.nameToRgb(r)||c.hexToRgb(r)):this.rgba=[t,e,n,void 0===i?1:i])}t(a,[{key:"add",value:function(t,e,n){t.addEventListener(e,n,!1),this._events.push({target:t,type:e,handler:n})}},{key:"remove",value:function(n,i,r){this._events=this._events.filter(function(t){var e=!0;return n&&n!==t.target&&(e=!1),i&&i!==t.type&&(e=!1),(e=(!r||r===t.handler)&&e)&&a._doRemove(t.target,t.type,t.handler),!e})}},{key:"destroy",value:function(){this._events.forEach(function(t){return a._doRemove(t.target,t.type,t.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(t,e,n){t.removeEventListener(e,n,!1)}}]);var n=a;function a(){h(this,a),this._events=[]}function s(t,o,a){var s=!1;function l(t,e,n){return Math.max(e,Math.min(t,n))}function n(t,e,n){var i,r;(s=!!n||s)&&(t.preventDefault(),t=(n=o.getBoundingClientRect()).width,i=n.height,r=e.clientX,e=e.clientY,r=l(r-n.left,0,t),e=l(e-n.top,0,i),a(r/t,e/i))}function e(t,e){1===(void 0===t.buttons?t.which:t.buttons)?n(t,t,e):s=!1}function i(t,e){1===t.touches.length?n(t,t.touches[0],e):s=!1}t.add(o,"mousedown",function(t){e(t,!0)}),t.add(o,"touchstart",function(t){i(t,!0)}),t.add(window,"mousemove",e),t.add(o,"touchmove",i),t.add(window,"mouseup",function(t){s=!1}),t.add(o,"touchend",function(t){s=!1}),t.add(o,"touchcancel",function(t){s=!1})}var l="keydown",f="mousedown",d="focusin";function p(t,e){return(e||document).querySelector(t)}function g(t){t.preventDefault(),t.stopPropagation()}function m(t,e,n,i,r){t.add(e,l,function(t){0<=n.indexOf(t.key)&&(r&&g(t),i(t))})}function b(t){h(this,b),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new n,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return t(b,[{key:"setOptions",value:function(t){var e=this;if(t){var n,i=this.settings;if(t instanceof HTMLElement)i.parent=t;else{i.parent&&t.parent&&i.parent!==t.parent&&(this._events.remove(i.parent),this._popupInited=!1);var r,o,a=t,s=i;for(r in a)s[r]=a[r];t.onChange&&(this.onChange=t.onChange),t.onDone&&(this.onDone=t.onDone),t.onOpen&&(this.onOpen=t.onOpen),t.onClose&&(this.onClose=t.onClose),(o=t.color||t.colour)&&this._setColor(o)}(o=i.parent)&&i.popup&&!this._popupInited?(this._events.add(o,"click",n=function(t){return e.openHandler(t)}),m(this._events,o,[" ","Spacebar","Enter"],n),this._popupInited=!0):t.parent&&!i.popup&&this.show()}}},{key:"openHandler",value:function(t){var e;this.show()&&(t&&t.preventDefault(),this.settings.parent.style.pointerEvents="none",e=t&&t.type===l?this._domEdit:this.domElement,setTimeout(function(){return e.focus()},100),this.onOpen)&&this.onOpen(this.colour)}},{key:"closeHandler",value:function(t){var e,n=t&&t.type,i=!1;t?n===f||n===d?(e=(this.__containedEvent||0)+100,t.timeStamp>e&&(i=!0)):(g(t),i=!0):i=!0,i&&this.hide()&&(this.settings.parent.style.pointerEvents="",n!==f&&this.settings.parent.focus(),this.onClose)&&this.onClose(this.colour)}},{key:"movePopup",value:function(t,e){this.closeHandler(),this.setOptions(t),e&&this.openHandler()}},{key:"setColor",value:function(t,e){this._setColor(t,{silent:e})}},{key:"_setColor",value:function(t,e){if(t="string"==typeof t?t.trim():t){e=e||{};var n=void 0;try{n=new o(t)}catch(t){if(e.failSilently)return;throw t}this.settings.alpha||((t=n.hsla)[3]=1,n.hsla=t),this.colour=this.color=n,this._setHSLA(null,null,null,null,e)}}},{key:"setColour",value:function(t,e){this.setColor(t,e)}},{key:"show",value:function(){var t,e,n;return!!this.settings.parent&&(this.domElement?(e=this._toggleDOM(!0),this._setPosition(),e):(e=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',(n=document.createElement("div")).innerHTML=e,t=n.firstElementChild,this.domElement=t,this._domH=p(".picker_hue",t),this._domSL=p(".picker_sl",t),this._domA=p(".picker_alpha",t),this._domEdit=p(".picker_editor input",t),this._domSample=p(".picker_sample",t),this._domOkay=p(".picker_done button",t),this._domCancel=p(".picker_cancel button",t),t.classList.add("layout_"+this.settings.layout),this.settings.alpha||t.classList.add("no_alpha"),this.settings.editor||t.classList.add("no_editor"),this.settings.cancelButton||t.classList.add("no_cancel"),this._ifPopup(function(){return t.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0))}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var n=this,i=this,r=this.domElement,o=this._events;function a(t,e,n){o.add(t,e,n)}function t(t){n._ifPopup(function(){return n.closeHandler(t)}),n.onDone&&n.onDone(n.colour)}a(r,"click",function(t){return t.preventDefault()}),s(o,this._domH,function(t,e){i._setHSLA(t)}),s(o,this._domSL,function(t,e){i._setHSLA(null,t,1-e)}),this.settings.alpha&&s(o,this._domA,function(t,e){i._setHSLA(null,null,null,1-e)});var e=this._domEdit;a(e,"input",function(t){i._setColor(this.value,{fromEditor:!0,failSilently:!0})}),a(e,"focus",function(t){this.selectionStart===this.selectionEnd&&this.select()}),this._ifPopup(function(){function t(t){return n.closeHandler(t)}function e(t){n.__containedEvent=t.timeStamp}a(window,f,t),a(window,d,t),m(o,r,["Esc","Escape"],t),a(r,f,e),a(r,d,e),a(n._domCancel,"click",t)}),a(this._domOkay,"click",t),m(o,r,["Enter"],t)}},{key:"_setPosition",value:function(){var n=this.settings.parent,i=this.domElement;n!==i.parentNode&&n.appendChild(i),this._ifPopup(function(t){"static"===getComputedStyle(n).position&&(n.style.position="relative");var e=!0===t?"popup_right":"popup_"+t;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(t){t===e?i.classList.add(t):i.classList.remove(t)}),i.classList.add(e)})}},{key:"_setHSLA",value:function(t,e,n,i,r){r=r||{};var o=this.colour,a=o.hsla;[t,e,n,i].forEach(function(t,e){!t&&0!==t||(a[e]=t)}),o.hsla=a,this._updateUI(r),this.onChange&&!r.silent&&this.onChange(o)}},{key:"_updateUI",value:function(t){if(this.domElement){t=t||{};var e=this.colour,n=e.hsla,i="hsl("+360*n[0]+", 100%, 50%)",r=e.hslString,o=e.hslaString,a=this._domH,s=this._domSL,l=this._domA,a=p(".picker_selector",a),h=p(".picker_selector",s),l=p(".picker_selector",l);f(0,a,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,f(0,h,n[1]),d(0,h,1-n[2]),s.style.color=r,d(0,l,1-n[3]);i=(a=r).replace("hsl","hsla").replace(")",", 0)");if(this._domA.style.background="linear-gradient("+[a,i]+"), linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em",!t.fromEditor){var h=this.settings.editorFormat,u=this.settings.alpha,c=void 0;switch(h){case"rgb":c=e.printRGB(u);break;case"hsl":c=e.printHSL(u);break;default:c=e.printHex(u)}this._domEdit.value=c}this._domSample.style.color=o}function f(t,e,n){e.style.left=100*n+"%"}function d(t,e,n){e.style.top=100*n+"%"}}},{key:"_ifPopup",value:function(t,e){this.settings.parent&&this.settings.popup?t&&t(this.settings.popup):e&&e()}},{key:"_toggleDOM",value:function(t){var e,n=this.domElement;return!!n&&((e=n.style.display!==(t=t?"":"none"))&&(n.style.display=t),e)}}]),b}),function(){function O(t,e,n){return t.call.apply(t.bind,arguments)}function N(e,n,t){var i;if(e)return 2<arguments.length?(i=Array.prototype.slice.call(arguments,2),function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,i),e.apply(n,t)}):function(){return e.apply(n,arguments)};throw Error()}function p(t,e,n){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?O:N).apply(null,arguments)}var s=Date.now||function(){return+new Date};function B(t,e){this.a=t,this.m=e||t,this.c=this.m.document}var G=!!window.FontFace;function l(t,e,n,i){if(e=t.c.createElement(e),n)for(var r in n)n.hasOwnProperty(r)&&("style"==r?e.style.cssText=n[r]:e.setAttribute(r,n[r]));return i&&e.appendChild(t.c.createTextNode(i)),e}function h(t,e,n){(t=(t=t.c.getElementsByTagName(e)[0])||document.documentElement).insertBefore(n,t.lastChild)}function n(t){t.parentNode&&t.parentNode.removeChild(t)}function g(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var o=!1,a=0;a<i.length;a+=1)if(e[r]===i[a]){o=!0;break}o||i.push(e[r])}for(e=[],r=0;r<i.length;r+=1){for(o=!1,a=0;a<n.length;a+=1)if(i[r]===n[a]){o=!0;break}o||e.push(i[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function o(t,e){for(var n=t.className.split(/\s+/),i=0,r=n.length;i<r;i++)if(n[i]==e)return!0;return!1}function P(t){var e;return"string"==typeof t.f?t.f:"https:"==("about:"==(e=t.m.location.protocol)?t.a.location.protocol:e)?"https:":"http:"}function A(t,e,n){function i(){a&&r&&(a(o),a=null)}e=l(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,o=null,a=n||null;G?(e.onload=function(){r=!0,i()},e.onerror=function(){r=!0,o=Error("Stylesheet failed to load"),i()}):setTimeout(function(){r=!0,i()},0),h(t,"head",e)}function i(t,e,n,i){var r,o,a=t.c.getElementsByTagName("head")[0];return a?(r=l(t,"script",{src:e}),o=!1,r.onload=r.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,n&&n(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&a.removeChild(r))},a.appendChild(r),setTimeout(function(){o||(o=!0,n&&n(Error("Script load timeout")))},i||5e3),r):null}function x(){this.a=0,this.c=null}function M(t){return t.a++,function(){t.a--,r(t)}}function D(t,e){t.c=e,r(t)}function r(t){0==t.a&&t.c&&(t.c(),t.c=null)}function a(t){this.a=t||"-"}function k(t,e){this.c=t,this.f=4,this.a="n",(t=(e||"n4").match(/^([nio])([1-9])$/i))&&(this.a=t[1],this.f=parseInt(t[2],10))}function u(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function m(t){return t.a+t.f}function c(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function J(t,e){this.c=t,this.f=t.m.document.documentElement,this.h=e,this.a=new a("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function b(t){var e,n,i;t.g&&(e=o(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")],e||n.push(t.a.c("wf","inactive")),g(t.f,n,i)),v(t,"inactive")}function v(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,m(n)):t.h[e]())}function H(){this.c={}}function f(t,e){this.c=t,this.f=e,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function d(t){h(t.c,"body",t.a)}function _(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+u(t.c)+";font-style:"+c(t)+";font-weight:"+t.f+"00;"}function y(t,e,n,i,r,o){this.g=t,this.j=e,this.a=i,this.c=n,this.f=r||3e3,this.h=o||void 0}function w(t,e,n,i,r,o,a){this.v=t,this.B=e,this.c=n,this.a=i,this.s=a||"BESbswy",this.f={},this.w=r||3e3,this.u=o||null,this.o=this.j=this.h=this.g=null,this.g=new f(this.c,this.s),this.h=new f(this.c,this.s),this.j=new f(this.c,this.s),this.o=new f(this.c,this.s),t=_(t=new k(this.a.c+",serif",m(this.a))),this.g.a.style.cssText=t,t=_(t=new k(this.a.c+",sans-serif",m(this.a))),this.h.a.style.cssText=t,t=_(t=new k("serif",m(this.a))),this.j.a.style.cssText=t,t=_(t=new k("sans-serif",m(this.a))),this.o.a.style.cssText=t,d(this.g),d(this.h),d(this.j),d(this.o)}a.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},y.prototype.start=function(){var r=this.c.m.document,o=this,a=s(),t=new Promise(function(n,i){!function e(){var t;s()-a>=o.f?i():r.fonts.load(c(t=o.a)+" "+t.f+"00 300px "+u(t.c),o.h).then(function(t){1<=t.length?n():setTimeout(e,25)},function(){i()})}()}),e=new Promise(function(t,e){setTimeout(e,o.f)});Promise.race([e,t]).then(function(){o.g(o.a)},function(){o.j(o.a)})};var S={D:"serif",C:"sans-serif"},e=null;function C(){var t;return null===e&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),e=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)),e}function E(t,e,n){for(var i in S)if(S.hasOwnProperty(i)&&e===t.f[S[i]]&&n===t.f[S[i]])return 1}function T(t,e){setTimeout(p(function(){n(this.g.a),n(this.h.a),n(this.j.a),n(this.o.a),e(this.a)},t),0)}function L(t,e,n){this.c=t,this.a=e,this.f=0,this.o=this.j=!1,this.s=n}w.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=s(),function t(e){var n=e.g.a.offsetWidth,i=e.h.a.offsetWidth;n===e.f.serif&&i===e.f["sans-serif"]||C()&&E(e,n,i)?s()-e.A>=e.w?C()&&E(e,n,i)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?T(e,e.v):T(e,e.B):setTimeout(p(function(){t(this)},e),50):T(e,e.v)}(this)};var R=null;function I(t){0==--t.f&&t.j&&(t.o?((t=t.a).g&&g(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),v(t,"active")):b(t.a))}function j(t){this.j=t,this.a=new H,this.h=0,this.f=this.g=!0}function U(t,e){this.c=t,this.a=e}function W(t,e){this.c=t,this.a=e}function X(t,e,n){this.c=t||e+"//fonts.googleapis.com/css",this.a=[],this.f=[],this.g=n||""}function q(t){this.f=t,this.a=[],this.c={}}L.prototype.g=function(t){var e=this.a;e.g&&g(e.f,[e.a.c("wf",t.c,m(t).toString(),"active")],[e.a.c("wf",t.c,m(t).toString(),"loading"),e.a.c("wf",t.c,m(t).toString(),"inactive")]),v(e,"fontactive",t),this.o=!0,I(this)},L.prototype.h=function(t){var e,n,i,r=this.a;r.g&&(e=o(r.f,r.a.c("wf",t.c,m(t).toString(),"active")),n=[],i=[r.a.c("wf",t.c,m(t).toString(),"loading")],e||n.push(r.a.c("wf",t.c,m(t).toString(),"inactive")),g(r.f,n,i)),v(r,"fontinactive",t),I(this)},j.prototype.load=function(t){this.c=new B(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes;var e,i=this,n=new J(this.c,t),r=t,o=[],t=r.timeout,o=((e=n).g&&g(e.f,[e.a.c("wf","loading")]),v(e,"loading"),function(t,e,n){var i,r,o=[];for(i in e)e.hasOwnProperty(i)&&(r=t.c[i])&&o.push(r(e[i],n));return o}(i.a,r,i.c)),a=new L(i.c,n,t);for(i.h=o.length,n=0,r=o.length;n<r;n++)o[n].load(function(t,e,n){var h=a,u=t,c=e,f=n,d=0==--(t=i).h;(t.f||t.g)&&setTimeout(function(){var t=f||null,e=c||{};if(0===u.length&&d)b(h.a);else{h.f+=u.length,d&&(h.j=d);for(var n=[],i=0;i<u.length;i++){var r,o=u[i],a=e[o.c],s=h.a,l=o;s.g&&g(s.f,[s.a.c("wf",l.c,m(l).toString(),"loading")]),v(s,"fontloading",l),s=(R=(s=null)===R?!!window.FontFace&&(l=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),r=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor),l?42<parseInt(l[1],10):!r):R)?new y(p(h.g,h),p(h.h,h),h.c,o,h.s,a):new w(p(h.g,h),p(h.h,h),h.c,o,h.s,t,a),n.push(s)}for(i=0;i<n.length;i++)n[i].start()}},0)})},U.prototype.load=function(a){var s,t,e=this,l=e.a.projectId,n=e.a.version;l?(s=e.c.m,i(this.c,(t=l,P(e.c)+"//"+(e.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"")+"/"+t+".js"+(n?"?v="+n:"")),function(t){t?a([]):(s["__MonotypeConfiguration__"+l]=function(){return e.a},function t(){if(s["__mti_fntLst"+l]){var e,n=s["__mti_fntLst"+l](),i=[];if(n)for(var r=0;r<n.length;r++){var o=n[r].fontfamily;null!=n[r].fontStyle&&null!=n[r].fontWeight?(e=n[r].fontStyle+n[r].fontWeight,i.push(new k(o,e))):i.push(new k(o))}a(i)}else setTimeout(function(){t()},50)}())}).id="__MonotypeAPIScript__"+l):a([])},W.prototype.load=function(t){for(var e=this.a.urls||[],n=this.a.families||[],i=this.a.testStrings||{},r=new x,o=0,a=e.length;o<a;o++)A(this.c,e[o],M(r));for(var s=[],o=0,a=n.length;o<a;o++)if((e=n[o].split(":"))[1])for(var l=e[1].split(","),h=0;h<l.length;h+=1)s.push(new k(e[0],l[h]));else s.push(new k(e[0]));D(r,function(){t(s,i)})};var Y={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},$={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},V={i:"i",italic:"i",n:"n",normal:"n"},z=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function K(t,e){this.c=t,this.a=e}var Q={Arimo:!0,Cousine:!0,Tinos:!0};function Z(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.f=e,this.a=[]}K.prototype.load=function(t){for(var e=new x,n=this.c,i=new X(this.a.api,P(n),this.a.text),r=this.a.families,o=i,a=r,s=a.length,l=0;l<s;l++){var h=a[l].split(":"),u=(3==h.length&&o.f.push(h.pop()),"");2==h.length&&""!=h[1]&&(u=":"),o.a.push(h.join(u))}for(var c=new q(r),f=c,d=f.f.length,p=0;p<d;p++){var g=f.f[p].split(":"),m=g[0].replace(/\+/g," "),b=["n4"];if(2<=g.length){var v,_,y=g[1],w=[];if(y)for(var S=(y=y.split(",")).length,C=0;C<S;C++)(_=(_=y[C]).match(/^[\w-]+$/)&&null!=(v=z.exec(_.toLowerCase()))?[_=null==(_=v[2])||""==_?"n":V[_],v=null==(v=v[1])||""==v?"4":$[v]||(isNaN(v)?"4":v.substr(0,1))].join(""):"")&&w.push(_);0<w.length&&(b=w),3==g.length&&(w=[],0<(g=(g=g[2])?g.split(","):w).length)&&(g=Y[g[0]])&&(f.c[m]=g)}for(f.c[m]||(g=Y[m])&&(f.c[m]=g),g=0;g<b.length;g+=1)f.a.push(new k(m,b[g]))}A(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),M(e)),D(e,function(){t(c.a,c.c,Q)})},Z.prototype.load=function(a){var t=this.a.id,s=this.c.m;t?i(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)a([]);else if(s.Typekit&&s.Typekit.config&&s.Typekit.config.fn){t=s.Typekit.config.fn;for(var e=[],n=0;n<t.length;n+=2)for(var i=t[n],r=t[n+1],o=0;o<r.length;o++)e.push(new k(i,r[o]));try{s.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}a(e)}},2e3):a([])},tt.prototype.load=function(l){var t=this.f.id,e=this.c.m,h=this;t?(e.__webfontfontdeckmodule__||(e.__webfontfontdeckmodule__={}),e.__webfontfontdeckmodule__[t]=function(t,e){for(var n,i,r,o=0,a=e.fonts.length;o<a;++o){var s=e.fonts[o];h.a.push(new k(s.name,(r=i=n=void 0,n=4,i="n",r=null,(s="font-weight:"+s.weight+";font-style:"+s.style)&&((r=s.match(/(normal|oblique|italic)/i))&&r[1]&&(i=r[1].substr(0,1).toLowerCase()),r=s.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?n=7:/[1-9]00/.test(r[1])&&(n=parseInt(r[1].substr(0,1),10))),i+n)))}l(h.a)},i(this.c,P(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+((e=this.c).m.location.hostname||e.a.location.hostname)+"/"+t+".js",function(t){t&&l([])})):l([])};var t=new j(window),F=(t.a.c.custom=function(t,e){return new W(e,t)},t.a.c.fontdeck=function(t,e){return new tt(e,t)},t.a.c.monotype=function(t,e){return new U(e,t)},t.a.c.typekit=function(t,e){return new Z(e,t)},t.a.c.google=function(t,e){return new K(e,t)},{load:p(t.load,t)});"function"==typeof define&&define.amd?define(function(){return F}):"undefined"!=typeof module&&module.exports?module.exports=F:(window.WebFont=F,window.WebFontConfig&&t.load(window.WebFontConfig))}();
(()=>{var n={156:()=>{var i,a;fabric.Canvas.prototype.historyProcessing=!0,fabric.Canvas.prototype.initialize=(i=fabric.Canvas.prototype.initialize,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.call(this,...t),this._historyInit(),this}),fabric.Canvas.prototype.dispose=(a=fabric.Canvas.prototype.dispose,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.call(this,...t),this._historyDispose(),this}),fabric.Canvas.prototype._historyNext=function(){var e={version:fabric.version,objects:this.getElementsJSON(!1,!1)};return e.objects.forEach(e=>{e.curved&&delete e.path}),JSON.stringify(e)},fabric.Canvas.prototype._historyEvents=function(){return{elementAdd:this.historySaveAction,elementRemove:this.historySaveAction,"object:modified":this.historySaveAction}},fabric.Canvas.prototype._historyInit=function(){this.historyUndo=[],this.historyRedo=[],this.historyNextState=this._historyNext(),this.on(this._historyEvents())},fabric.Canvas.prototype._historyDispose=function(){this.off(this._historyEvents())},fabric.Canvas.prototype.historySaveAction=function(){var e;this.historyProcessing||(e=this.historyNextState,this.isCustomized=this.initialElementsLoaded,this.historyUndo.push(e),this.historyNextState=this._historyNext(),this.fire("history:append",{json:e}))},fabric.Canvas.prototype.undo=function(e){this.historyProcessing=!0,this.deselectElement();var t=this.historyUndo.pop();t?(this.historyRedo.push(this._historyNext()),this.historyNextState=t,this._loadHistory(t,"history:undo",e)):this.historyProcessing=!1},fabric.Canvas.prototype.redo=function(e){this.historyProcessing=!0,this.deselectElement();var t=this.historyRedo.pop();t?(this.historyUndo.push(this._historyNext()),this.historyNextState=t,this._loadHistory(t,"history:redo",e)):this.historyProcessing=!1},fabric.Canvas.prototype._loadHistory=function(e,t,n){"string"==typeof e&&(e=JSON.parse(e)),this.clear(),this.addElements(e.objects,()=>{this.fire(t),this.historyProcessing=!1,n&&"function"==typeof n&&n()})},fabric.Canvas.prototype.clearHistory=function(){this.historyUndo=[],this.historyRedo=[],this.fire("history:clear")},fabric.Canvas.prototype.onHistory=function(){this.historyProcessing=!1,this.historySaveAction()},fabric.Canvas.prototype.offHistory=function(){this.historyProcessing=!0}},382:function(){var f=this;function s(e,t,n,i,a,s){var r=6<arguments.length&&void 0!==arguments[6]?arguments[6]:8,o=7<arguments.length&&void 0!==arguments[7]?arguments[7]:8,l=(i=i||{},f.sizeX||i.cornerSize||a.cornerSize),c=f.sizeY||i.cornerSize||a.cornerSize,d=l/2,p=c/2,h=.6*l,u=a.cornerIconColor||"#000000";e.save(),e.translate(t,n),e.rotate(fabric.util.degreesToRadians(a.angle)),e.fillStyle=i.cornerColor||a.cornerColor,e.beginPath(),e.roundRect?e.roundRect(-d+r,-p+o,l,c,4):e.rect(-d+r,-p+o,l,c),e.filter="drop-shadow(0px 0px 2px rgba(0,0,0, 0.3))",e.fill(),e.font=h+"px FontFPD",e.fillStyle=u,e.textAlign="left",e.textBaseline="top",e.filter="none",e.fillText(s,-.5*h+r,-.5*h+o),e.restore()}const e=(e,t,n,i,a)=>{i=i||{},e.save(),e.translate(t,n),e.rotate(fabric.util.degreesToRadians(a.angle)),e.fillStyle=i.cornerColor||a.cornerColor,e.beginPath(),e.roundRect?e.roundRect(-3,-7.5,6,15,4):e.rect(-3,-7.5,6,15),e.filter="drop-shadow(0px 0px 2px rgba(0,0,0, 0.3))",e.fill(),e.restore()},t=(e,t,n,i,a)=>{i=i||{},e.save(),e.translate(t,n),e.rotate(fabric.util.degreesToRadians(a.angle)),e.fillStyle=i.cornerColor||a.cornerColor,e.beginPath(),e.roundRect?e.roundRect(-7.5,-3,15,6,4):e.rect(-7.5,-3,15,6),e.filter="drop-shadow(0px 0px 2px rgba(0,0,0, 0.3))",e.fill(),e.restore()};fabric.Control.prototype.touchSizeX=60,fabric.Control.prototype.touchSizeY=60,fabric.Object.prototype.transparentCorners=!1,fabric.Object.prototype.controls.tl.cursorStyleHandler=()=>"pointer",fabric.Object.prototype.controls.tl.mouseDownHandler=function(e,t){t=t.target;t.canvas.duplicateElement(t)},fabric.Object.prototype.controls.tl.actionHandler=null,fabric.Object.prototype.controls.tl.render=function(e,t,n,i,a){a.canvas&&a.canvas.viewOptions&&"basic"===a.canvas.viewOptions.cornerControlsStyle?fabric.controlsUtils.renderCircleControl.call(this,e,t,n,i,a):s(e,t,n,i,a,String.fromCharCode("0xe94d"),-8,-8)},fabric.Object.prototype.controls.tr.cursorStyleHandler=()=>"pointer",fabric.Object.prototype.controls.tr.mouseDownHandler=function(e,t){t=t.target;t.canvas.removeElement(t)},fabric.Object.prototype.controls.tr.actionHandler=null,fabric.Object.prototype.controls.tr.render=function(e,t,n,i,a){a.canvas&&a.canvas.viewOptions&&"basic"===a.canvas.viewOptions.cornerControlsStyle?fabric.controlsUtils.renderCircleControl.call(this,e,t,n,i,a):s(e,t,n,i,a,String.fromCharCode("0xe907"),8,-8)},fabric.Object.prototype.controls.mtr.withConnection=!1,fabric.Object.prototype.controls.mtr.y=.5,fabric.Object.prototype.controls.mtr.offsetY=25,fabric.Object.prototype.controls.mtr.offsetX=-8,fabric.Object.prototype.controls.mtr.render=function(e,t,n,i,a){a.canvas&&a.canvas.viewOptions&&"basic"===a.canvas.viewOptions.cornerControlsStyle?fabric.controlsUtils.renderCircleControl.call(this,e,t,n,i,a):s(e,t,n,i,a,String.fromCharCode("0xe957"))},fabric.Object.prototype.controls.br.render=function(e,t,n,i,a){a.canvas&&a.canvas.viewOptions&&"basic"===a.canvas.viewOptions.cornerControlsStyle?fabric.controlsUtils.renderCircleControl.call(this,e,t,n,i,a):s(e,t,n,i,a,String.fromCharCode("0xe922"))},fabric.Object.prototype.controls.ml.render=e,fabric.Object.prototype.controls.mr.render=e,fabric.Object.prototype.controls.mt.render=t,fabric.Object.prototype.controls.mb.render=t,fabric.Textbox.prototype.controls.ml.render=e,fabric.Textbox.prototype.controls.mr.render=e,fabric.Object.prototype.controls.bl.visible=!1},106:()=>{fabric.Group.prototype.changeObjectColor=function(e,t){let n=[];return this.getObjects().forEach(e=>{e=tinycolor(e.fill);n.push(e.toHexString())}),n[e]=t,this.changeColor(n),n}},345:()=>{var i,t,n;fabric.Text.prototype.initialize=(i=fabric.Text.prototype.initialize,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.call(this,...t),this._TextInit(),this}),fabric.Text.prototype.toSVG=(n=fabric.Text.prototype.toSVG,function(){for(var e=arguments.length,w=new Array(e),t=0;t<e;t++)w[t]=arguments[t];if(this.curved&&this.path){let e=this.fontFamily.replace(/"/g,"'"),t=this.fontSize,n=this.fontStyle,i=this.fontWeight,a=this.fill,s=this.letterSpacing/10+"em",r=this.path,o=r.fill||"none",l=r.stroke||"none",c=r.strokeWidth||0,d=r.visible?"block":"none",p=this.path.path,h=fabric.util.getPathSegmentsInfo(p),u=h[h.length-1].length,f=(p="right"===this.pathSide?function(t){var n=[],i=t=>{var e,n=[];for(let e=0;e<t.length;e+=2)n.push([t[e],t[e+1]]);return e=n.pop(),n.reverse(),[n,e]},e="z"===t[t.length-1][0].toLowerCase(),a=(e&&(t=function(e){var t=e.length,n="Z"===e[t-1][0],[i,a]=[(i=e[0])[1],i[2]],s=(t=n?e[t-2]:e[t-1]).length,[t,s]=[t[s-2],t[s-1]];return!n||i===t&&a===s||(e.pop(),e.push(["L",i,a],["Z"])),path}(t)).pop(),t[t.length-1]),s=a.length,a=e?t[0]:["M",a[s-2],a[s-1]];n.push(a),t.reverse();for(let e=1;e<t.length;e++){var r=t[e].slice(1),o=t[e-1],l=o[0],[o,,]=i(o.slice(1)),[,r]=i(r),o=o.flat().concat(r);n.push([l,...o])}return e&&n.push(["z"]),n}(p=JSON.parse(JSON.stringify(p))):p).flat().join(" "),m=Math.random().toString(36).substr(2,9),g="auto",v=this.pathStartOffset,b=0;"center"===this.pathAlign?g="middle":"baseline"===this.pathAlign?g="auto":"ascender"===this.pathAlign?g="hanging":"descender"===this.pathAlign&&(g="auto",b=t/100*-22);let y="start";return"center"==this.textAlign&&(y="middle",v+=u/2),"right"==this.textAlign&&(y="end",v+=u),this._createBaseSVGMarkup(this.path?.path?[o&&"none"!==o||!l&&"none"!==l?`<path id="textOnPath${m}" display="${d}" fill="${o}" stroke="${l}" stroke-width="${c}" d="${f}" />`:`<defs>
          <path id="textOnPath${m}" d="${f}" />
        </defs>`,`<text 
                font-family="${e.replace(/"/g,"'")}" 
                fill="${a}"
                font-size="${t}" 
                font-style="${n}" 
                font-weight="${i}"
                letter-spacing="${s}"
                >
                  <textPath text-anchor="${y}" 
                  dominant-baseline="${g}" 
                  startOffset="${v}" 
                  href="#textOnPath${m}" 
                  xlink:href="#textOnPath${m}"> 
                  <tspan dy="${b}">${this.text}</tspan>
                  </textPath>
                </text>`]:[`<text 
              xml:space="preserve" 
              font-family="${e}" 
              font-size="${t}" 
              font-style="${n}" 
              font-weight="${i}" 
              > 
              ${this.addPaintOrder()}
              ${this.text}
              </text>`],{reviver:w[0],noStyle:!0,withShadow:!0})}return n.call(this,...w)}),fabric.Text.prototype._constrainScale=(t=fabric.Text.prototype._constrainScale,function(e){return e=t.call(this,e),void 0!==this.minFontSize&&parseFloat(Number(e*this.fontSize).toFixed(0))<this.minFontSize?this.minFontSize/this.fontSize:void 0!==this.maxFontSize&&parseFloat(Number(e*this.fontSize).toFixed(0))>this.maxFontSize?this.maxFontSize/this.fontSize:e}),fabric.Text.prototype._TextInit=function(){this.on({modified:e=>{var t,n;(t=this).curved||t.uniScalingUnlockable||(n=t.fontSize*t.scaleX,n=parseFloat(Number(n).toFixed(0)),t.scaleX=1,t.scaleY=1,t._clearCache(),t.set("fontSize",n),t.canvas&&t.canvas.fire("elementModify",{element:t,options:{fontSize:n}}))}})},fabric.Text.prototype._createTextCharSpan=function(e,t,n,i){t.fontWeight=this.fontWeight,t.fontStyle=this.fontStyle;var a=e!==e.trim()||e.match(/  +/g),a=this.getSvgSpanStyles(t,a);let s=(a+="underline"===this.textDecoration?" text-decoration: underline;":"")?'style="'+a+'"':"",r=t.deltaY,o="",l=fabric.Object.NUM_FRACTION_DIGITS;return r&&(o=' dy="'+fabric.util.toFixed(r,l)+'" '),['<tspan x="',fabric.util.toFixed(n,l),'" y="',fabric.util.toFixed(i,l),'" ',o,s,">",fabric.util.string.escapeXml(e),"</tspan>"].join("")}},601:()=>{var i;fabric.Textbox.prototype.initialize=(i=fabric.Textbox.prototype.initialize,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.call(this,...t),this._TextboxInit(),this}),fabric.Textbox.prototype._TextboxInit=function(){this.on({added:()=>{var e;this._calcWidth&&(this.set("width",1e3),e=this.calcTextWidth(),this.set("width",e),delete this._calcWidth)}})}},653:()=>{function e(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(e)}function t(e,t,n){var i;i=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==typeof i?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function i(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}var n=new WeakSet,a=new WeakSet;class s extends HTMLElement{constructor(){super(),e(this,a),e(this,n),t(this,"min",0),t(this,"max",10),t(this,"value",0),t(this,"step",1),t(this,"inputElem",null)}connectedCallback(){this.inputElem=document.createElement("input"),this.inputElem.type="range",this.inputElem.value=this.getAttribute("value"),this.inputElem.min=this.getAttribute("min"),this.inputElem.max=this.getAttribute("max"),this.inputElem.step=this.getAttribute("step"),this.append(this.inputElem),this.inputElem.addEventListener("input",i(this,n,r).bind(this)),i(this,a,o).call(this)}static get observedAttributes(){return["value","step","min","max"]}attributeChangedCallback(e,t,n){this.inputElem&&(this.inputElem[e]=n,i(this,a,o).call(this))}}function r(e){i(this,a,o).call(this),this.onInput&&this.onInput(e);e=new CustomEvent("onInput",{detail:Number(this.inputElem.value)});this.dispatchEvent(e)}function o(){this.inputElem.style.setProperty("--value",this.inputElem.value),this.inputElem.style.setProperty("--min",this.inputElem.min),this.inputElem.style.setProperty("--max",this.inputElem.max)}customElements.define("fpd-range-slider",s)}},i={};function rr(e){var t=i[e];return void 0!==t||(t=i[e]={exports:{}},n[e].call(t.exports,t,t.exports,rr)),t.exports}(()=>{"use strict";function e(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=document.body.querySelector(".fpd-snackbar-wrapper");n||((n=document.createElement("div")).className="fpd-snackbar-wrapper",document.body.append(n));const i=document.createElement("div");return i.className="fpd-snackbar fpd-shadow-1",i.innerHTML="<p>"+e+"</p>",i.addEventListener("click",e=>{i.remove()}),n.append(i),t&&setTimeout(function(){i.remove()},5e3),i}function H(e,t){return e*=2<arguments.length&&void 0!==arguments[2]?arguments[2]:72,"cm"==t?Math.round(e/2.54):"mm"==t?Math.round(e/25.4):Math.round(e)}function o(e,t){return e/=2<arguments.length&&void 0!==arguments[2]?arguments[2]:72,"cm"==t?Math.round(2.54*e):"mm"==t?Math.round(25.4*e):Math.round(e)}const l=function(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:document.body;i===document.body&&i.classList.add("fpd-overflow-hidden"),"prompt"===n?e=`
            <input type="text" placeholder="${e}" />
            <span class="fpd-btn"></span>
        `:"confirm"===n&&(e=`
            <div class="fpd-confirm-msg">${e}</div>
            <span class="fpd-btn fpd-confirm"></span>
        `);var a=`
        <div class="fpd-modal-inner fpd-shadow-3">
            <div class="fpd-modal-close">
                <span class="fpd-icon-close"></span>
            </div>
            <div class="fpd-modal-content">${e}</div>
        </div>
    `;const s=document.createElement("div");return s.className="fpd-modal-internal fpd-modal-overlay fpd-container "+(t?"fpd-fullscreen":""),s.innerHTML=a,s.dataset.type=n,i.append(s),h(s.querySelector(".fpd-modal-close"),["click"],e=>{i.classList.remove("fpd-overflow-hidden"),s.remove()}),s},c=e,z=(window.FPDSnackbar=e,window&&(window.FPDUtils={}),e=>"[object Object]"===Object.prototype.toString.call(e)),q=(t,n)=>{if(t&&"object"==typeof t){let e=!0;for(var i=0;i<n.length;++i){var a=n[i];if(!t.hasOwnProperty(a)){e=!1;break}}return e}return!1},d=(e,t)=>{var n={...e,...t};if(Object.keys(t).length)for(const i of Object.keys(n))z(n[i])&&e[i]&&t[i]&&(n[i]=d(e[i],t[i]));return n},V=(e,t,n)=>{if(t)return void 0===(t=(Array.isArray(t)?t:t.match(/([^[.\]])+/g)).reduce((e,t)=>e&&e[t],e))?n:t},U=e=>/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e),Z=(window&&(window.FPDUtils.isUrl=U),e=>{for(var t=e.concat(),n=0;n<t.length;++n)for(var i=n+1;i<t.length;++i)t[n]===t[i]&&t.splice(i--,1);return t}),W=e=>0===e||"string"==typeof e&&"0"===e,h=function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:()=>{},i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];(t="string"==typeof t?[t]:t).forEach(t=>{!(e instanceof HTMLElement)&&Array.from(e).length?e&&e.forEach&&e.forEach(e=>{e.addEventListener(t,n,i)}):e.addEventListener(t,n,i)})},s=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};window&&e.dispatchEvent(new CustomEvent(t,{detail:n})),window.jQuery&&e.container&&jQuery(e.container).trigger(t,Object.values(n))},u=function(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t&&(t instanceof HTMLElement?e.forEach(e=>{t.classList.add(e)}):t.forEach(t=>{e.forEach(e=>{t.classList.add(e)})})),t},p=function(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t&&(t instanceof HTMLElement?e.forEach(e=>{t.classList.remove(e)}):t.forEach(t=>{e.forEach(e=>{t.classList.remove(e)})})),t},f=function(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return t&&(t instanceof HTMLElement?e.forEach(e=>{t.classList.toggle(e,n)}):t.forEach(t=>{e.forEach(e=>{t.classList.toggle(e,n)})})),t},m=e=>void 0===e||null==e||("string"==typeof e?!e.trim().length:Array.isArray(e)?!e.length:"object"==typeof e&&!Object.keys(e).length),g=()=>{var t=!0;try{window.localStorage.length,window.localStorage.setItem("fpd-storage","just-testing")}catch(e){t=!1}return t},a=function(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e.url){var t=document.createElement("div");t.className="fpd-item fpd-hover-thumbnail",t.dataset.source=e.url,e.disableDraggable||t.classList.add("fpd-draggable"),e.title&&(t.dataset.title=e.title,t.setAttribute("aria-label",e.title));const n=document.createElement("picture");if(n.dataset.img=e.thumbnailUrl||e.url,t.append(n),!e.disablePrice){const n=document.createElement("span");n.className="fpd-price",n.innerHTML=e.price,t.append(n)}if(e.removable){const e=document.createElement("span");e.className="fpd-delete fpd-icon-remove",t.append(e)}return t}},R=function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e.currentViewInstance)return"";var i=e.currentViewInstance.options;if(document.querySelector(".fpd-upload-zone-content").contains(t)&&e.currentViewInstance.currentUploadZone){const t=e.currentViewInstance.fabricCanvas.getUploadZone(e.currentViewInstance.currentUploadZone);t&&t.price&&(n=t.price)}return(n=null==n?V(i,"customImageParameters.price",0):n)?Q(n,e.mainOptions.priceFormat):""},Y=(t,e,n)=>{var i=t.currentViewInstance;let a=i.options.customImageParameters;var s=i.fabricCanvas.getUploadZone(i.currentUploadZone);if(e>(a=s?d(a,s):a).maxW||e<a.minW||n>a.maxH||n<a.minH){t.loadingCustomImage=!1,t.mainBar&&(t.mainBar.toggleContentDisplay(!1),i.currentUploadZone)&&t.mainBar.toggleUploadZonePanel(!1);let e=t.translator.getTranslation("misc","uploaded_image_size_alert");return e=e.replace("%minW",a.minW).replace("%minH",a.minH).replace("%maxW",a.maxW).replace("%maxH",a.maxH),l(e),!1}return!0},G=e=>e.split(".").pop().toLowerCase().split("?")[0],J=(e,t)=>{var n=[];if("group"==e.type){const t=e.getObjects();1===t.length?n=!0===e.colors||1===e.colors?["#000"]:e.colors:(n=[],t.forEach(e=>{e=tinycolor(e.fill);n.push(e.toHexString())}))}else{if(e.__editorMode)return["#000"];n=e.colorLinkGroup&&t.colorLinkGroups[e.colorLinkGroup]?t.colorLinkGroups[e.colorLinkGroup].colors:!0===e.colors||1===e.colors?["#000"]:e.colors}return n},X=e=>{let t=e.fill;return"string"==typeof t?t:"object"==typeof t?t.source?"url("+(t=t.source.src)+")":t[0]:!0===e.colors&&"group"===e.type?tinycolor(e.getObjects()[0].fill):!1===t&&e.colors&&e.colors[0]?e.colors[0]:void 0},Q=(window&&(window.FPDUtils.pixelToUnit=o),function(a){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(isNaN(a)||"object"!=typeof s)return a;{var r=s.thousandSep||",",o=s.decimalSep||".";let e=a.toString().split("."),t=e[0],n=e[1],i="";if(void 0!==t){for(var l=t.length-1;0<=l;l--)i+=t.charAt(l);for((i=i.replace(/(\d{3})/g,"$1"+r)).slice(-r.length)==r&&(i=i.slice(0,-r.length)),t="",l=i.length-1;0<=l;l--)t+=i.charAt(l);void 0!==n&&0<n.length&&(1==n.length&&(n+="0"),t+=o+n)}return t=(s.currency||"&#36;%d").replace("%d",t.toString())}});class K{static defaults={imageLoadTimestamp:!1,stageWidth:900,stageHeight:600,editorMode:!1,editorBoxParameters:["left","top","angle","fill","width","height","fontSize","price"],fonts:[{name:"Arial"},{name:"Lobster",url:"google"}],facebookAppId:"",instagramClientId:"",instagramRedirectUri:"",instagramTokenUri:"",hexNames:{},selectedColor:"#f5f5f5",boundingBoxColor:"#2185d0",outOfBoundaryColor:"#990000",replaceInitialElements:!1,fileServerURL:null,responsive:!0,cornerIconColor:"#000000",langJSON:{},colorPickerPalette:[],actions:{left:["info","download","print","preview-lightbox","reset-product"],center:["undo","redo"],right:["zoom","ruler","guided-tour"]},mainBarModules:["products","images","text","designs","manage-layers"],initialActiveModule:"",maxValues:{},watermark:!1,priceFormat:{currency:"&#36;%d",decimalSep:".",thousandSep:","},mainBarContainer:!1,modalMode:!1,keyboardControl:!0,deselectActiveOnOutside:!0,uploadZonesTopped:!0,loadFirstProductInStage:!0,unsavedProductAlert:!1,hideDialogOnAdd:!0,toolbarPlacement:"smart",snapGridSize:[50,50],fabricCanvasOptions:{},namesNumbersDropdown:[],namesNumbersEntryPrice:0,colorSelectionPlacement:"",bulkVariationsPlacement:"",bulkVariations:{},toolbarDynamicContext:"body",boundingBoxProps:{strokeWidth:1},fitImagesInCanvas:!1,maxPrice:-1,inCanvasTextEditing:!0,openTextInputOnSelect:!1,designCategories:[],optionalView:!1,saveActionBrowserStorage:!0,pricingRules:[],uploadAgreementModal:!1,imageEditorSettings:{masks:[]},printingBox:null,printingBox:{},autoOpenInfo:!1,guidedTour:null,replaceColorsInColorGroup:!1,allowedImageTypes:["jpeg","png","svg","pdf"],pixabayApiKey:"",pixabayHighResImages:!1,pixabayLang:"en",imageSizeTooltip:!1,highlightEditableObjects:"",applyFillWhenReplacing:!0,layouts:[],dynamicViewsOptions:{unit:"mm",formats:[],pricePerArea:0,minWidth:0,minHeight:0,maxWidth:1e4,maxHeight:1e4},enableDynamicViews:!1,disableTextEmojis:!1,smartGuides:!0,usePrintingBoxAsBounding:!1,productsJSON:null,designsJSON:null,customizationRequiredRule:"any",swapProductConfirmation:!1,textLinkGroupProps:[],textTemplates:[],multiSelection:!1,multiSelectionColor:"#54dfe6",canvasHeight:"auto",maxCanvasHeight:.8,mobileGesturesBehaviour:"none",imageQualityRatings:null,splitMultiSVG:!1,cornerControlsStyle:"advanced",downloadFilename:"Product",autoFillUploadZones:!1,dragDropImagesToUploadZones:!1,responsiveBreakpoints:{small:768,medium:1024},dynamicDesigns:{},customTextAsTextbox:!1,viewThumbnailsWrapper:"",elementParameters:{objectCaching:!1,z:-1,price:0,colors:!1,removable:!1,draggable:!1,rotatable:!1,resizable:!1,copyable:!1,zChangeable:!1,boundingBox:!1,boundingBoxMode:"clipping",autoCenter:!1,replace:"",replaceInAllViews:!1,autoSelect:!1,topped:!1,colorPrices:{},colorLinkGroup:!1,patterns:[],sku:"",excludeFromExport:!1,showInColorSelection:!1,locked:!1,uniScalingUnlockable:!1,fixed:!1,originX:"center",originY:"center",cornerSize:24,fill:!1,lockUniScaling:!0,pattern:!1,top:0,left:0,angle:0,flipX:!1,flipY:!1,opacity:1,scaleX:1,scaleY:1},textParameters:{maxLength:0,curved:!1,curvable:!1,curveRadius:80,curveReverse:!1,maxLines:0,textBox:!1,textPlaceholder:!1,numberPlaceholder:!1,letterSpacing:0,chargeAfterEditing:!1,minFontSize:1,textTransform:"none",widthFontSize:0,maxFontSize:200,shadowColor:"",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textLinkGroup:"",strokeColors:[],editable:!0,fontFamily:"Arial",fontSize:18,lineHeight:1,fontWeight:"normal",fontStyle:"normal",textDecoration:"normal",padding:10,textAlign:"left",stroke:null,strokeWidth:0,charSpacing:0},imageParameters:{uploadZone:!1,filter:null,scaleMode:"fit",resizeToW:0,resizeToH:0,advancedEditing:!1,uploadZoneMovable:!1,uploadZoneRemovable:!1,padding:0,minScaleLimit:.01},customImageParameters:{minW:100,minH:100,maxW:1e4,maxH:1e4,minDPI:72,maxSize:10,autoCenter:!0},customTextParameters:{autoCenter:!0},customAdds:{designs:!0,uploads:!0,texts:!0,drawing:!0},qrCodeProps:{autoCenter:!0,draggable:!0,removable:!0,resizable:!0}};static merge(){return d(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}static getParameterKeys(){var e=Object.keys(this.defaults.elementParameters),t=Object.keys(this.defaults.imageParameters),n=Object.keys(this.defaults.textParameters);return(e=e.concat(t)).concat(n)}}function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(e)}function _(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}window&&(window.FPDOptions=K);var $,ee,te,ne,ie=new WeakSet,ae=new WeakSet,se=new WeakSet;class re{constructor(e){n(this,se),n(this,ae),n(this,ie),this.fpdInstance=e,h(e,["elementModify","productCreate","elementAdd","elementRemove","viewCreate","viewRemove","elementFillChange","textLinkApply"],this.doPricingRules.bind(this))}doPricingRules(){const r=this.fpdInstance.mainOptions.dynamicViewsOptions?this.fpdInstance.mainOptions.dynamicViewsOptions.unit:"mm";this.fpdInstance.pricingRulesPrice=0;var e=this.fpdInstance.mainOptions.pricingRules;e&&0<e.length&&e.forEach(n=>{var i,a,s;n.property&&n.target&&(i=[],"canvasSize"==n.property?i=this.fpdInstance.viewInstances:void 0!==n.target.elements&&"#"===n.target.elements.charAt(0)?i.push(this.fpdInstance.currentViewInstance.fabricCanvas.getElementByTitle(n.target.elements.replace("#",""),n.target.views)):i=void 0!==n.target.elements&&-1!==n.target.elements.search("custom")?this.fpdInstance.getCustomElements(n.target.elements.replace("custom","").toLowerCase(),n.target.views,!1):this.fpdInstance.getElements(n.target.views,n.target.elements,!1),s=!1,-1!==["elementsLength","colorsLength"].indexOf(n.property)&&(s=!0),i.forEach((e,t)=>{!e||s&&0<t||(e.hasOwnProperty("element")&&(e=e.element),"textLength"===n.property?a=e.text?e.text.replace(/\s/g,"").length:null:"linesLength"===n.property&&(a=e.text?e.text.split("\n").length:null),"fontSize"===n.property?a=e.text?e.fontSize:null:"imageSize"===n.property?a="image"===e.getType()&&e.title?{width:e.width,height:e.height}:null:"imageSizeScaled"===n.property?a="image"===e.getType()&&e.title?{width:e.width*e.scaleX,height:e.height*e.scaleY}:null:"canvasSize"===n.property?a={width:o(e.options.stageWidth,r),height:o(e.options.stageHeight,r)}:"pattern"===n.property?a=e.pattern:"elementsLength"===n.property?a=i.length:"colorsLength"===n.property&&(a=this.fpdInstance.getUsedColors(n.target.views).length),null!=a&&(n.rules.forEach(e=>{e.property=a}),"any"===n.type?n.rules.some(_(this,ie,oe).bind(this)):n.rules.forEach(_(this,ie,oe).bind(this))))}))}),this.fpdInstance.calculatePrice()}}function oe(e,t){return!!_(this,ae,le).call(this,e.operator,e.property,e.value)&&("number"==typeof e.price&&(this.fpdInstance.pricingRulesPrice+=e.price),!0)}function le(t,n,i){var e,a;return"object"==typeof i?(e=Object.keys(i),a=null,e.forEach(e=>{!1!==a&&(a=_(this,se,ce).call(this,t,n[e],i[e]))}),a):_(this,se,ce).call(this,t,n,i)}function ce(e,t,n){return"="===e?t===n:">"===e?n<t:"<"===e?t<n:">="===e?n<=t:"<="===e?t<=n:void 0}rr(382),rr(106),rr(345);function de(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=1,s=0!==(n="number"!=typeof n?0:n),r=0!==(i="number"!=typeof i?0:i),a="cover"===(4<arguments.length&&void 0!==arguments[4]?arguments[4]:"fit")?n-e<i-t?s?Math.max(n/e,i/t):1:r?Math.max(n/e,i/t):1:t<e?s?Math.min(n/e,i/t):1:r?Math.min(n/e,i/t):1;return parseFloat(a.toFixed(10))}window&&(window.FPDFabricUtils={getScaleByDimesions:de}),fabric.IText.prototype.initialize=($=fabric.IText.prototype.initialize,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $.call(this,...t),this._ITextInit(),this}),fabric.IText.prototype._ITextInit=function(){this.on({added:()=>{this.setCurvedTextPath()},"editing:entered":()=>{this.canvas.viewOptions.inCanvasTextEditing||this.exitEditing(),this.curved&&this.exitEditing()},changed:()=>{var e;if(0!=this.maxLines&&this.textLines.length>this.maxLines&&(e=this.textLines.slice(0,this.maxLines),this.set("text",e.join("\n")),this.exitEditing()),0!=this.maxLength&&this.text.length>this.maxLength&&(this.set("text",this.text.substr(0,this.maxLength)),this.exitEditing()),this.canvas.viewOptions.disableTextEmojis){let e=this.text.replace(FPDEmojisRegex,"");e=e.replace(String.fromCharCode(65039),""),this.set("text",e)}}})},fabric.IText.prototype.setCurvedTextPath=function(){var e;this.curved&&(e=new fabric.Path("M0,0m"+-(e=this.curveRadius)+",0a"+e+","+e+" 0 1,0 "+2*e+",0a"+e+","+e+" 0 1,0 "+2*-e+",0",{fill:"transparent",strokeWidth:1,stroke:"rgba(0,0,0, 0.1)",visible:!1}),this.set("path",e),this.setCurvedTextPosition())},fabric.IText.prototype.setCurvedTextPosition=function(){var e;this.curved&&this.path&&(this.pathSide=this.curveReverse?"left":"right",e=this.curveReverse?Math.PI*this.curveRadius*2*.25:Math.PI*this.curveRadius/2,this.pathStartOffset=e-this.calcTextWidth()/2,this.pathAlign="center")},rr(601),fabric.Object.propertiesToInclude=["_isInitial","lockMovementX","lockMovementY","lockRotation","lockScalingX","lockScalingY","lockScalingFlip","lockUniScaling","resizeType","boundingBox","boundingBoxMode","selectable","evented","title","editable","cornerColor","cornerIconColor","borderColor","isEditable","hasUploadZone","cornerSize","source","_optionsSet"],fabric.Object.prototype._limitModifyOpts={},fabric.Object.prototype.__editorMode=!1,fabric.Object.prototype.initialize=(ee=fabric.Object.prototype.initialize,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee.call(this,...t),this._elementInit(),this}),fabric.Object.prototype._elementInit=function(){this.on({added:()=>{!this.isCustom||this.hasUploadZone||this.replace||(this.copyable=this.originParams.copyable=!0)},moving:()=>{this._checkContainment()},rotating:()=>{this._checkContainment()},scaling:()=>{this._checkContainment()},selected:()=>{this._elementControls()}})},fabric.Object.prototype._elementControls=function(){let e=Boolean(!this.lockUniScaling||this.__editorMode),t=Boolean(!this.lockUniScaling||this.__editorMode),n=Boolean(this.copyable),i=Boolean(this.removable||this.__editorMode),a=Boolean((this.resizable||this.__editorMode)&&!this.curved),s=Boolean(this.rotatable||this.__editorMode);this.textBox&&!this.curved&&(e=!0),this.canvas&&"basic"==this.canvas.viewOptions.cornerControlsStyle&&(this.controls.mtr.offsetX=0,this.cornerSize=16),"printing-boxes"!=this.name&&"view-mask"!=this.name||(e=!1,t=!1,s=!1,n=!1,i=!1),this.setControlsVisibility({ml:e,mr:e,mt:t,mb:t,tr:i,tl:n,mtr:s,br:a})},fabric.Object.prototype.getType=function(e){return"text"===(e=e||this.type)||"i-text"===e||"textbox"===e?"text":"image"},fabric.Object.prototype.isSVG=function(){return"group"===this.type||"path"===this.type||this.source&&this.source.includes(".svg")},fabric.Object.prototype.isColorizable=function(){return"text"===this.getType()?"text":!!this.source&&(1==this.source.split(".").length?this.source.includes("data:image/png;")?"dataurl":this.fill=this.colors=!1:this.source.replace(/\?.*$/,"").includes(".png")||this.isSVG()?this.isSVG()?"svg":"png":this.fill=this.colors=!1)},fabric.Object.prototype.hasColorSelection=function(){return(Array.isArray(this.colors)||Boolean(this.colors)||this.colorLinkGroup||this.__editorMode)&&!1!==this.isColorizable()},fabric.Object.prototype.checkEditable=function(e){return"object"==typeof(e=e||this).colors||!0===e.colors||1==e.colors||e.removable||e.draggable||e.resizable||e.rotatable||e.zChangeable||e.advancedEditing||e.editable||e.uploadZone||e.colorLinkGroup&&0<e.colorLinkGroup.length||e.__editorMode},fabric.Object.prototype.changeColor=function(e){let n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];var t=this.isColorizable();if("string"==typeof e&&/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(e)&&(e=tinycolor(e).toHexString()),"text"===this.getType())"object"==typeof e&&(e=e[0]),this.set("fill",e),this.canvas.renderAll(),this.pattern=null;else if("group"==this.type&&"object"==typeof e){const n=this.getObjects();e.forEach((e,t)=>{n[t]&&n[t].set("fill",e)}),this.canvas.renderAll(),this.svgFill=e,delete this.fill}else"string"!=typeof(e="object"==typeof e?e[0]:e)&&(e=!1),"png"==t||"dataurl"==t?(this.filters=[],e&&this.filters.push(new fabric.Image.filters.BlendColor({mode:"tint",color:e})),this.applyFilters(),this.canvas.renderAll(),this.fill=e):"svg"==t&&(this.set("fill",e),this.canvas.renderAll());this.canvas.fire("elementFillChange",{element:this,colorLinking:n})},fabric.Object.prototype.setPattern=function(e){e&&(this.canvas.proxyFileServer&&(e=this.canvas.proxyFileServer+e),fabric.util.loadImage(e,e=>{var t;if(this.isSVG())if(this.hasOwnProperty("getObjects"))for(var n=this.getObjects(),i=0;i<n.length;++i)n[i].set("fill",new fabric.Pattern({source:e,repeat:"repeat"}));else this.set("fill",new fabric.Pattern({source:e,repeat:"repeat"}));else"text"==this.getType()?this.set("fill",new fabric.Pattern({source:e,repeat:"repeat"})):(t=this.fill||this.colors[0],this.set("fill",t=t||"#000000"));this.canvas.renderAll(),this.canvas.fire("elementFillChange",{element:this})}),this.pattern=e)},fabric.Object.prototype.getZIndex=function(){return this.canvas.getObjects().indexOf(this)},fabric.Object.prototype.centerElement=function(){let e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.getBoundingBoxCoords(),i=this.left,a=this.top;e&&(i=n?n.cp?n.cp.x:n.left+.5*n.width:.5*this.canvas.viewOptions.stageWidth),t&&(a=n?n.cp?n.cp.y:n.top+.5*n.height:.5*this.canvas.viewOptions.stageHeight),this.setPositionByOrigin(new fabric.Point(i,a),"center","center"),this.canvas.renderAll(),this.setCoords(),this._checkContainment(),this.autoCenter=!1},fabric.Object.prototype._checkContainment=function(){var e,t,n,i,a;this.canvas&&this.canvas.currentBoundingObject&&!this.hasUploadZone&&(this.setCoords(),"limitModify"===this.boundingBoxMode?(e=this.getBoundingRect(),a=(n=this.canvas.currentBoundingObject.getBoundingRect()).left,i=n.left+n.width-e.width,t=n.top,n=n.top+n.height-e.height,this.isContainedWithinObject(this.canvas.currentBoundingObject)?(this._limitModifyOpts={left:this.left,top:this.top,angle:this.angle,scaleX:this.scaleX,scaleY:this.scaleY},"text"==this.getType()&&(this._limitModifyOpts.fontSize=this.fontSize,this._limitModifyOpts.lineHeight=this.lineHeight,this._limitModifyOpts.charSpacing=this.charSpacing)):(e.left>a&&e.left<i&&(this._limitModifyOpts.left=this.left),e.top>t&&e.top<n&&(this._limitModifyOpts.top=this.top),this.setOptions(this._limitModifyOpts))):"inside"!==this.boundingBoxMode&&"clipping"!==this.boundingBoxMode||(a=this.isOut,(i=!this.isContainedWithinObject(this.canvas.currentBoundingObject))?("inside"===this.boundingBoxMode&&(this.borderColor=this.canvas.viewOptions.outOfBoundaryColor),this.isOut=!0):("inside"===this.boundingBoxMode&&(this.borderColor=this.canvas.viewOptions.selectedColor),this.isOut=!1),a!=this.isOut&&null!=a&&(i?this.canvas.fire("elementOut",{target:this}):this.canvas.fire("elementIn",{target:this})),this.canvas.fire("elementCheckContainemt",{target:this,boundingBoxMode:this.boundingBoxMode})))},fabric.Object.prototype.getBoundingBoxCoords=function(){if(this.boundingBox||this.uploadZone){if("object"==typeof this.boundingBox)return!!(this.boundingBox.hasOwnProperty("x")&&this.boundingBox.hasOwnProperty("y")&&this.boundingBox.width&&this.boundingBox.height)&&{left:this.boundingBox.x,top:this.boundingBox.y,width:this.boundingBox.width,height:this.boundingBox.height};var e,t=this.canvas.getElementByTitle(this.boundingBox);if(t)return{left:(e=t.getPointByOrigin("left","top")).x,top:e.y,width:t.width*t.scaleX,height:t.height*t.scaleY,angle:t.angle||0,cp:t.getCenterPoint()}}return!1},fabric.Object.prototype.getClippingObject=function(){if(this.boundingBox||this.uploadZone){if("object"==typeof this.boundingBox)return this.getBoundingBoxCoords();var e=this.canvas.getElementByTitle(this.boundingBox);if(e)return"image"==e.type?this.getBoundingBoxCoords():e}return!1},fabric.Object.prototype._clipElement=function(){var e=this.getClippingObject();e&&(e.type?e.clone(e=>{e.set({absolutePositioned:!0,opacity:1}),this.clipPath=e}):(e=new fabric.Rect({originX:"left",originY:"top",angle:e.angle||0,left:e.left,top:e.top,width:e.width,height:e.height,fill:"#DDD",absolutePositioned:!0}),this.clipPath=e),this.canvas.renderAll())},fabric.Object.prototype.getElementJSON=function(){let e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=(this.canvas&&(t=Object.keys(this.canvas.viewOptions.elementParameters),t="text"===this.getType()?t.concat(Object.keys(this.canvas.viewOptions.textParameters)):t.concat(Object.keys(this.canvas.viewOptions.imageParameters))),e&&(t=t.concat(fabric.Object.propertiesToInclude)),this.uploadZone&&(t.push("customAdds"),t.push("designCategories"),t.push("designCategories[]")),"text"===this.getType()&&(t.push("text"),t.push("_initialText")),"group"===this.type&&t.push("svgFill"),t.push("width"),t.push("height"),t.push("isEditable"),t.push("hasUploadZone"),t.push("evented"),t.push("isCustom"),t.push("currentColorPrice"),t.push("_isPriced"),t.push("originParams"),t.push("originSource"),t.push("_printingBox"),t.push("_optionsSet"),t=t.sort(),{});return t.forEach(e=>{void 0!==this[e]&&(n[e]=this[e])}),n},fabric.Object.prototype.alignToPosition=function(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"left",t=this.getPointByOrigin("left","top"),n=this.getBoundingBoxCoords(),i="left",a="top";"left"===e?(t.x=n?n.left:0,t.x+=this.padding+1):"top"===e?(t.y=n?n.top:0,t.y+=this.padding+1):"right"===e?(t.x=n?n.left+n.width-this.padding:this.canvas.viewOptions.stageWidth-this.padding,i="right"):(t.y=n?n.top+n.height-this.padding:this.canvas.viewOptions.stageHeight,a="bottom"),this.setPositionByOrigin(t,i,a),this.canvas.renderAll(),this._checkContainment()},fabric.Object.prototype.toggleUploadZone=function(){if(this.hasUploadZone&&this.canvas){let e=this.canvas.getObjects(),t=!0;for(var n=0;n<e.lenth;++n)if(e[n].replace==this.replace){t=!1;break}var i=this.canvas.getUploadZone(this.replace);i&&(i.set("opacity",t?1:0),i.evented=t),this.canvas.renderAll()}},rr(156),fabric.Canvas.prototype.panCanvas=!1,fabric.Canvas.prototype.snapToObjects=!1,fabric.Canvas.prototype.snapToGrid=!1,fabric.Canvas.prototype.snapGridSize=[50,50],fabric.Canvas.prototype.enableRuler=!1,fabric.Canvas.prototype.rulerBg="rgba(0,0,0, 0.6)",fabric.Canvas.prototype.rulerTickColor="#ccc",fabric.Canvas.prototype.viewOptions={},fabric.Canvas.prototype.elements=[],fabric.Canvas.prototype.currentElement=null,fabric.Canvas.prototype.responsiveScale=1,fabric.Canvas.prototype.currentBoundingObject=null,fabric.Canvas.prototype.initialElementsLoaded=!1,fabric.Canvas.prototype.isCustomized=!1,fabric.Canvas.prototype.printingBoxObject=null,fabric.Canvas.prototype._canvasCreated=!1,fabric.Canvas.prototype.currentCurvedTextPath=!1,fabric.Canvas.prototype._doHistory=!1,fabric.Canvas.prototype.forbiddenTextChars=/<|>/g,fabric.Canvas.prototype.proxyFileServer="",fabric.Canvas.prototype.initialize=(ne=fabric.Canvas.prototype.initialize,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ne.call(this,...t),this._fpdCanvasInit(),this}),fabric.Canvas.prototype._onTouchStart=(te=fabric.Canvas.prototype._onTouchStart,function(e){var t=this.findTarget(e);this.allowTouchScrolling&&!t&&!this.isDrawingMode||te.call(this,e)}),fabric.Canvas.prototype._fpdCanvasInit=function(){if(!this.containerClass.includes("fpd-hidden-canvas")){let i=null;this.on({"after:render":()=>{this._canvasCreated||this._onCreated(),this.viewOptions&&3<this.viewOptions.highlightEditableObjects.length&&(this.contextContainer.strokeStyle=this.viewOptions.highlightEditableObjects,this.forEachObject(e=>{e!==this.getActiveObject()&&!e.isMoving&&("text"===e.getType()&&e.editable||e.uploadZone)?(e=e.getBoundingRect(),this.contextContainer.setLineDash([5,15]),this.contextContainer.strokeRect(e.left,e.top,e.width,e.height)):this.contextContainer.setLineDash([])}))},"object:added":e=>{var{}=e;this._bringToppedElementsToFront()},"object:moving":e=>{e=e.target;i="moving",this.fire("elementChange",{type:"moving",element:e})},"object:rotating":e=>{e=e.target;i="rotating",this.fire("elementChange",{type:"rotating",element:e})},"object:scaling":e=>{e=e.target;i="scaling",this.fire("elementChange",{type:"scaling",element:e})},"object:modified":e=>{var e=e["target"],t=e;if(null!==i){var n={};switch(i){case"moving":n.left=Number(t.left),n.top=Number(t.top);break;case"scaling":"text"!==t.getType()||t.curved||t.uniScalingUnlockable?(n.scaleX=parseFloat(t.scaleX),n.scaleY=parseFloat(t.scaleY)):n.fontSize=parseInt(t.fontSize);break;case"rotating":n.angle=t.angle}this.fire("elementModify",{element:t,options:n})}i=null},"selection:created":e=>{e=e.selected;1==e.length?this._onSelected(e[0]):this._onMultiSelected(e)},"selection:updated":e=>{e=e.selected;1==e.length?this._onSelected(e[0]):this._onMultiSelected(e)},"selection:cleared":e=>{var{}=e;this.currentCurvedTextPath&&(this.currentCurvedTextPath.visible=!1,this.currentCurvedTextPath=null)},"mouse:down":e=>{e.target&&e.target.__corner&&"function"==typeof e.target.exitEditing&&e.target.exitEditing(),null==e.target&&this.deselectElement()},elementAdd:()=>{this.forEachObject(e=>{!e.clipPath&&(e.boundingBox&&"clipping"===e.boundingBoxMode||e.hasUploadZone)&&e._clipElement()})}})}},fabric.Canvas.prototype._onCreated=function(){var o;if(this._canvasCreated=!0,"none"!=this.viewOptions.mobileGesturesBehaviour){var l=this,c=this.viewOptions.mobileGesturesBehaviour;let i,a,s,r,o=!1;l.on({"mouse:down":e=>{o=!0,e.e.touches&&(i=e.e.touches[0].clientX,a=e.e.touches[0].clientY,l.currentElement)&&(s=l.currentElement.scaleX,r=l.currentElement.scaleY)},"mouse:up":function(e){o=!1},"mouse:move":function(e){var t,n;"pinchImageScale"==c&&e.e.touches&&2==e.e.touches.length&&l.currentElement&&"image"==l.currentElement.getType()&&l.currentElement.resizable?l.setElementOptions({scaleX:s*e.e.scale,scaleY:r*e.e.scale},l.currentElement):"pinchPanCanvas"==c&&(e.e.touches?1==e.e.touches.length&&l.panCanvas?(t=e.e.touches[0].clientX,n=e.e.touches[0].clientY,l.relativePan(new fabric.Point(t-i,n-a)),i=t,a=n):2==e.e.touches.length&&l.setResZoom(e.e.scale):l.panCanvas&&o&&l.relativePan(new fabric.Point(e.e.movementX,e.e.movementY)))}})}{var b=this;let v,a=b.getSelectionContext(),s=1,r="rgba(255,0,241,0.5)",o=1;function n(e){t(e-s,0,e-s,b.getHeight()/o)}function i(e){t(0,e-s,b.getWidth()/o,e-s)}function t(e,t,n,i){a.save(),a.lineWidth=s,a.strokeStyle=r,a.beginPath(),b.snapToGrid||a.setLineDash([5,10]),a.moveTo((e+v[4])*o,(t+v[5])*o),a.lineTo((n+v[4])*o,(i+v[5])*o),a.stroke(),a.restore()}function y(e,t){e=Math.round(e),t=Math.round(t);for(var n=e-4,i=e+4;n<=i;n++)if(n===t)return 1}var w=[],C=[];b.on("mouse:down",()=>{v=b.viewportTransform,o=b.getZoom()}),b.on("object:moving",e=>{let t=e.target,n=b.getObjects(),i=t.getCenterPoint(),a=i.x,s=i.y,r=t.getBoundingRect(),o=r.height/v[3],l=r.width/v[0],c=!1,d=!1,p=b._currentTransform;if(b.snapToGrid,b.snapToObjects&&!b.snapToGrid&&p){for(var h,u,f,m,g=n.length;g--;)n[g]!==t&&(h=(u=n[g].getCenterPoint()).x,u=u.y,f=(m=n[g].getBoundingRect()).height/v[3],m=m.width/v[0],y(h,a)&&(d=!0,w.push({x:h,y1:u<s?u-f/2-1:u+f/2+1,y2:u<s?s+o/2+1:s-o/2-1}),t.setPositionByOrigin(new fabric.Point(h,s),"center","center")),y(h-m/2,a-l/2)&&(d=!0,w.push({x:h-m/2,y1:u<s?u-f/2-1:u+f/2+1,y2:u<s?s+o/2+1:s-o/2-1}),t.setPositionByOrigin(new fabric.Point(h-m/2+l/2,s),"center","center")),y(h+m/2,a+l/2)&&(d=!0,w.push({x:h+m/2,y1:u<s?u-f/2-1:u+f/2+1,y2:u<s?s+o/2+1:s-o/2-1}),t.setPositionByOrigin(new fabric.Point(h+m/2-l/2,s),"center","center")),y(u,s)&&(c=!0,C.push({y:u,x1:h<a?h-m/2-1:h+m/2+1,x2:h<a?a+l/2+1:a-l/2-1}),t.setPositionByOrigin(new fabric.Point(a,u),"center","center")),y(u-f/2,s-o/2)&&(c=!0,C.push({y:u-f/2,x1:h<a?h-m/2-1:h+m/2+1,x2:h<a?a+l/2+1:a-l/2-1}),t.setPositionByOrigin(new fabric.Point(a,u-f/2+o/2),"center","center")),y(u+f/2,s+o/2))&&(c=!0,C.push({y:u+f/2,x1:h<a?h-m/2-1:h+m/2+1,x2:h<a?a+l/2+1:a-l/2-1}),t.setPositionByOrigin(new fabric.Point(a,u+f/2-o/2),"center","center"));c||(C.length=0),d||(w.length=0)}}),b.on("before:render",()=>{b.contextTop&&b.clearContext(b.contextTop)}),b.on("after:render",()=>{if(!b.panCanvas)if(b.snapToGrid){if(v=b.viewportTransform,o=b.getZoom(),b.snapGridSize){const v=Math.round(b.width/o/b.snapGridSize[0]);for(let e=0;e<v;++e)n(e*b.snapGridSize[0]);const t=Math.round(b.height/o/b.snapGridSize[1]);for(let e=0;e<t;++e)i(e*b.snapGridSize[1])}}else{for(var t=w.length;t--;)n(w[t].x);for(t=C.length;t--;)i(C[t].y);w.length=C.length=0}}),b.on("mouse:up",()=>{w.length=C.length=0,b.renderAll()})}(o=this).on("after:render",()=>{if(o.viewOptions&&o.enableRuler){var e=o.viewOptions.stageWidth,t=o.viewOptions.stageHeight,n=o.getZoom(),i=o.getSelectionContext();i.fillStyle=o.rulerBg,i.fillRect(0,0,e,20);for(var a=0;a<=e;a+=10){const s=a%100==0?20:10;i.fillRect(a*n,0,1,s),a%100==0&&(i.fillStyle=o.rulerTickColor,i.font="10px Arial",i.fillText(a,(a+2)*n,20))}i.fillStyle=o.rulerBg,i.fillRect(o.width-20,0,20,t);for(var s=0;s<=t;s+=10){var r=o.width-(a%100==0?20:10);i.fillRect(r,s*n,20,1),s%100==0&&(i.fillStyle=o.rulerTickColor,i.font="10px Arial",i.fillText(s,o.width-20,(s+10*n)*n))}}}),o.on("before:render",()=>{o.contextTop&&o.clearContext(o.contextTop)}),this._renderPrintingBox()},fabric.Canvas.prototype._onSelected=function(e){if(this.deselectElement(!1),this.dragStage)return this.deselectElement(),!1;this.currentElement=e,this.currentCurvedTextPath&&(this.currentCurvedTextPath.visible=!1),this.currentCurvedTextPath=e.path,this.currentCurvedTextPath&&(this.currentCurvedTextPath.visible=!0),this.fire("elementSelect",{element:e}),this.hoverCursor=e.draggable?"move":"pointer",e.boundingBox&&!e.uploadZone&&this._renderElementBoundingBox(e)},fabric.Canvas.prototype._onMultiSelected=function(e){const t=this.getActiveObject();this.viewOptions.multiSelection&&(t.set({lockScalingX:!0,lockScalingY:!0,lockRotation:!0,hasControls:!1,borderDashArray:[8,8],cornerStyle:"circle",cornerSize:16,transparentCorners:!1,borderColor:this.viewOptions.multiSelectionColor,borderScaleFactor:3}),e.forEach(e=>{e.draggable&&!e.locked||t.removeWithUpdate(e)}))},fabric.Canvas.prototype._renderElementBoundingBox=function(n){var t=this;this.currentBoundingObject&&(this.remove(this.currentBoundingObject),this.currentBoundingObject=null);function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;e&&(t.add(e),e.bringToFront(),t.fire("boundingBoxToggle",{currentBoundingObject:t.currentBoundingObject,state:!0}))}if(n){var e=n.getBoundingBoxCoords();if(e&&"none"!=n.boundingBoxMode){let t={stroke:this.viewOptions.boundingBoxColor,strokeWidth:1,strokeLineCap:"square",strokeDashArray:[10,10],fill:!1,selectable:!1,evented:!1,name:"bounding-box",excludeFromExport:!0,_ignore:!0};t=d(t,this.viewOptions.boundingBoxProps),n.clipPath&&"rect"!=n.clipPath.type?n.clipPath&&n.clipPath.clone(e=>{t=d(t,{fill:"transparent"}),e.set(t),"group"==e.type&&e.forEachObject(e=>{e.set("fill","transparent")}),this.currentBoundingObject=e,i(this.currentBoundingObject),n._checkContainment()}):(t=d(t,{left:e.left,top:e.top,width:e.width,height:e.height,angle:e.angle||0,originX:"left",originY:"top"}),this.currentBoundingObject=new fabric.Rect(t),i(this.currentBoundingObject))}n._checkContainment()}},fabric.Canvas.prototype._renderPrintingBox=function(){var e;this.printingBoxObject&&(this.remove(this.printingBoxObject),this.printingBoxObject=null),q(this.viewOptions.printingBox,["left","top","width","height"])&&(e=new fabric.Rect({left:100,top:100,width:this.viewOptions.printingBox.width,height:this.viewOptions.printingBox.height,stroke:this.viewOptions.printingBox.visibility||this.viewOptions.editorMode?"#db2828":"transparent",strokeWidth:1,strokeLineCap:"square",fill:!1,originX:"left",originY:"top",name:"printing-box",excludeFromExport:!0,_ignore:!0}),this.printingBoxObject=new fabric.Group([e],{left:this.viewOptions.printingBox.left,top:this.viewOptions.printingBox.top,evented:!1,resizable:!0,removable:!1,copyable:!1,rotatable:!1,uniformScaling:!1,lockRotation:!0,borderColor:"transparent",transparentCorners:!0,cornerColor:this.viewOptions.selectedColor,cornerIconColor:this.viewOptions.cornerIconColor,cornerSize:24,originX:"left",originY:"top",name:"printing-boxes",excludeFromExport:!0,selectable:!1,_ignore:!0}),this.add(this.printingBoxObject),this.printingBoxObject.setCoords(),this.renderAll())},fabric.Canvas.prototype._bringToppedElementsToFront=function(){let e=this.getObjects(),t=[];e.forEach(e=>{(e.topped||e.uploadZone&&this.viewOptions.uploadZonesTopped)&&t.push(e)}),t.forEach(e=>{e.bringToFront()}),this.currentBoundingObject&&this.currentBoundingObject.bringToFront(),this.printingBoxObject&&this.printingBoxObject.bringToFront()},fabric.Canvas.prototype.addElements=function(n,e){let t=-1;const i=()=>{if(++t<n.length){const e=n[t];a(e)||this.addElement(e.type,e.source,e.title,e.parameters)}else this.off("elementAdd",i),void 0!==e&&e.call(e,this),this.initialElementsLoaded=!0},a=e=>{if(void 0===e.type||void 0===e.source||void 0===e.title){var t=n.indexOf(e);if(-1!==t)return console.log("Element index "+t+" from elements removed, its not a valid element object!","info"),i(),!0}else this.elements.push(e);return!1};n[0]?(this.on("elementAdd",i),i()):(void 0!==e&&e.call(e,this),this.initialElementsLoaded=!0)},fabric.Canvas.prototype.addElement=function(s,n,e){var t,r=this;let i,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(void 0!==s&&void 0!==n&&void 0!==e){this.fire("beforeElementAdd",{type:s,source:n,title:e,params:o}),"text"===s&&(n=(n=n.replace(/(<([^>]+)>)/gi,"")).replace(this.forbiddenTextChars,""),e=e.replace(/(<([^>]+)>)/gi,"")),"string"==typeof o.fill||Array.isArray(o.fill)||(o.fill=!1),i=s.toLowerCase().includes("text")?d(this.viewOptions.elementParameters,this.viewOptions.textParameters):d(this.viewOptions.elementParameters,this.viewOptions.imageParameters),(o=d(i,o)).colors&&"string"==typeof o.colors&&0==o.colors.indexOf("#")&&(t=o.colors.replace(/\s+/g,"").split(","),o.colors=t),o._isInitial=!this.initialElementsLoaded,s.toLowerCase().includes("text")&&(t=o.colors[0]||"#000000",o.fill=o.fill||t);let a={source:n,title:e,id:String((new Date).getTime())};if(this.viewOptions.editorMode?(o.__editorMode=this.viewOptions.editorMode,a.selectable=a.evented=!0):a=d(a,{selectable:!1,lockRotation:!0,hasRotatingPoint:!1,lockScalingX:!0,lockScalingY:!0,lockMovementX:!0,lockMovementY:!0,hasControls:!1,evented:!1,lockScalingFlip:!0}),(a=d(o,a)).isCustom&&(this.isCustomized=!0),this.viewOptions.usePrintingBoxAsBounding&&!a.boundingBox&&q(this.viewOptions.printingBox,["left","top","width","height"])&&(a.boundingBox={x:this.viewOptions.printingBox.left-1,y:this.viewOptions.printingBox.top-1,width:this.viewOptions.printingBox.width+1,height:this.viewOptions.printingBox.height+1},a._printingBox=a.boundingBox),"image"==s||"path"==s||"group"==s){-1===n.search("<svg ")&&(t=n.split("?"),n=a.source=t[0]);const s=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};e?(t.originParams=d(t,i),e.setOptions(t),r.add(e),r.setElementOptions(t,e),e.originParams.angle=e.angle,e.originParams.z=e.getZIndex()):r.fire("imageFail",{url:t.source}),r.fire("elementAdd",{element:e})};if(void 0===n||0===n.length)console.log("No image source set for: "+e);else if(-1!==n.search("<svg"))fabric.loadSVGFromString(n,(e,t)=>{t=fabric.util.groupSVGElements(e,t);if(a.fill)a.svgFill||(a.svgFill=a.fill),delete a.fill;else if(!a.fill&&!a.svgFill){if(e){o.colors=[];for(var n=0;n<e.length;++n){var i=0<e[n].fill.length?tinycolor(e[n].fill).toHexString():"transparent";o.colors.push(i)}o.svgFill=o.colors}a.svgFill=o.svgFill}delete a.boundingBox,delete a.originParams,delete a.colors,delete a.svgFill,delete a.width,delete a.height,delete a.originX,delete a.originY,delete a.objectCaching,s(t,a,!0,{svgFill:o.svgFill})});else if(n.split(".").includes("svg")){let e=Date.now().toString(),t=U(n)?new URL(this.proxyFileServer+n):n;!n.includes(".cloudfront.net/")&&!this.viewOptions.imageLoadTimestamp||this.proxyFileServer||t.searchParams.append("t",e),"object"==typeof t&&(t=t.toString()),fabric.loadSVGFromURL(t,(e,t)=>{t=e?fabric.util.groupSVGElements(e,t):null;if(a.fill)a.svgFill||(a.svgFill=a.fill),delete a.fill;else if(!a.fill&&!a.svgFill){if(e){o.colors=[];for(var n=0;n<e.length;++n){var i=0<e[n].fill.length?tinycolor(e[n].fill).toHexString():"transparent";o.colors.push(i)}o.svgFill=o.colors}a.svgFill=o.svgFill}s(t,a,!0,{svgFill:o.svgFill})})}else{let e,t=Date.now().toString();n.includes("data:image/")?e=n:(e=U(n)?new URL(this.proxyFileServer+n):n,this.viewOptions.imageLoadTimestamp&&!this.proxyFileServer&&e.searchParams.append("t",t),"object"==typeof e&&(e=e.toString())),new fabric.Image.fromURL(e,function(e){e=""===e.getSrc()?null:e,s(e,a,!1)},{crossOrigin:"anonymous"})}}else s.toLowerCase().includes("text")&&(n=n.replace(/\\n/g,"\n"),o.text=o.text||n,a._initialText=o.hasOwnProperty("_initialText")?o._initialText:o.text,a.originParams={...o},o.originParams&&o.originParams.text&&(a.originParams.text=a._initialText),t=o.curved?new fabric.IText(n.replace(/(?:\r\n|\r|\n)/g,""),a):new(o.textBox?fabric.Textbox:fabric.IText)(n,a),(a.textPlaceholder||a.numberPlaceholder)&&(a.textPlaceholder&&(this.textPlaceholder=t,a.removable=!1,a.editable=!1),a.numberPlaceholder)&&(this.numberPlaceholder=t,a.removable=!1,a.editable=!1),this.add(t),this.setElementOptions(a,t),t.originParams=d(t.toJSON(),t.originParams),t.originParams.z=t.getZIndex(),this.fire("elementAdd",{element:t}))}},fabric.Canvas.prototype.deselectElement=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.currentBoundingObject&&(this.remove(this.currentBoundingObject),this.fire("boudingBoxToggle",{boundingBox:this.currentBoundingObject,state:!1}),this.currentBoundingObject=null),e&&this.discardActiveObject(),this.currentElement=null,this.fire("elementSelect",{element:null})},fabric.Canvas.prototype.resetSize=function(){if(this.wrapperEl.parentNode){const a=this.wrapperEl,s=a.parentNode.clientWidth;let e=a.parentNode.clientHeight,t=this.viewOptions.stageHeight,n=null;this.responsiveScale=s<this.viewOptions.stageWidth?s/this.viewOptions.stageWidth:1;var i=t*this.responsiveScale;if("auto"!==this.viewOptions.canvasHeight&&this.viewOptions.canvasHeight.includes("px")&&(n=parseInt(this.viewOptions.canvasHeight),e=n),isNaN(this.viewOptions.maxCanvasHeight)||1===this.viewOptions.maxCanvasHeight||null!==n)i>e&&(this.responsiveScale=e/t);else{const a=window.innerHeight*parseFloat(this.viewOptions.maxCanvasHeight);i>a?this.responsiveScale=a/t:i>e&&(this.responsiveScale=e/t)}return this.responsiveScale=parseFloat(Number(this.responsiveScale.toFixed(7))),this.responsiveScale=Math.min(this.responsiveScale,1),this.viewOptions.responsive||(this.responsiveScale=1),this.setDimensions({width:this.viewOptions.stageWidth*this.responsiveScale,height:this.viewOptions.stageHeight*this.responsiveScale}).setZoom(this.responsiveScale).calcOffset().renderAll(),this.fire("sizeUpdate",{responsiveScale:this.responsiveScale,canvasHeight:n||t*this.responsiveScale||t}),this.responsiveScale}},fabric.Canvas.prototype.setResZoom=function(e){this.deselectElement();var t=new fabric.Point(.5*this.getWidth(),.5*this.getHeight());this.zoomToPoint(t,e*this.responsiveScale),1==e&&this.resetZoom()},fabric.Canvas.prototype.resetZoom=function(){this.deselectElement(),this.zoomToPoint(new fabric.Point(0,0),this.responsiveScale),this.absolutePan(new fabric.Point(0,0))},fabric.Canvas.prototype.getElements=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"all";1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||this.deselectElement();let t=this.getObjects();return t=t.filter(e=>!e._ignore),"text"===e?t.filter(e=>"text"===e.getType()):"image"===e?t.filter(e=>"image"===e.getType()):t},fabric.Canvas.prototype.getElementsJSON=function(){let a=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],t=this.getElements("all",e),s=[];return t.forEach(e=>{var t,n,i;void 0!==e.title&&void 0!==e.source&&(t={title:e.title,source:e.source,parameters:e.getElementJSON(),type:e.getType()},(n=this.viewOptions&&this.viewOptions.printingBox?this.viewOptions.printingBox:null)&&n.hasOwnProperty("left")&&n.hasOwnProperty("top")&&(i=e.getPointByOrigin("left","top"),t.printingBoxCoords={left:i.x-n.left,top:i.y-n.top}),a&&!e.isEditable||s.push(t))}),s},fabric.Canvas.prototype.getElementByTitle=function(e){for(var t=this.getObjects(),n=0;n<t.length;++n)if(t[n].title===e)return t[n]},fabric.Canvas.prototype.getElementByID=function(e){for(var t=this.getObjects(),n=0;n<t.length;++n)if(t[n].id==e)return t[n];return!1},fabric.Canvas.prototype.reset=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.clear(),e&&this.wrapperEl.remove(),this.fire("clear")},fabric.Canvas.prototype.removeElement=function(e){"string"==typeof e&&(e=this.getElementByTitle(e)),this.deselectElement(),e.toggleUploadZone&&e.toggleUploadZone(),this.remove(e),this.fire("elementRemove",{element:e})},fabric.Canvas.prototype.getElementByReplace=function(e){for(var t=this.getObjects(),n=0;n<t.length;++n){var i=t[n];if(i.replace===e)return i}return null},fabric.Canvas.prototype.setElementOptions=function(n,i){if(!(i=void 0===i?this.getActiveObject():i)||void 0===n)return!1;const e=(i="string"==typeof i?this.getElementByTitle(i):i).getType();if("image"==e&&!i._isInitial&&!i._optionsSet&&!i._addToUZ&&1===i.scaleX){let e=null;if(W(i.resizeToW)&&W(i.resizeToH)){if(i.boundingBox){const n=i.getBoundingBoxCoords();e=de(i.width,i.height,n.width,n.height,i.scaleMode)}else if(this.viewOptions.fitImagesInCanvas){const n=3*i.cornerSize;(i.width*i.scaleX+n>this.viewOptions.stageWidth||i.height*i.scaleY+n>this.viewOptions.stageHeight)&&(e=de(i.width,i.height,this.viewOptions.stageWidth-n,this.viewOptions.stageHeight-n))}}else{var t=i.resizeToW,a=i.resizeToH,t=isNaN(t)?parseFloat(t)/100*this.viewOptions.stageWidth:parseInt(t),a=isNaN(a)?parseFloat(a)/100*this.viewOptions.stageHeight:parseInt(a);e=de(i.width,i.height,t,a,i.scaleMode)}null!==e&&(n=d(n,{scaleX:e,scaleY:e}))}if(Boolean(i._addToUZ)){n.z=-1;let e=this.getElementByTitle(i._addToUZ),t=1;"image"==i.getType()&&(t=de(i.width,i.height,e.width*e.scaleX,e.height*e.scaleY,e.scaleMode)),(n=d(n,{boundingBox:i._addToUZ,boundingBoxMode:"clipping",scaleX:t,scaleY:t,autoCenter:!0,removable:!0,zChangeable:!1,autoSelect:!1,copyable:!1,hasUploadZone:!0,z:this.getElementByTitle(i._addToUZ).getZIndex(),rotatable:e.rotatable,draggable:e.draggable,resizable:e.resizable,price:e.price||n.price,replace:i._addToUZ,lockUniScaling:e.lockUniScaling,uniScalingUnlockable:e.uniScalingUnlockable,advancedEditing:e.advancedEditing,originX:e.originX,originY:e.originY,angle:e.angle})).originParams=d(n.originParams,{boundingBox:n.boundingBox,replace:n.replace,rotatable:n.rotatable,draggable:n.draggable,resizable:n.resizable,lockUniScaling:n.lockUniScaling,uniScalingUnlockable:n.uniScalingUnlockable,price:n.price,scaleX:n.scaleX,scaleY:n.scaleY,hasUploadZone:!0,autoCenter:!0,originX:n.originX,originY:n.originY,angle:n.angle}),delete n[""],delete i._addToUZ}if(n.topped&&(n.zChangeable=!1),i.checkEditable(n)&&(n.isEditable=n.evented=n.selectable=!0),(!n.uploadZone||this.viewOptions.editorMode)&&(n.draggable&&(n.lockMovementX=n.lockMovementY=!1),n.rotatable&&(n.lockRotation=!1,n.hasRotatingPoint=!0),n.resizable&&(n.lockScalingX=n.lockScalingY=!1),n.resizable||n.rotatable||n.removable)&&(n.hasControls=!0),n.uploadZone&&(this.viewOptions.editorMode||(n.uploadZoneMovable&&(n.lockMovementX=n.lockMovementY=!1),n.uploadZoneRemovable&&(n.removable=!0,n.copyable=!1,n.hasControls=!0)),n.borderColor="transparent",n.excludeFromExport=!0),n.fixed&&m(n.replace)&&(n.replace=i.title),n.replace&&""!=n.replace&&null!==(t=this.getElementByReplace(n.replace))&&t!==i&&(n.z=t.getZIndex(),n.left=i.originParams.left=t.left,n.top=i.originParams.top=t.top,n.autoCenter=!1,this.viewOptions.applyFillWhenReplacing&&(n.fill=t.fill),this.removeElement(t)),"text"===e){if("string"==typeof n.text){let e=n.text;e=e.replace(this.forbiddenTextChars,""),0!=i.maxLength&&e.length>i.maxLength&&(e=e.substr(0,i.maxLength),i.set("text",e)),0!=i.maxLines&&0!=i.maxLines&&e.split("\n").length>i.maxLines&&(a=e.split("\n").slice(0,i.maxLines),e=a.join("\n")),"uppercase"===i.textTransform?e=e.toUpperCase():"lowercase"===i.textTransform&&(e=e.toLowerCase()),n.text=e,i.setCurvedTextPosition&&i.setCurvedTextPosition()}if(n.hasOwnProperty("textDecoration")&&(n.underline="underline"===n.textDecoration),void 0!==n.letterSpacing&&(n.charSpacing=100*n.letterSpacing),n.fontSize&&n.fontSize<i.minFontSize?n.fontSize=i.minFontSize:n.fontSize&&n.fontSize>i.maxFontSize&&(n.fontSize=i.maxFontSize),n.textTransform){let e=i.text;"uppercase"===n.textTransform?e=e.toUpperCase():"lowercase"===n.textTransform&&(e=e.toLowerCase()),n.text=e}if(n.hasOwnProperty("shadowColor")||n.hasOwnProperty("shadowBlur")||n.hasOwnProperty("shadowOffsetX")||n.hasOwnProperty("shadowOffsetY"))if(null===n.shadowColor)i.set("shadow",null);else{let e={};i.shadow&&(e=i.shadow.toObject());t={color:n.hasOwnProperty("shadowColor")?n.shadowColor:e.color,blur:n.hasOwnProperty("shadowBlur")?n.shadowBlur:e.blur,offsetX:n.hasOwnProperty("shadowOffsetX")?n.shadowOffsetX:e.offsetX,offsetY:n.hasOwnProperty("shadowOffsetY")?n.shadowOffsetY:e.offsetY};i.set("shadow",t)}}if(delete n.paths,i.setOptions(n),(n.fontSize||n.fontFamily)&&i.setCurvedTextPosition&&i.setCurvedTextPosition(),"i-text"==i.type&&i.widthFontSize&&0<i.text.length){let e;(e=i.width>i.widthFontSize?i.fontSize*(i.widthFontSize/(i.width+1)):i.fontSize*(i.widthFontSize/(i.width-1)))<i.minFontSize?e=i.minFontSize:e>i.maxFontSize&&(e=i.maxFontSize),e=parseInt(e),i.set("fontSize",e)}if(n.autoCenter&&i.centerElement(),n.hasOwnProperty("lockUniScaling")&&i._elementControls(),void 0!==n.fill||void 0!==n.svgFill){const e=void 0!==n.svgFill?n.svgFill:n.fill;i.changeColor(e),i.pattern=void 0}if(void 0!==n.pattern&&i.setPattern(n.pattern),n.filter){const e=function(e,t){var n=1<arguments.length&&void 0!==t?t:{};if("string"==typeof e)switch(e=e.toLowerCase()){case"grayscale":return new fabric.Image.filters.Grayscale;case"sepia":return new fabric.Image.filters.Sepia;case"kodachrome":return new fabric.Image.filters.Kodachrome;case"black_white":return new fabric.Image.filters.BlackWhite;case"vintage":return new fabric.Image.filters.Vintage;case"technicolor":return new fabric.Image.filters.Technicolor;case"brightness":return new fabric.Image.filters.Brightness(n);case"contrast":return new fabric.Image.filters.Contrast(n);case"removewhite":return new fabric.Image.filters.RemoveColor(n)}else if(Array.isArray(e))return new fabric.Image.filters.ColorMatrix({matrix:e});return null}(n.filter);e&&i.applyFilters?(i.filters=[e],i.applyFilters()):i.applyFilters&&(i.filters=[],i.applyFilters())}if(i.canvas&&0<=n.z&&(i.moveTo(n.z),this._bringToppedElementsToFront()),n.hasOwnProperty("curved"))if(n.curved){if("textbox"==i.type)return delete(a=i.getElementJSON()).width,this.addElement("text",a.text,i.title,a),void this.removeElement(i);i.setCurvedTextPath(),i==this.getActiveObject()&&i.path&&(i.path.visible=!0),i.set("text",i.text.replace(/[\r\n]+/g,"")),i.setCurvedTextPosition()}else i.set("path",null);n.hasOwnProperty("curveRadius")&&(i.setCurvedTextPath(),i==this.getActiveObject())&&i.path&&(i.path.visible=!0),i.uploadZone?i.evented=0!==i.opacity:i.isEditable&&!this.viewOptions.editorMode&&(i.evented=!n.locked);for(var s=this.getObjects(),r=0;r<s.length;++r){var o=s[r];o.uploadZone&&o.title==n.replace&&(o.opacity=0,o.evented=!1)}i.setCoords(),this.renderAll().calcOffset(),this.fire("elementModify",{element:i,options:n}),i._checkContainment(),this._doHistory&&this.historySaveAction(),n.autoSelect&&i.isEditable&&!this.editorMode&&this.wrapperEl.offsetParent&&setTimeout(()=>{this.setActiveObject(i)},200),i._optionsSet=!0},fabric.Canvas.prototype.duplicateElement=function(e){var t=e.getElementJSON();t.top=t.top+30,t.left=t.left+30,this.viewOptions.editorMode||(t.autoSelect=!0),this.addElement(e.getType(),e.source,"Copy "+e.title,t)},fabric.Canvas.prototype.getUploadZone=function(e){for(var t=this.getObjects(),n=0;n<t.length;++n)if(t[n].uploadZone&&t[n].title==e)return t[n]},fabric.Canvas.prototype.setMask=function(){let i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:()=>{};var e;i&&i.url&&i.url.includes(".svg")?(e=this.proxyFileServer+i.url,this.maskOptions=i,fabric.loadSVGFromURL(e,(e,t)=>{let n=null;e&&((n=e?fabric.util.groupSVGElements(e,t):null).setOptions({left:i.left?Number(i.left):0,top:i.top?Number(i.top):0,scaleX:i.scaleX?Number(i.scaleX):1,scaleY:i.scaleY?Number(i.scaleY):1,selectable:!0,evented:!1,resizable:!0,lockUniScaling:!1,lockRotation:!0,borderColor:"transparent",fill:"rgba(0,0,0,0)",transparentCorners:!0,cornerColor:this.viewOptions.selectedColor,cornerIconColor:this.viewOptions.cornerIconColor,cornerSize:24,originX:"left",originY:"top",name:"view-mask",objectCaching:!1,excludeFromExport:!0,_ignore:!0}),this.maskObject=n,this.clipPath=n,this.renderAll(),this.resetSize()),a(n)})):(this.maskObject=this.maskOptions=this.clipPath=null,this.renderAll())};const pe=e=>{let t="";if(e.hasOwnProperty("url")){e.name;var n=-1!==e.url.search(".woff")?"woff":"TrueType",i=FancyProductDesigner.proxyFileServer+e.url;if(t+='@font-face {font-family:"'+e.name+'"; font-style: normal; font-weight: normal; src:url("'+i+'") format("'+n+'");}\n',e.variants){for(const a in e.variants){i=FancyProductDesigner.proxyFileServer+e.variants[a];t+='@font-face {font-family:"'+e.name+'"; '+{n7:"font-style: normal; font-weight: bold;",i4:"font-style: italic; font-weight: normal;",i7:"font-style: italic; font-weight: bold;"}[a]+' src:url("'+i+'") format("'+n+'");}\n'}Object.keys(e.variants).toString()}}return t};function he(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(e)}function r(e,t,n){var i;i=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==typeof i?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function ue(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}var fe=new WeakSet,me=new WeakSet;class ge extends EventTarget{constructor(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=(super(),he(this,me),he(this,fe),r(this,"totalPrice",0),r(this,"truePrice",0),r(this,"additionalPrice",0),r(this,"locked",!1),r(this,"mask",null),r(this,"viewData",void 0),r(this,"onCreatedCallback",void 0),r(this,"title",void 0),r(this,"thumbnail",void 0),r(this,"options",void 0),r(this,"names_numbers",void 0),r(this,"canvasElem",null),r(this,"fabricCanvas",null),r(this,"elementsAdded",!1),this.viewData=t,this.onCreatedCallback=n,this.title=t.title,this.thumbnail=t.thumbnail,this.options=t.options,this.mask=t.mask,this.locked=void 0!==t.locked?t.locked:this.options.optionalView,this.names_numbers=t.names_numbers||null,fabric.Canvas.prototype.snapGridSize=this.options.snapGridSize,fabric.Canvas.prototype.snapToObjects=this.options.smartGuides,this.options.selectedColor);fabric.Object.prototype.borderColor=n,fabric.Object.prototype.cornerColor=n,fabric.Object.prototype.cornerIconColor=this.options.cornerIconColor,i=d({containerClass:"fpd-view-stage fpd-hidden",selection:this.options.multiSelection,selectionBorderColor:this.options.multiSelectionColor,selectionColor:tinycolor(this.options.multiSelectionColor).setAlpha(.1).toRgbString(),hoverCursor:"pointer",controlsAboveOverlay:!0,centeredScaling:!0,allowTouchScrolling:!0,preserveObjectStacking:!0},i),this.fabricOptions=i,this.canvasElem=document.createElement("canvas"),e.append(this.canvasElem),fabric.Canvas.prototype.forbiddenTextChars=FancyProductDesigner.forbiddenTextChars,fabric.Canvas.prototype.proxyFileServer=FancyProductDesigner.proxyFileServer,this.fabricCanvas=new fabric.Canvas(this.canvasElem,i),this.fabricCanvas.viewOptions=this.options,this.fabricCanvas.setDimensions({width:this.options.stageWidth,height:this.options.stageHeight}),this.fabricCanvas.on({imageFail:e=>{e=e.url;l(`
                    <p>The image with the URL<br /><i style='font-size: 10px;'>${e}</i><br />can not be loaded into the canvas.</p>
                    <p><b>Troubleshooting</b>
                        <ul>
                            <li>The URL is not correct!</li>
                            <li>The image has been blocked by <a href='https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS' target='_blank'>CORS policy</a>. You need to host the image under the same protocol and domain or enable 'Access-Control-Allow-Origin' on the server where you host the image. <a href='http://enable-cors.org/' target='_blank'>Read more about it here.</a><
                            /li>
                        </ul>
                    </p>
                `)}}),this.toggleLock(Boolean(this.locked));const a=e=>{e.chargeAfterEditing&&(e._isPriced||(this.changePrice(e.price,"+"),e._isPriced=!0),e._initialText===e.text)&&e._isPriced&&(this.changePrice(e.price,"-"),e._isPriced=!1)};this.fabricCanvas.on({"object:added":e=>{let t=e.target,n=t.price;t._addToUZ&&""!=t._addToUZ&&(e=this.fabricCanvas.getElementByTitle(t._addToUZ),n=e&&e.price?e.price:n),void 0===n||0===n||t.uploadZone||t._ignore||t.chargeAfterEditing&&!t._isPriced||this.changePrice(n,"+")},"object:removed":e=>{e=e.target;void 0===e.price||0===e.price||e.uploadZone||e.chargeAfterEditing&&!e._isPriced||this.changePrice(e.price,"-")},"text:changed":e=>{a(e.target)},elementModify:e=>{this.elementsAdded&&e.options.hasOwnProperty("text")&&a(e.element)},elementFillChange:e=>{ue(this,me,be).call(this,e.element)}})}init(){this.loadElements(this.viewData.elements,ue(this,fe,ve).bind(this))}loadElements(e,t){this.fabricCanvas.initialElementsLoaded&&this.fabricCanvas.reset(!1),this.fabricCanvas.offHistory(),this.fabricCanvas.addElements(e,t)}toDataURL(t){let n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=(t=void 0===t?function(){}:t,n.onlyExportable=void 0!==n.onlyExportable&&n.onlyExportable,n.multiplier=void 0===n.multiplier?1:n.multiplier,n.backgroundColor=void 0===n.backgroundColor?"transparent":n.backgroundColor,n.watermarkImg=void 0===n.watermarkImg?null:n.watermarkImg,[]),a=this.options.highlightEditableObjects,s=(this.options.highlightEditableObjects="transparent",this.fabricCanvas.getObjects().forEach(e=>{e.excludeFromExport&&n.onlyExportable&&(e.visible=!1,i.push(e))}),e&&this.fabricCanvas.deselectElement(),fabric.devicePixelRatio);fabric.devicePixelRatio=1,this.fabricCanvas.setDimensions({width:this.options.stageWidth,height:this.options.stageHeight}).setZoom(1),this.fabricCanvas.setBackgroundColor(n.backgroundColor,()=>{n.watermarkImg&&(this.fabricCanvas.add(n.watermarkImg),n.watermarkImg.center(),n.watermarkImg.bringToFront()),t(this.fabricCanvas.toDataURL(n)),n.watermarkImg&&this.fabricCanvas.remove(n.watermarkImg),this.fabricCanvas.wrapperEl.offsetParent&&this.fabricCanvas.resetSize(),this.fabricCanvas.setBackgroundColor("transparent",()=>{this.fabricCanvas.renderAll()});for(var e=0;e<i.length;++e)i[e].visible=!0;this.fabricCanvas.renderAll(),fabric.devicePixelRatio=s,this.options.highlightEditableObjects=a})}toSVG(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(n.respectPrintingBox=void 0!==n.respectPrintingBox&&n.respectPrintingBox,n.watermarkImg=void 0===n.watermarkImg?null:n.watermarkImg,this.fabricCanvas.deselectElement(),n.respectPrintingBox&&q(this.options.printingBox,["left","top","width","height"])){let e=0,t=0;q(this.options.output,["bleed","width","height"])&&(e=this.options.output.bleed/this.options.output.width*this.options.printingBox.width,t=this.options.output.bleed/this.options.output.height*this.options.printingBox.height),n.viewBox={x:this.options.printingBox.left-e,y:this.options.printingBox.top-t,width:this.options.printingBox.width+2*e,height:this.options.printingBox.height+2*t},this.fabricCanvas.setDimensions({width:this.options.printingBox.width,height:this.options.printingBox.height}).setZoom(1)}else this.fabricCanvas.setDimensions({width:this.options.stageWidth,height:this.options.stageHeight}).setZoom(1);var i=this.fabricCanvas.backgroundColor,n=("transparent"==i&&(this.fabricCanvas.backgroundColor=!1),n.watermarkImg&&(this.fabricCanvas.add(n.watermarkImg),n.watermarkImg.center(),n.watermarkImg.bringToFront()),e=this.fabricCanvas.toSVG(n,n.reviver),n.watermarkImg&&this.fabricCanvas.remove(n.watermarkImg),this.fabricCanvas.backgroundColor=i,this.fabricCanvas.wrapperEl.offsetParent&&this.fabricCanvas.resetSize(),document.createElement("div"));n.innerHTML=e;const a=n.querySelector("defs");n.querySelectorAll("clipPath").forEach(e=>{a.appendChild(e)});i=document.createElement("style");let s="",r="",o=(t.forEach(e=>{e.hasOwnProperty("url")&&("google"==e.url?s+=e.name.replace(/\s/g,"+")+":ital,wght@0,400;0,700;1,700&":r+=pe(e))}),0<s.length&&i.insertAdjacentHTML("beforeend",'@import url("https://fonts.googleapis.com/css2?family='+s.replace(/&/g,"&amp;")+'display=swap");'),0<r.length&&i.insertAdjacentHTML("beforeend",r),a.appendChild(i),n.innerHTML);return o=o.replace(/(?:\r\n|\r|\n)/g,"")}toggleLock(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.locked=e,f(this.fabricCanvas.wrapperEl,["fpd-disabled"],e),this.dispatchEvent(new CustomEvent("priceChange",{detail:{elementPrice:0,truePrice:this.truePrice}})),e}changePrice(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return"number"!=typeof e&&(e=Number(e)),"+"===t?this.totalPrice+=e:this.totalPrice-=e,null!==n&&(t=this.additionalPrice,this.totalPrice-=t,this.additionalPrice=n,this.totalPrice+=n),this.truePrice=this.totalPrice,"number"==typeof this.options.maxPrice&&-1!=this.options.maxPrice&&this.truePrice>this.options.maxPrice&&(this.truePrice=Number(this.options.maxPrice)),this.truePrice%1!=0&&(this.truePrice=Number(this.truePrice.toFixed(2))),this.dispatchEvent(new CustomEvent("priceChange",{detail:{elementPrice:e,truePrice:this.truePrice}})),this.truePrice}}function ve(){this.elementsAdded=!0,this.fabricCanvas._doHistory=!0,this.mask&&this.fabricCanvas.setMask(this.mask),this.onCreatedCallback&&this.onCreatedCallback(this),this.dispatchEvent(new CustomEvent("priceChange",{detail:{elementPrice:0,truePrice:this.truePrice}}))}function be(e){var t;this.elementsAdded&&e.colorPrices&&"object"==typeof e.colors&&1<e.colors.length&&(void 0!==e.currentColorPrice&&(e.price-=e.currentColorPrice,this.changePrice(e.currentColorPrice,"-")),"string"==typeof(t=e.fill)&&(t=t.replace("#",""),e.colorPrices.hasOwnProperty(t)||e.colorPrices.hasOwnProperty(t.toUpperCase()))?(t=void 0===e.colorPrices[t]?e.colorPrices[t.toUpperCase()]:e.colorPrices[t],e.currentColorPrice=t,e.price+=e.currentColorPrice,this.changePrice(e.currentColorPrice,"+")):e.currentColorPrice=0)}r(ge,"relevantOptions",["stageWidth","stageHeight","selectedColor","boundingBoxColor","outOfBoundaryColor","cornerIconColor","customAdds","elementParameters","imageParameters","textParameters","customImageParameters","customTextParameters","maxPrice","optionalView","designCategories","printingBox","output","layouts","usePrintingBoxAsBounding","threeJsPreviewModel","editorMode","imageLoadTimestamp","fitImagesInCanvas","inCanvasTextEditing","applyFillWhenReplacing","disableTextEmojis","cornerControlsStyle","responsive","canvasHeight","maxCanvasHeight","boundingBoxProps","highlightEditableObjects","multiSelection","multiSelectionColor","mobileGesturesBehaviour","smartGuides","snapGridSize"]),window.FancyProductDesigner=ge;const i=t=>{let e=t.url;t.params&&(e+="?"+new URLSearchParams(t.params).toString());const n=new XMLHttpRequest;return n.responseType="json",n.open("GET",e),n.onreadystatechange=e=>{4==n.readyState&&200==n.status?t.onSuccess&&t.onSuccess(n.response):200!==n.status&&t.onError&&t.onError(n)},n.send(),n};class ye extends EventTarget{langJSON=null;constructor(){super()}loadLangJSON(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:()=>{};!1!==t?"object"==typeof t?(this.langJSON=t,n.call(this)):i({url:t,onSuccess:e=>{this.langJSON=e,n.call(this)},onError:e=>{alert('Language JSON "'+t+'" could not be loaded or is not valid. Make sure you set the correct URL in the options and the JSON is valid!'),n.call(this)}}):n.call(this)}translateElement(e){let t="";var n,i,a;return this.langJSON?(n="",(n=e.getAttribute("placeholder")?e.getAttribute("placeholder"):e.getAttribute("title")?e.getAttribute("title"):e.dataset.title||e.innerText).includes(".")?(i=n.toLowerCase().split("."),(a=this.langJSON[i[0]])?void 0===(t=a[i[1]])&&(console.log("FPD label not found: "+e.dataset.defaulttext,i),t=e.dataset.defaulttext):t=e.dataset.defaulttext):t=n):t=e.dataset.defaulttext,e.getAttribute("placeholder")?(e.setAttribute("placeholder",t),e.innerText=""):e.getAttribute("title")?e.setAttribute("title",t):e.dataset.title?e.dataset.title=t:e.innerText=t,t}getTranslation(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=n;return m(this.langJSON)||(e=this.langJSON[e])&&(i=e[t]||n),i.replace(/\n/g,""),i}translateArea(e){e=e.querySelectorAll("[data-defaulttext]");Array.from(e).forEach(e=>{this.translateElement(e)})}}function we(e,t,n){var i;i=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==typeof i?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function Ce(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}var xe=new WeakSet;class Ee extends HTMLElement{constructor(){super();var e=this,t=xe;if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(this),we(this,"placeholder",""),we(this,"value",""),we(this,"searchable",!1),we(this,"inputElem",null),we(this,"listElem",null)}connectedCallback(){this.innerHTML='<input type="text" class="fpd-dropdown-current"/> <div class="fpd-dropdown-arrow"><span class="fpd-icon-arrow-dropdown"></span></div> <div class="fpd-dropdown-list"> <div class="fpd-scroll-area"></div> </div> ',this.inputElem=this.querySelector("input.fpd-dropdown-current"),this.listElem=this.querySelector(".fpd-dropdown-list"),this.addEventListener("click",()=>{Ce(this,xe,Ie).call(this),this.classList.toggle("fpd-active")}),this.querySelector(".fpd-dropdown-arrow").addEventListener("click",e=>{e.stopPropagation(),Ce(this,xe,Ie).call(this),this.classList.toggle("fpd-active")}),this.inputElem.addEventListener("keyup",e=>{if(this.searchable){const t=e.currentTarget.value;this.listElem.querySelectorAll(".fpd-item").forEach(e=>{0==t.length?e.classList.remove("fpd-hidden"):e.classList.toggle("fpd-hidden",!e.innerText.toLowerCase().includes(t.toLowerCase()))})}}),window.addEventListener("scroll",()=>{Ce(this,xe,Ie).call(this)});const n=e=>{var t=e.parentNode;t&&(e.addEventListener("scroll",()=>{Ce(this,xe,Ie).call(this)}),n(t))};n(this),this.inputElem.setAttribute("placeholder",this.getAttribute("placeholder")||""),Ce(this,xe,Ie).call(this)}static get observedAttributes(){return["searchable","placeholder","value"]}attributeChangedCallback(e,t,n){t!==n&&(this.inputElem&&("placeholder"===e?this.inputElem.setAttribute("placeholder",n):"value"===e&&(this.inputElem.value=n)),"searchable"===e)&&(this.searchable=this.hasAttribute("searchable"))}}function Ie(){var e=this.getBoundingClientRect();this.listElem.style.width=e.width+"px",this.listElem.style.left=e.left+"px",this.listElem.style.top=e.top+e.height+"px"}customElements.define("fpd-dropdown",Ee),rr(653);class Ae extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-navigation fpd-scrollbar-hidden"></div> <div class="fpd-module-content"></div> <div class="fpd-secondary-content"> <div class="fpd-upload-zone-panel"> <div class="fpd-upload-zone-content"></div> <div class="fpd-bottom-nav fpd-module-tabs"> <div class="fpd-add-image" data-module="images"> <span class="fpd-icon-photo"></span> </div> <div class="fpd-add-text" data-module="text"> <span class="fpd-icon-text-secondary"></span> </div> <div class="fpd-add-design" data-module="designs"> <span class="fpd-icon-design-library"></span> </div> </div> </div> </div> <div class="fpd-close"> <span class="fpd-icon-close"></span> </div> <div class="fpd-draggable-dialog fpd-container fpd-shadow-2"> <div class="fpd-dialog-head"> <div class="fpd-dialog-drag-handle"> <div> <span class="fpd-icon-drag"></span><span class="fpd-dialog-title"></span> </div> </div> <div class="fpd-close-dialog"> <span class="fpd-icon-close"></span> </div> </div> </div> '}}customElements.define("fpd-main-bar",Ae);class Se extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-grid" data-defaulttext="Swap Product" data-title="modules.products"> <fpd-dropdown class="fpd-product-categories" searchable></fpd-dropdown> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-contain fpd-padding"> </div> </div> </div>'}}function ke(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(e)}function Oe(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}customElements.define("fpd-module-products",Se);var Te=new WeakSet,De=new WeakSet;class Me extends EventTarget{constructor(e,t){var n,i;super(),ke(this,De),ke(this,Te),i=n="currentCategoryIndex",(n=String(i))in this?Object.defineProperty(this,n,{value:0,enumerable:!0,configurable:!0,writable:!0}):this[n]=0,this.fpdInstance=e,this.container=document.createElement("fpd-module-products"),t.append(this.container),e.addEventListener("productsSet",e=>{const i=this.container.querySelector(".fpd-dropdown-list > .fpd-scroll-area");i.innerHTML="",this.fpdInstance.products&&0<this.fpdInstance.products.length&&(void 0!==this.fpdInstance.products[0].category&&1<this.fpdInstance.products.length&&(this.container.classList.add("fpd-categories-enabled"),this.fpdInstance.products.forEach((e,t)=>{var n=document.createElement("span");n.className="fpd-item",n.dataset.index=t,n.innerText=e.category,n.addEventListener("click",e=>{this.selectCategory(e.currentTarget.dataset.index)}),i.append(n)})),Oe(this,Te,Pe).call(this),this.selectCategory(0))}),e.addEventListener("productAdd",(e,t,n,i)=>{i==this.currentCategoryIndex&&Oe(this,De,Be).call(this,t)})}selectCategory(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(this.currentCategoryIndex=t,this.container.querySelector(".fpd-grid").innerHTML="",this.fpdInstance.products&&0<this.fpdInstance.products.length){let e;void 0!==this.fpdInstance.products[0].category?(e=this.fpdInstance.products[t].products,this.container.querySelector(".fpd-dropdown-current").value=this.fpdInstance.products[t].category):e=this.fpdInstance.products,e.forEach((e,t)=>{Oe(this,De,Be).call(this,e,t)})}}}function Pe(){if(!this.fpdInstance.mainOptions.editorMode){let e=this.fpdInstance.products[0],t=void 0===e;void 0!==e&&(t=!!(!e.hasOwnProperty("category")&&this.fpdInstance.products.length<2||e.hasOwnProperty("category")&&e.products.length<2&&this.fpdInstance.products.length<2)),this.fpdInstance.container.classList.toggle("fpd-products-module-hidden",t)}}function Be(e,n){var t=e[0].productThumbnail||e[0].thumbnail,e=e[0].productTitle||e[0].title,i=document.createElement("div"),e=(i.className="fpd-item fpd-hover-thumbnail",i.dataset.title=e,i.dataset.source=t,i.dataset.index=n,i.addEventListener("click",e=>{if(e.preventDefault(),this.fpdInstance.mainOptions.swapProductConfirmation){var t=l(this.fpdInstance.translator.getTranslation("modules","products_confirm_replacement"),!1,"confirm",this.fpdInstance.container);const e=t.querySelector(".fpd-confirm");e.innerText=this.fpdInstance.translator.getTranslation("modules","products_confirm_button"),h(e,["click"],()=>{this.fpdInstance.selectProduct(n,this.currentCategoryIndex),t.remove()})}else this.fpdInstance.selectProduct(Number(e.currentTarget.dataset.index),this.currentCategoryIndex)}),this.container.querySelector(".fpd-grid").append(i),document.createElement("picture"));e.dataset.img=t,i.append(e),this.fpdInstance.lazyBackgroundObserver.observe(e)}window.FPDProductsModule=Me;class Le extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-text-secondary" data-defaulttext="Add Text" data-title="modules.text"> <div class="fpd-add-text"> <textarea data-defaulttext="Enter some text" placeholder="modules.text_input_placeholder"></textarea> <div class="fpd-btn"> <span data-defaulttext="Add Text">modules.text_add_btn</span> <span class="fpd-price"></span> </div> </div> <div class="fpd-text-templates fpd-scroll-area"> <div class="fpd-grid fpd-padding"></div> </div> </div>'}}customElements.define("fpd-module-text",Le);class Fe extends EventTarget{constructor(s,e){var a;super(),this.fpdInstance=s,this.container=document.createElement("fpd-module-text"),e.append(this.container),this.container.querySelector(".fpd-btn").addEventListener("click",e=>{var t=this.container.querySelector("textarea"),n=t.value;if(s.currentViewInstance&&0<n.length){const e=s.currentViewInstance.options;var i=d(e.customTextParameters,{textBox:Boolean(this.fpdInstance.mainOptions.customTextAsTextbox),resizable:!0,isCustom:!0,_addToUZ:s.currentViewInstance.currentUploadZone,_calcWidth:!0});s.currentViewInstance.fabricCanvas.addElement("text",n,n,i)}t.value=""}),h(this.container.querySelector("textarea"),["input","change"],e=>{var t=s.currentViewInstance.options;let n=e.currentTarget.value,i=t.customTextParameters.maxLength,a=t.customTextParameters.maxLines;n=n.replace(FancyProductDesigner.forbiddenTextChars,""),s.mainOptions.disableTextEmojis&&(n=(n=n.replace(FPDEmojisRegex,"")).replace(String.fromCharCode(65039),"")),0!=i&&n.length>i&&(n=n.substr(0,i)),0!=a&&n.split("\n").length>a&&(n=n.replace(/([\s\S]*)\n/,"$1")),e.currentTarget.value=n}),h(s,["viewSelect","secondaryModuleCalled"],t=>{if(s.currentViewInstance){var n=s.currentViewInstance.options;let e=null;if(s.currentViewInstance.currentUploadZone&&this.container.parentNode.classList.contains("fpd-upload-zone-content")){const t=s.currentViewInstance.fabricCanvas.getUploadZone(s.currentViewInstance.currentUploadZone);V(t,"price")&&(e=t.price)}n=V(n,"customTextParameters.price",0),n=(null==e&&n&&(e=n),this.container.querySelector(".fpd-btn > .fpd-price"));n&&(n.innerHTML=e?" - "+s.formatPrice(e):"")}}),Array.isArray(s.mainOptions.textTemplates)&&(a=this.container.querySelector(".fpd-text-templates .fpd-grid"),s.mainOptions.textTemplates.forEach(n=>{var e=n.properties,t="font-family:"+(e.fontFamily||"Arial"),e=(t+="; text-align:"+(e.textAlign||"left"),document.createElement("div")),i=(e.className="fpd-item",e.addEventListener("click",e=>{if(s.currentViewInstance){const e=s.currentViewInstance.options;var t={...n.properties},t=(t.isCustom=!0,t.textBox=Boolean(this.fpdInstance.mainOptions.customTextAsTextbox),t.resizable=!0,t._addToUZ=s.currentViewInstance.currentUploadZone,t._calcWidth=!0,d(e.customTextParameters,t));s.currentViewInstance.fabricCanvas.addElement("text",n.text,n.text,t)}}),document.createElement("div"));i.setAttribute("style",t),i.innerHTML=n.text.replace(/(?:\r\n|\r|\n)/g,"<br>"),e.append(i),a.append(e)}))}}window.FPDTextsModule=Fe;class Ne extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-design-library" data-defaulttext="Add Designs" data-title="modules.designs"> <div class="fpd-head"> <div class="fpd-input-back-search"> <div class="fpd-back fpd-btn"> <span class="fpd-icon-back"></span> </div> <div class="fpd-input-search"> <input type="text"/> <span class="fpd-icon-magnify"></span> </div> </div> </div> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-contain fpd-padding"></div> </div> </div>'}}function je(e,t){ze(e,t),t.add(e)}function He(e,t,n){ze(e,t),t.set(e,n)}function ze(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}function b(e,t){return(t=Ve(e=e,t,"get")).get?t.get.call(e):t.value}function qe(e,t,n){var i=e,e=Ve(e,t,"set"),t=n;if(e.set)e.set.call(i,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function Ve(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}customElements.define("fpd-module-designs",Ne);var Ue=new WeakMap,Ze=new WeakMap,We=new WeakMap,y=new WeakMap,Re=new WeakMap,Ye=new WeakSet,Ge=new WeakSet,Je=new WeakSet,Xe=new WeakSet;class Qe extends EventTarget{constructor(n,e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;super(),je(this,Xe),je(this,Je),je(this,Ge),je(this,Ye),He(this,Ue,{writable:!0,value:""}),He(this,Ze,{writable:!0,value:!1}),He(this,We,{writable:!0,value:[]}),He(this,y,{writable:!0,value:null}),He(this,Re,{writable:!0,value:null}),qe(this,Ue,n.translator.getTranslation("modules","designs_search_in","Search in").toUpperCase()),this.fpdInstance=n,qe(this,Re,t),this.container=document.createElement("fpd-module-designs"),e.append(this.container),t&&(this.container.dataset.dynamicDesignsId=t),this.headElem=this.container.querySelector(".fpd-head"),this.gridElem=this.container.querySelector(".fpd-grid"),this.headElem.querySelector(".fpd-input-search input").addEventListener("keyup",e=>{var t=e.currentTarget,n=this.gridElem.querySelectorAll(".fpd-item");if(""==t.value)for(var i of n)i.classList.remove("fpd-hidden");else{const e=t.value.toLowerCase().trim();for(var a of n)a.classList.add("fpd-hidden"),a.dataset.search.includes(e)&&a.classList.remove("fpd-hidden")}}),h(this.headElem.querySelector(".fpd-back"),"click",e=>{0<this.gridElem.querySelectorAll(".fpd-category").length&&b(this,We).pop();let t,n=this.fpdInstance.designs;b(this,We).forEach(e=>{t=n[e],n=t.category}),qe(this,y,n),n&&v(this,Ye,Ke).call(this,b(this,y),t),void 0===t&&this.toggleCategories()});let i=!1;h(n,"productCreate",e=>{var t;i||(i=!0,t=n.designs,Array.isArray(t)&&0!==t.length&&(t[0].hasOwnProperty("source")?(this.container.classList.add("fpd-single-cat"),v(this,Je,$e).call(this,t)):1<t.length||t[0].category?(qe(this,Ze,!0),this.toggleCategories()):1===t.length&&t[0].designs&&(this.container.classList.add("fpd-single-cat"),v(this,Je,$e).call(this,t[0].designs))))}),h(n,"viewSelect",()=>{this.toggleCategories()})}toggleCategories(){if(b(this,Ze)){qe(this,We,[]),this.container.classList.remove("fpd-head-visible","fpd-single-cat"),qe(this,y,this.fpdInstance.designs),v(this,Ye,Ke).call(this,b(this,y));let e=[];if(b(this,Re))e=this.fpdInstance.mainOptions.dynamicDesigns[b(this,Re)].categories;else if(this.fpdInstance.currentViewInstance){const t=this.fpdInstance.currentElement;e=(t&&t.uploadZone&&t.designCategories?this.fpdInstance.currentElement:this.fpdInstance.currentViewInstance.options).designCategories}e=e.map(e=>e.toLowerCase());var t=this.container.querySelectorAll(".fpd-category");if(0<e.length){var n,i=[];for(n of t)e.includes(n.dataset.title.toLowerCase())?(n.classList.remove("fpd-hidden"),i.push(n)):n.classList.add("fpd-hidden");1===i.length&&(this.container.classList.add("fpd-single-cat"),i[0].click())}else for(var a of t)a.classList.remove("fpd-hidden")}}}function Ke(e,t){this.gridElem.innerHTML="",this.headElem.querySelector(".fpd-input-search input").value="",this.container.classList.remove("fpd-designs-active"),this.container.classList.add("fpd-categories-active"),e.forEach((e,t)=>{v(this,Ge,_e).call(this,e)}),t&&(this.headElem.querySelector(".fpd-input-search input").setAttribute("placeholder",b(this,Ue)+" "+t.title.toUpperCase()),this.container.classList.add("fpd-head-visible"))}function _e(e){var t,n=document.createElement("div");n.className="fpd-category fpd-item",n.dataset.title=e.title,n.dataset.search=e.title.toLowerCase(),e.thumbnail?((t=document.createElement("picture")).dataset.img=e.thumbnail,n.append(t),this.fpdInstance.lazyBackgroundObserver.observe(t),(t=document.createElement("span")).innerText=e.title,n.append(t)):n.innerHTML="<span>"+e.title+"</span>",n.addEventListener("click",e=>{var e=e.currentTarget,t=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(e),n=b(this,y)[t];n.category?(b(this,We).push(t),qe(this,y,n.category),v(this,Ye,Ke).call(this,b(this,y),n)):v(this,Je,$e).call(this,n.designs,n.parameters),this.headElem.querySelector(".fpd-input-search input").setAttribute("placeholder",b(this,Ue)+" "+e.dataset.search.toUpperCase())}),this.gridElem.append(n)}function $e(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.gridElem.innerHTML="",this.headElem.querySelector(".fpd-input-search input").value="",this.container.classList.remove("fpd-categories-active"),this.container.classList.add("fpd-designs-active","fpd-head-visible"),e.forEach(e=>{e.parameters=d(t,e.parameters),v(this,Xe,et).call(this,e)})}function et(e){e.thumbnail=void 0===e.thumbnail?e.source:e.thumbnail;var t=R(this.fpdInstance,this.container,e.parameters.price),t=a({url:e.source,thumbnailUrl:e.thumbnail,title:e.title,price:t,disablePrice:!Boolean(t)});t.dataset.search=e.title.toLowerCase(),t.parameters=e.parameters,t.addEventListener("click",e=>{e=e.currentTarget;this.fpdInstance.addCanvasDesign(e.dataset.source,e.dataset.title,e.parameters)}),this.gridElem.append(t),this.fpdInstance.lazyBackgroundObserver.observe(t.querySelector("picture"))}window.FPDDesignsModule=Qe;class tt extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-images" data-defaulttext="Add Image" data-title="modules.images"> <div class="fpd-module-tabs"> <div data-context="upload" class="fpd-active"> <span class="fpd-icon-cloud-upload"></span> </div> <div data-context="facebook" class="fpd-hidden" title="Facebook"> <span class="fpd-icon-facebook"></span> </div> <div data-context="instagram" class="fpd-hidden" title="Instagram"> <span class="fpd-icon-instagram"></span> </div> <div data-context="pixabay" class="fpd-hidden" title="Pixabay"> <span class="fpd-icon-pixabay"></span> </div> <div data-context="qr-code" title="QR-Code"> <span class="fpd-icon-qrcode"></span> </div> </div> <div class="fpd-module-tabs-content"> <div data-context="upload" class="fpd-active"></div> <div data-context="facebook"></div> <div data-context="instagram"></div> <div data-context="pixabay"></div> <div data-context="qr-code"></div> </div> </div>'}}customElements.define("fpd-module-images",tt);class nt extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-upload-image"> <span data-defaulttext="Drop images here">modules.upload_zone</span> <span class="fpd-btn" data-defaulttext="Browse File">modules.browse_file</span> <span class="fpd-price"></span> </div> <input type="file" multiple="multiple" class="fpd-upload-input fpd-hidden" name="files[]" accept="image/jpeg,image/jpg,image/png,image/svg+xml,application/pdf"/> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-cover fpd-photo-grid"></div> </div>'}}function w(e,t){at(e,t),t.add(e)}function it(e,t,n){at(e,t),t.set(e,n)}function at(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function C(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}function x(e,t){return(t=st(e=e,t,"get")).get?t.get.call(e):t.value}function E(e,t,n){var i=e,e=st(e,t,"set"),t=n;if(e.set)e.set.call(i,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function st(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}customElements.define("fpd-module-uploads",nt);var rt=new WeakMap,I=new WeakMap,ot=new WeakMap,lt=new WeakMap,ct=new WeakMap,dt=new WeakSet,pt=new WeakSet,ht=new WeakSet,ut=new WeakSet,ft=new WeakSet,mt=new WeakSet,gt=new WeakSet,vt=new WeakSet,bt=new WeakSet;class yt extends EventTarget{constructor(n,e){super(),w(this,bt),w(this,vt),w(this,gt),w(this,mt),w(this,ft),w(this,ut),w(this,ht),w(this,pt),w(this,dt),it(this,rt,{writable:!0,value:void 0}),it(this,I,{writable:!0,value:0}),it(this,ot,{writable:!0,value:!1}),it(this,lt,{writable:!0,value:[]}),it(this,ct,{writable:!0,value:0}),this.fpdInstance=n,this.container=document.createElement("fpd-module-uploads"),e.append(this.container),this.gridElem=this.container.querySelector(".fpd-grid");e=this.container.querySelector(".fpd-upload-image");E(this,rt,n.mainOptions.allowedImageTypes),x(this,rt).includes("jpeg")&&!x(this,rt).includes("jpg")&&x(this,rt).push("jpg");const t=this.container.querySelector(".fpd-upload-input");let i=[];if(x(this,rt).forEach(e=>{"pdf"==e?i.push("application/pdf"):("svg"==e&&(e+="+xml"),i.push("image/"+e))}),t.setAttribute("accept",i.join()),h(e,"click",async e=>{e.preventDefault(),t.click()}),h(t,"change",e=>{C(this,dt,wt).call(this,e.currentTarget.files)}),h(e,["dragover","dragleave"],e=>{e.stopPropagation(),e.preventDefault(),e.currentTarget.classList.toggle("fpd-hover","dragover"===e.type)}),h(e,"drop",e=>{e.stopPropagation(),e.preventDefault();e=e.target.files||e.dataTransfer.files;C(this,dt,wt).call(this,e)}),h(n,"productCreate",e=>{E(this,ot,!1)}),g()&&window.localStorage.getItem("fpd_uploaded_images")){const n=JSON.parse(window.localStorage.getItem("fpd_uploaded_images"));n.forEach(e=>{C(this,gt,St).call(this,e.url,e.title);var t=new Image;t.src=e.url,t.onerror=()=>{n.forEach((e,t)=>{n.splice(t,1)})}}),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(n))}}}function wt(e){var t,n;this.fpdInstance.mainOptions.uploadAgreementModal?((n=(t=l(this.fpdInstance.translator.getTranslation("modules","images_agreement"),!1,"confirm",this.fpdInstance.container)).querySelector(".fpd-confirm")).innerText=this.fpdInstance.translator.getTranslation("modules","images_confirm_button"),h(n,["click"],()=>{C(this,pt,Ct).call(this,e),t.remove()})):C(this,pt,Ct).call(this,e)}function Ct(e){E(this,I,0),E(this,ct,e.length);for(var t=0;t<this.fpdInstance.viewInstances.length;++t)this.fpdInstance.getElements(t).forEach(e=>{e.uploadZone&&x(this,lt).push({uz:e.title,viewIndex:t})});this.fpdInstance.loadingCustomImage=!0,Array.from(e).forEach((e,t)=>{x(this,rt).includes(G(e.name))&&C(this,ht,xt).call(this,e,0==t)}),this.container.querySelector(".fpd-upload-image").classList.remove("fpd-hover")}function xt(e,t){var n=1024*this.fpdInstance.mainOptions.customImageParameters.maxSize*1024;e.size>n?(c(this.fpdInstance.translator.getTranslation("misc","maximum_size_info").replace("%filename",e.name).replace("%mb",this.fpdInstance.mainOptions.customImageParameters.maxSize)),this.fpdInstance.loadingCustomImage=!1):("application/pdf"===e.type?C(this,ft,It):C(this,ut,Et)).call(this,e,t)}function Et(a){let s=1<arguments.length&&void 0!==arguments[1]&&arguments[1];const r=this.fpdInstance.mainOptions,e=new FileReader;e.onload=t=>{t=t.currentTarget.result;if("image/jpeg"===a.type&&r.customImageParameters.minDPI){const s=new JpegMeta.JpegFile(atob(t.replace(/^.*?,/,"")),a.name);let e=null;if(s.tiff&&s.tiff.XResolution&&s.tiff.XResolution.value?(n=s.tiff.XResolution.value.den,e=s.tiff.XResolution.value.num/n):s.jfif&&s.jfif.Xdensity&&s.jfif.Xdensity.value&&(e=s.jfif.Xdensity.value),null!==e){if(console.log(a.name+" Real Resolution: "+e),e<r.customImageParameters.minDPI){let e=this.fpdInstance.translator.getTranslation("misc","minimum_dpi_info");return e=e.replace("%dpi",r.customImageParameters.minDPI),l(e,!1,"",this.fpdInstance.container),this.fpdInstance.loadingCustomImage=!1}}else console.log(a.name+": Resolution is not accessible.")}const i=C(this,gt,St).call(this,t,a.name);if(FancyProductDesigner.uploadsToServer){if(!r.fileServerURL)return i.remove(),void alert("You need to set the fileServerURL in the option, otherwise file uploading does not work!");i.classList.add("fpd-loading"),i.insertAdjacentHTML("beforeend",'<div class="fpd-loading-bar"><div class="fpd-loading-progress"></div></div>')}var n=new Image;n.onload=n=>{var n=n.currentTarget,e=n.height,t=n.width;if(this.fpdInstance.currentViewInstance.options.customImageParameters,Y(this.fpdInstance,t,e))if(FancyProductDesigner.uploadsToServer){t=new FormData;t.append("images[]",a);const n=new XMLHttpRequest;n.responseType="json",n.onreadystatechange=e=>{if(n.readyState===XMLHttpRequest.DONE){const e=n.status;if(0===e||200<=e&&e<400){const e=n.response;var t;e.image_src&&(C(this,mt,At).call(this,e.image_src,e.filename),i.dataset.source=e.image_src,i.classList.remove("fpd-loading"),i.querySelector(".fpd-loading-bar").remove(),C(this,vt,kt).call(this,i,s),E(this,I,(t=x(this,I),++t)),i.xhr=null),this.fpdInstance.loadingCustomImage=!1}}},n.upload.onprogress=e=>{var t=e.total,e=e.loaded,e=parseInt(100*e/t);i.querySelector(".fpd-loading-progress").style.width=e+"%"},n.upload.onerror=e=>{this.fpdInstance.loadingCustomImage=!1,i.remove(),c("Upload failed. Please try again or check your web console!")},n.open("POST",this.fpdInstance.mainOptions.fileServerURL),n.send(t),i.xhr=n}else C(this,mt,At).call(this,n,a.name),C(this,vt,kt).call(this,i,s),E(this,I,(e=x(this,I),++e));else i.remove(),this.fpdInstance.currentViewInstance.currentUploadZone=null},n.src=t},e.readAsDataURL(a)}function It(e){this.fpdInstance.mainOptions;const n=c(this.fpdInstance.translator.getTranslation("modules","images_pdf_upload_info"),!1),t=new FormData,i=(t.append("pdf",e),new XMLHttpRequest);i.responseType="json",i.onreadystatechange=e=>{if(i.readyState===XMLHttpRequest.DONE){const e=i.status;if(0===e||200<=e&&e<400){var t;const e=i.response;E(this,ct,(t=x(this,ct),--t)),e.pdf_images.forEach((e,t)=>{var n=C(this,gt,St).call(this,e.image_url,e.filename);C(this,vt,kt).call(this,n,0==t),C(this,mt,At).call(this,e.image_url,e.filename),E(this,I,(n=x(this,I),++n))}),n.remove(),E(this,ct,(t=x(this,ct),++t)),this.fpdInstance.loadingCustomImage=!1}}},i.upload.onerror=()=>{this.fpdInstance.loadingCustomImage=!1,n.remove(),c("Upload failed. Please try again or check your web console!")},i.open("POST",this.fpdInstance.mainOptions.fileServerURL),i.send(t)}function At(e,t){var n;g()&&((n=window.localStorage.getItem("fpd_uploaded_images")?JSON.parse(window.localStorage.getItem("fpd_uploaded_images")):[]).push({url:e,title:t}),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(n)))}function St(e,t){const n=a({url:e,title:t,price:R(this.fpdInstance,this.container),removable:!0});return C(this,bt,Ot).call(this,n,e),this.gridElem.append(n),this.fpdInstance.lazyBackgroundObserver.observe(n.querySelector("picture")),h(n,["click"],e=>{this.fpdInstance.loadingCustomImage||this.fpdInstance._addGridItemToCanvas(e.currentTarget,{},void 0,!1)}),h(n.querySelector(".fpd-delete"),"click",e=>{e.stopPropagation(),e.preventDefault();var t,e=Array.from(this.gridElem.children).indexOf(n);n.classList.contains("fpd-loading")||((t=JSON.parse(window.localStorage.getItem("fpd_uploaded_images"))).splice(e,1),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(t)),n.xhr&&n.xhr.abort(),n.remove())}),n}function kt(e,t){if(!x(this,ot)&&this.fpdInstance.mainOptions.autoFillUploadZones){const t=x(this,lt)[x(this,I)]?x(this,lt)[x(this,I)]:null;t&&this.fpdInstance._addGridItemToCanvas(e,{_addToUZ:t.uz},t.viewIndex,!1)}else t&&this.fpdInstance._addGridItemToCanvas(e,{},void 0,!1);x(this,I)==x(this,ct)-1&&E(this,ot,!0)}function Ot(o,e){var t=this.fpdInstance.mainOptions.imageQualityRatings;if(t&&"object"==typeof t){let n=t.low||null,i=t.mid||null,a=t.high||null,s="fpd-icon-star",r="fpd-icon-star-outline";const l=new Image;l.onload=()=>{var e=document.createElement("div");let t;if(e.className="fpd-image-quality-ratings",o.append(e),n&&2==n.length){const o=l.width<Number(n[0])||l.height<Number(n[1])?r:s,i=document.createElement("span");i.className=o,e.append(i),o==s&&(t=this.fpdInstance.translator.getTranslation("misc","image_quality_rating_low"))}if(i&&2==i.length){const o=l.width<Number(i[0])||l.height<Number(i[1])?r:s,n=document.createElement("span");n.className=o,e.append(n),o==s&&(t=this.fpdInstance.translator.getTranslation("misc","image_quality_rating_mid"))}if(a&&2==a.length){const o=l.width<Number(a[0])||l.height<Number(a[1])?r:s,n=document.createElement("span");n.className=o,e.append(n),o==s&&(t=this.fpdInstance.translator.getTranslation("misc","image_quality_rating_high"))}t&&(e.dataset.qualityLabel=t)},l.src=e}}window.FPDUploadsModule=yt;class Tt extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-head"> <div class="fpd-facebook-login"> <fb:login-button data-max-rows="1" data-show-faces="false" data-scope="user_photos"> </fb:login-button> </div> <fpd-dropdown class="fpd-facebook-albums" placeholder="Select An Album" searchable></fpd-dropdown> </div> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-cover fpd-photo-grid"></div> </div>'}}function Dt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(e)}function Mt(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}customElements.define("fpd-module-facebook-images",Tt);var Pt=new WeakSet,Bt=new WeakSet,Lt=new WeakSet;class Ft extends EventTarget{constructor(e,t){super(),Dt(this,Lt),Dt(this,Bt),Dt(this,Pt),this.fpdInstance=e,this.container=document.createElement("fpd-module-facebook-images"),t.append(this.container),this.dropdown=this.container.querySelector("fpd-dropdown"),this.dropdownList=this.container.querySelector(".fpd-dropdown-list > .fpd-scroll-area"),this.gridElem=this.container.querySelector(".fpd-grid"),Mt(this,Pt,Nt).call(this)}}function Nt(){var e=document.createElement("script");e.src="//connect.facebook.com/en_US/sdk.js",e.addEventListener("load",()=>{FB.init({appId:this.fpdInstance.mainOptions.facebookAppId,autoLogAppEvents:!0,xfbml:!0,version:"v16.0"}),FB.getLoginStatus(Mt(this,Bt,jt).bind(this)),FB.Event.subscribe("auth.statusChange",Mt(this,Bt,jt).bind(this))}),document.body.appendChild(e)}function jt(e){"connected"===e.status&&(u(this.container,["fpd-facebook-logged-in"]),FB.api("/me/albums?fields=name,count,id",e=>{e=e.data;e&&e.forEach(e=>{var t=document.createElement("span");t.className="fpd-item",t.dataset.albumid=e.id,t.innerText=e.name,t.addEventListener("click",e=>{this.dropdown.setAttribute("value",e.currentTarget.innerText),Mt(this,Lt,Ht).call(this,e.currentTarget.dataset.albumid)}),this.dropdownList.append(t)}),p(this.dropdown,["fpd-on-loading"])}))}function Ht(t){this.gridElem.innerHTML="",u(this.dropdown,["fpd-on-loading"]),FB.api("/"+t+"?fields=count",e=>{e=e.count;FB.api("/"+t+"?fields=photos.limit("+e+").fields(source,images)",e=>{p(this.dropdown,["fpd-on-loading"]),e.error||e.photos.data.forEach(e=>{var t=(e.images[0]||e).source,n=(e.images[e.images.length-1]?e.images[e.images.length-1]:e).source,t=a({url:t,thumbnailUrl:n,title:e.id,price:R(this.fpdInstance,this.container)});h(t,["click"],e=>{this.fpdInstance.loadingCustomImage||this.fpdInstance._addGridItemToCanvas(e.currentTarget)}),this.gridElem.append(t),this.fpdInstance.lazyBackgroundObserver.observe(t.querySelector("picture"))}),this.fpdInstance.toggleSpinner(!1)})})}class zt extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-cover fpd-photo-grid"></div> </div>'}}function qt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(e)}function Vt(e,t,n){var i;i=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==typeof i?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function Ut(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}customElements.define("fpd-module-instagram-images",zt);var Zt=new WeakSet,Wt=new WeakSet,Rt=new WeakSet;class Yt extends EventTarget{constructor(e,t){super(),qt(this,Rt),qt(this,Wt),qt(this,Zt),Vt(this,"accessToken",null),Vt(this,"nextStack",null),Vt(this,"loadingStack",!1),Vt(this,"scrollArea",null),this.fpdInstance=e,this.container=document.createElement("fpd-module-instagram-images"),t.append(this.container),this.gridElem=this.container.querySelector(".fpd-grid"),this.scrollArea=this.container.querySelector(".fpd-scroll-area"),this.scrollArea.addEventListener("scroll",Ut(this,Rt,Xt).bind(this))}authenticate(){const e=this.fpdInstance.mainOptions;if(g()){const e=window.localStorage.getItem("fpd_insta_access_token");if(!m(e))return this.accessToken=e,void Ut(this,Wt,Jt).call(this)}var t=(window.screen.width-700)/2,n=(window.screen.height-500)/2,i={app_id:e.instagramClientId,redirect_uri:e.instagramRedirectUri,scope:"user_profile,user_media",response_type:"code"},i=new URLSearchParams(i).toString(),a=window.open("https://api.instagram.com/oauth/authorize?"+i,"","width=700,height=500,left="+t+",top="+n),s=setInterval(()=>{a.closed&&clearInterval(s);try{var e;a.location&&a.location.href&&(e=new URL(a.location.href).searchParams.get("code"))&&(e=e.replace("#_",""),Ut(this,Zt,Gt).call(this,e),a.close())}catch(e){}},500)}}function Gt(e){var t=this.fpdInstance.mainOptions;this.fpdInstance.toggleSpinner(!0),i({url:t.instagramTokenUri,params:{code:e,client_app_id:t.instagramClientId,redirect_uri:t.instagramRedirectUri},onSuccess:e=>{e.access_token?(g()&&window.localStorage.setItem("fpd_insta_access_token",e.access_token),this.accessToken=e.access_token,Ut(this,Wt,Jt).call(this)):e.error_message&&this.fpdInstance.toggleSpinner(!1)},onError:e=>{this.fpdInstance.toggleSpinner(!1)}})}function Jt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"https://graph.instagram.com/me/media",t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],e=(this.loadingStack=!0,this.fpdInstance.toggleSpinner(!0),{url:e,onSuccess:e=>{e.data&&(this.nextStack=e.paging&&e.paging.next?e.paging.next:null,e.data.forEach(e=>{"VIDEO"!==e.media_type&&(e=a({url:e.media_url,thumbnailUrl:e.thumbnail_url||e.media_url,title:e.id,price:R(this.fpdInstance,this.container)}),h(e,["click"],e=>{this.fpdInstance.loadingCustomImage||this.fpdInstance._addGridItemToCanvas(e.currentTarget)}),this.gridElem.append(e),this.fpdInstance.lazyBackgroundObserver.observe(e.querySelector("picture")))})),this.fpdInstance.toggleSpinner(!1),this.loadingStack=!1,Ut(this,Rt,Xt).call(this)},onError:e=>{e.response&&e.response.error&&e.response.error.code&&g()&&190==e.response.error.code&&(window.localStorage.removeItem("fpd_insta_access_token"),this.accessToken=null,this.authenticate()),this.fpdInstance.toggleSpinner(!1),this.loadingStack=!1}});t&&(this.gridElem.innerHTML="",e.params={fields:"id,caption,media_url,media_type",access_token:this.accessToken}),i(e)}function Xt(){var e=this.scrollArea.scrollHeight;(this.scrollArea.clientHeight+this.scrollArea.scrollTop+100>e||this.gridElem.clientHeight<e)&&null!==this.nextStack&&!this.loadingStack&&Ut(this,Wt,Jt).call(this,this.nextStack,!1)}class Qt extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-loader-wrapper"> <div class="fpd-loader"> <div class="fpd-loader-circle"></div> </div> </div> <div class="fpd-head"> <a href="https://pixabay.com/" target="_blank" class="fpd-pixabay-logo"> </a> <div class="fpd-input-search"> <input type="text" data-defaulttext="Search in Pixabay library" placeholder="modules.pixabay_search"/> <span class="fpd-icon-magnify"></span> </div> </div> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-cover fpd-photo-grid"></div> </div>'}}customElements.define("fpd-module-pixabay-images",Qt);class Kt extends EventTarget{loadingStack=!1;currentQuery="";pixabayPage=1;constructor(e,t){super(),this.fpdInstance=e,this.container=document.createElement("fpd-module-pixabay-images"),t.append(this.container),this.gridElem=this.container.querySelector(".fpd-grid"),this.loader=this.container.querySelector(".fpd-loader-wrapper");const n=this.container.querySelector(".fpd-scroll-area");n.addEventListener("scroll",e=>{var t=n.scrollHeight;n.clientHeight+n.scrollTop+100>t&&(this.loadingStack||(this.pixabayPage++,this.loadImages(void 0,!1)))}),h(this.container.querySelector("input"),["keypress"],e=>{13==e.which&&(this.pixabayPage=1,this.loadImages(e.currentTarget.value))})}loadImages(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.currentQuery===e)return!1;var n=this.fpdInstance.mainOptions,e=(this.loadingStack=!0,this.currentQuery=void 0===e?this.currentQuery:e,n.pixabayHighResImages?"&response_group=high_resolution":""),e="https://pixabay.com/api/?safesearch=true&key="+n.pixabayApiKey+"&page="+this.pixabayPage+"&per_page=40&min_width="+n.customImageParameters.minW+"&min_height="+n.customImageParameters.minH+e+"&q="+encodeURIComponent(this.currentQuery)+"&lang="+n.pixabayLang;t&&(this.gridElem.innerHTML=""),p(this.loader,["fpd-hidden"]),i({url:e,onSuccess:e=>{u(this.loader,["fpd-hidden"]),0<e.hits.length&&e.hits.forEach(e=>{e=a({url:e.imageURL||e.webformatURL,thumbnailUrl:e.webformatURL,title:e.id||e.id_hash,price:R(this.fpdInstance,this.container)});h(e,["click"],e=>{this.fpdInstance.loadingCustomImage||this.fpdInstance._addGridItemToCanvas(e.currentTarget)}),this.gridElem.append(e),this.fpdInstance.lazyBackgroundObserver.observe(e.querySelector("picture"))}),this.loadingStack=!1},onError:e=>{u(this.loader,["fpd-hidden"])}})}}class _t extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div> <input type="text" data-defaulttext="Enter a URL, some text..." placeholder="modules.qr_code_input"/> <div class="fpd-qr-code-colors"> <div class="fpd-qr-code-color-dark"></div> <div class="fpd-qr-code-color-light"></div> </div> <span class="fpd-add-qr-code fpd-btn" data-defaulttext="Add QR-Code">modules.qr_code_add_btn</span> <div class="fpd-qr-code-wrapper fpd-hidden"></div> </div> '}}customElements.define("fpd-module-qr-code",_t);class $t extends EventTarget{constructor(i,e){super(),this.fpdInstance=i,this.darkColor="#000",this.lightColor="#fff",this.container=document.createElement("fpd-module-qr-code"),e.append(this.container);const t=this.container.querySelector(".fpd-qr-code-color-dark"),n=(t.style.backgroundColor="#000",new Picker({parent:t,popup:"bottom",alpha:!1,color:this.darkColor,onChange:e=>{this.darkColor=tinycolor(e.rgbaString).toHexString(),t.style.backgroundColor=this.darkColor}}),this.container.querySelector(".fpd-qr-code-color-light")),a=(n.style.backgroundColor=this.lightColor,new Picker({parent:n,popup:"bottom",alpha:!1,color:this.lightColor,onChange:e=>{this.lightColor=tinycolor(e.rgbaString).toHexString(),n.style.backgroundColor=this.lightColor}}),this.container.querySelector(".fpd-qr-code-wrapper"));h(this.container.querySelector(".fpd-btn"),"click",e=>{a.innerHTML="";const n=this.container.querySelector('input[type="text"]').value;n&&0<n.length&&(new QRCode(a,{text:this.container.querySelector('input[type="text"]').value,width:256,height:256,colorDark:this.darkColor,colorLight:this.lightColor,correctLevel:QRCode.CorrectLevel.H}),a.querySelector("img").onload=e=>{var t=d(i.mainOptions.qrCodeProps,{_addToUZ:i.currentViewInstance.currentUploadZone});i._addCanvasImage(e.currentTarget.src,"QR-Code: "+n,t),this.container.querySelector('input[type="text"]').value=""})})}}class en extends EventTarget{constructor(i,e){super(),this.fpdInstance=i,this.container=document.createElement("fpd-module-images"),e.append(this.container);const n=Array.from(this.container.querySelectorAll(".fpd-module-tabs > div")),a=Array.from(this.container.querySelectorAll(".fpd-module-tabs-content > div"));let s=null,r=null;h(n,"click",e=>{const t=e.currentTarget;p(n,["fpd-active"]),p(a,["fpd-active"]),u(t,["fpd-active"]),u(a.find(e=>e.dataset.context==t.dataset.context),["fpd-active"]),"instagram"==t.dataset.context&&s&&!s.accessToken?s.authenticate():"pixabay"==t.dataset.context&&r&&r.loadImages()});e=i.mainOptions;new yt(i,a.find(e=>"upload"==e.dataset.context)),h(i,["viewSelect","secondaryModuleCalled"],e=>{const t=R(i,this.container),n=this.container.querySelectorAll(".fpd-price");n&&(f(n,["fpd-hidden"],!Boolean(t)),n.forEach(e=>{e.innerHTML=t}))}),m(e.facebookAppId)||(new Ft(i,a.find(e=>"facebook"==e.dataset.context)),n.find(e=>"facebook"==e.dataset.context).classList.remove("fpd-hidden")),m(e.instagramClientId)||(s=new Yt(i,a.find(e=>"instagram"==e.dataset.context)),n.find(e=>"instagram"==e.dataset.context).classList.remove("fpd-hidden")),m(e.pixabayApiKey)||(r=new Kt(i,a.find(e=>"pixabay"==e.dataset.context)),n.find(e=>"pixabay"==e.dataset.context).classList.remove("fpd-hidden")),new $t(i,a.find(e=>"qr-code"==e.dataset.context)),n.filter(e=>!e.classList.contains("fpd-hidden")).length<2&&this.container.classList.add("fpd-hide-tabs")}}window.FPDImagesModule=en;class tn extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-layers" data-defaulttext="Manage Layers" data-title="modules.manage_layers"> <div class="fpd-scroll-area"> <div class="fpd-list"></div> </div> </div>'}}customElements.define("fpd-module-manage-layers",tn);const nn=n=>{let i=!1,a=null;var e=document.createElement("div");e.className="fpd-colorpicker-wrapper";const t=new Picker({parent:e,popup:!1,alpha:!1,color:tinycolor(n.initialColor).isValid()?n.initialColor:"#fff",onChange:e=>{const t=tinycolor(e.rgbaString).toHexString();i&&n.onMove&&n.onMove(t),"number"==typeof a&&clearTimeout(a),a=setTimeout(()=>{i&&n.onChange&&n.onChange(t),i=!0},500)}});if(void 0!==window.EyeDropper){const n=t.domElement.querySelector(".picker_sample"),i=document.createElement("span");i.className="fpd-icon-color",n.append(i),h(n,"click",e=>{(new EyeDropper).open().then(e=>{t.setColor(e.sRGBHex)}).catch(e=>{console.log(e)})})}if(n.palette&&Array.isArray(n.palette)){const i=sn({colors:n.palette,colorNames:n.colorNames,onChange:e=>{n.onChange&&n.onChange(e)}});e.append(i)}return e},an=a=>{var e=document.createElement("div");e.className="fpd-scroll-area",(a.enablePicker||a.subPalette)&&u(e,["fpd-has-subpanel"]);const s=document.createElement("div");let r;return s.className="fpd-color-palette",e.append(s),a.colors&&Array.isArray(a.colors)&&a.colors.forEach((t,n)=>{let e=t;if(a.colorNames){const s=a.colorNames[t.replace("#","").toLowerCase()];s&&(e=s.toUpperCase())}const i=document.createElement("span");i.className="fpd-item",i.style.backgroundColor=t,i.setAttribute("aria-label",e),i.dataset.hex=t,s.append(i),a.enablePicker||a.subPalette||u(i,["fpd-tooltip"]),h(i,"click",e=>{if(e.stopPropagation(),a.enablePicker||a.subPalette){r&&(r.remove(),r=null);const e=i.classList.contains("fpd-active");e||(r=a.enablePicker?nn({initialColor:t,colorNames:a.colorNames,palette:a.palette,onMove:e=>{a.onMove&&a.onMove(e,n)},onChange:e=>{i.style.backgroundColor=e,a.onChange&&a.onChange(e,n)}}):an({colors:a.palette,colorNames:a.colorNames,onChange:e=>{i.style.backgroundColor=e,a.onChange&&a.onChange(e,n)}}),s.append(r)),p(s,["fpd-sub-show"]),p(s.querySelectorAll(".fpd-item"),["fpd-active"]),e||(u(s,["fpd-sub-show"]),u(i,["fpd-active"]))}else a.onChange&&a.onChange(t)})}),e},sn=an,rn=(e,t)=>{if(t.colors){var n=document.createElement("div");if(n.className="fpd-color-panel",1===t.colors.length){var i=nn({initialColor:t.colors[0],colorNames:e.mainOptions.hexNames,palette:e.mainOptions.colorPickerPalette,onMove:e=>{t.onMove&&t.onMove(e)},onChange:e=>{t.onChange&&t.onChange(e)}});n.append(i)}else{i=sn({colors:t.colors,colorNames:e.mainOptions.hexNames,palette:e.mainOptions.colorPickerPalette,onChange:e=>{t.onChange&&t.onChange(e)}});if(n.append(i),t.patterns){const e=(a=>{var e=document.createElement("div");e.className="fpd-scroll-area";const s=document.createElement("div");return s.className="fpd-patterns-wrapper",e.append(s),a.images&&Array.isArray(a.images)&&a.images.forEach((t,e)=>{var n=t.replace(/^.*[\\\/]/,"").replace(/\.[^/.]+$/,"").replace("_"," ").toUpperCase(),i=document.createElement("span");i.className="fpd-item fpd-tooltip",i.style.backgroundImage=`url("${t}")`,i.setAttribute("aria-label",n),s.append(i),h(i,"click",e=>{a.onChange&&a.onChange(t)})}),e})({images:t.patterns,onChange:e=>{t.onPatternChange&&t.onPatternChange(e)}});n.append(e)}}return n}};function on(e,t){ln(e,t),t.add(e)}function ln(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cn(e,t){return(t=dn(e=e,t,"get")).get?t.get.call(e):t.value}function dn(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}function pn(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}var hn=new WeakMap,un=new WeakSet,fn=new WeakSet,mn=new WeakSet,gn=new WeakSet,vn=new WeakSet;class bn extends EventTarget{constructor(i,e){var t,n;super(),on(this,vn),on(this,gn),on(this,mn),on(this,fn),on(this,un),n={writable:!0,value:null},ln(this,t=hn),t.set(this,n),this.fpdInstance=i,this.container=document.createElement("fpd-module-manage-layers"),e.append(this.container),this.listElem=this.container.querySelector(".fpd-list"),h(i,["elementAdd","elementRemove","viewSelect","productCreate"],e=>{i.productCreated&&pn(this,un,yn).call(this)}),h(i,["elementModify","textLinkApply"],e=>{if(i.productCreated){const{element:i,options:t}=e.detail,n=this.listElem.querySelector('.fpd-list-row[id="'+i.id+'"]');if(n){const i=n.querySelector("textarea");t.text&&i&&(i.value=t.text)}}}),h(i,"elementFillChange",e=>{if(i.productCreated){const i=e.detail.element,t=this.listElem.querySelector('.fpd-list-row[id="'+i.id+'"]');t&&t.querySelector(".fpd-current-color")&&(t.querySelector(".fpd-current-color").style.background=X(i))}})}}function yn(){this.listElem.innerHTML="",this.fpdInstance.getElements(this.fpdInstance.currentViewIndex,"all",!1).forEach(e=>{e.checkEditable()&&pn(this,fn,wn).call(this,e)}),cn(this,hn)&&cn(this,hn).dispose(),n=hn,e=AreaSortable("vertical",{container:this.listElem,handle:"fpd-icon-reorder",item:"fpd-list-row",placeholder:"fpd-sortable-placeholder",activeItem:"fpd-sortable-dragged",closestItem:"fpd-sortable-closest",autoscroll:!0,animationMs:0,onStart:e=>{const t=window.pageYOffset||document.documentElement.scrollTop||0;window.onscroll=()=>{window.scrollTo({top:t})}},onChange:e=>{var t=this.fpdInstance.currentViewInstance.fabricCanvas,n=t.getElementByID(e.id);let i=this.listElem.querySelector(".fpd-sortable-closest"),a=t.getElementByID((i||e).id).getZIndex();i||a++,t.setElementOptions({z:a},n)},onEnd:e=>{window.onscroll=()=>{}}});var e,t=this,n=dn(this,n,"set");if(n.set)n.set.call(t,e);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=e}}function wn(n){const i=document.createElement("div");i.className="fpd-list-row",i.id=n.id;let e=document.createElement("span"),t=null;if(!n.uploadZone&&n.hasColorSelection()){t=J(n,this.fpdInstance);const a=X(n);e.style.background=a,e.className="fpd-current-color",i.colors=t}const a=document.createElement("div");a.className="fpd-cell-0",a.append(e),i.append(a);let s=n.title;"text"===n.getType()&&n.editable&&((s=document.createElement("textarea")).innerText=n.text,h(s,"keyup",e=>{e.stopPropagation();let t=e.target.value;t=t.replace(FancyProductDesigner.forbiddenTextChars,""),this.fpdInstance.mainOptions.disableTextEmojis&&(t=(t=t.replace(FPDEmojisRegex,"")).replace(String.fromCharCode(65039),"")),this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({text:t},n)}),n.on({"editing:exited":()=>{s.value=n.text}}));var r=document.createElement("div"),r=(r.className="fpd-cell-1",r.append(s),i.append(r),document.createElement("div"));if(r.className="fpd-cell-2",i.append(r),n.uploadZone){u(i,["fpd-add-layer"]);const n=document.createElement("span");n.className="fpd-icon-add",r.append(n)}else{if(n.zChangeable){const n=document.createElement("span");n.className="fpd-icon-reorder",r.append(n)}const e=n.locked?"fpd-icon-locked":"fpd-icon-unlocked",t=document.createElement("span");t.className="fpd-lock-element",t.innerHTML=`<span class="${e}"></span>`,r.append(t),h(t,"click",e=>{e.stopPropagation(),p(i,["fpd-show-colors"]),n.evented=!n.evented,n.locked=!n.evented;e=e.currentTarget.querySelector("span");f(e,["fpd-icon-unlocked"],n.evented),f(e,["fpd-icon-locked"],!n.evented),f(i,["fpd-locked"],!n.evented)}),f(i,["fpd-locked"],n.locked)}let o,l=n.removable||n.__editorMode;if(l=n.uploadZone?n.uploadZoneRemovable:l){const i=document.createElement("span");i.className="fpd-remove-element",i.innerHTML='<span class="fpd-icon-bin"></span>',r.append(i),h(i,"click",e=>{e.stopPropagation(),this.fpdInstance.currentViewInstance.fabricCanvas.removeElement(n)})}if(this.listElem.prepend(i),t){if(o=document.createElement("div"),"group"===n.type&&1<n.getObjects().length){const i=Array.isArray(n.colors)&&1<n.colors.length;r=sn({colors:t,colorNames:this.fpdInstance.mainOptions.hexNames,palette:n.colors,subPalette:i,enablePicker:!i,onChange:(e,t)=>{pn(this,vn,En).call(this,n,t,e)},onMove:(e,t)=>{n.changeObjectColor(t,e)}});o.append(r)}else o=rn(this.fpdInstance,{colors:t,patterns:Array.isArray(n.patterns)&&(n.isSVG()||"text"===n.getType())?n.patterns:null,onMove:e=>{pn(this,mn,Cn).call(this,n,e)},onChange:e=>{pn(this,gn,xn).call(this,n,e)},onPatternChange:e=>{i.querySelector(".fpd-current-color").style.backgroundImage=`url("${e}")`,this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({pattern:e},n)}});o&&(u(o,["fpd-cell-full"]),i.append(o)),h(i.querySelector(".fpd-current-color"),"click",e=>{var t=!i.classList.contains("fpd-show-colors");p(this.listElem.querySelectorAll(".fpd-list-row"),["fpd-show-colors"]),f(i,["fpd-show-colors"],t)})}h(i.querySelector(".fpd-cell-1"),"click",e=>{var t=e.currentTarget.parentNode;t.classList.contains("fpd-locked")||"TEXTAREA"==e.target.nodeName||(e=this.fpdInstance.currentViewInstance.fabricCanvas.getElementByID(t.id))&&e.canvas.setActiveObject(e).renderAll()})}function Cn(e,t){"png"!==e.isColorizable()&&e.changeColor(t)}function xn(e,t){var n=this.listElem.querySelector('.fpd-list-row[id="'+e.id+'"]');n&&n.querySelector(".fpd-current-color")&&(n.querySelector(".fpd-current-color").style.background=X(e)),this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:t},e)}function En(e,t,n){t=e.changeObjectColor(t,n);this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:t},e)}window.FPDLayersModule=bn;class In extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-save" data-defaulttext="Saved Designs" data-title="modules.save_load"> <div class="fpd-save-design"> <input type="text" data-defaulttext="Optional: Enter a title" placeholder="modules.save_load_input_placeholder"> <div class="fpd-btn"> <span data-defaulttext="Save Design">modules.save_load_add_btn</span> </div> </div> <div class="fpd-saved-designs fpd-scroll-area"> <div class="fpd-grid"></div> </div> </div>'}}function An(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}customElements.define("fpd-module-save-load",In);var Sn=new WeakSet;class kn extends EventTarget{constructor(n,e){super();var t,i=this;if((t=Sn).has(i))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(this),this.fpdInstance=n,this.container=document.createElement("fpd-module-save-load"),e.append(this.container),this.inputElem=this.container.querySelector("input"),this.gridElem=this.container.querySelector(".fpd-grid"),h(this.container.querySelector(".fpd-btn"),"click",e=>{var t=de(this.fpdInstance.currentViewInstance.options.stageWidth,this.fpdInstance.currentViewInstance.options.stageHeight,300,300,"cover");n.viewInstances[0].toDataURL(t=>{var e=this.fpdInstance.getProduct(),t={thumbnail:t,product:e,title:this.inputElem.value||""};if(e&&this.fpdInstance.mainOptions.saveActionBrowserStorage){let e=An(this,Sn,On).call(this);e=e||[],this.addSavedProduct(t),e.push(t),window.localStorage.setItem(this.fpdInstance.container.id,JSON.stringify(e)),c(this.fpdInstance.translator.getTranslation("misc","product_saved"))}e&&(this.fpdInstance.dispatchEvent(new CustomEvent("actionSave",{detail:t})),this.fpdInstance.doUnsavedAlert=!1)},{multiplier:t,format:"png",backgroundColor:"transparent"})}),this.fpdInstance.mainOptions.saveActionBrowserStorage&&(i=An(this,Sn,On).call(this))&&0<i.length&&i.forEach(e=>{this.addSavedProduct(e)})}addSavedProduct(e){var{thumbnail:e,product:t,title:n=""}=e;const i=a({url:e,title:n,removable:!0,disablePrice:!0,disableDraggable:!0});return this.fpdInstance.lazyBackgroundObserver.observe(i.querySelector("picture")),i.product=t,this.gridElem.append(i),h(i,"click",e=>{this.fpdInstance.loadProduct(i.product),this.fpdInstance.currentProductIndex=-1}),h(i.querySelector(".fpd-delete"),"click",e=>{e.stopPropagation();var t,e=e.currentTarget.parentNode,n=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(e);this.fpdInstance.mainOptions.saveActionBrowserStorage&&((t=An(this,Sn,On).call(this)).splice(n,1),window.localStorage.setItem(this.fpdInstance.container.id,JSON.stringify(t))),this.fpdInstance.dispatchEvent(new CustomEvent("actionLoad:Remove",{detail:{index:n,item:e}})),e.remove()}),i}}function On(){return!!g()&&JSON.parse(window.localStorage.getItem(this.fpdInstance.container.id))}window.FPDSaveLoadModule=kn;class Tn extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-text-layers" data-defaulttext="Text Layers" data-title="modules.text_layers"> <div class="fpd-scroll-area"> <div class="fpd-list"></div> </div> </div>'}}function Dn(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(e)}function Mn(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}customElements.define("fpd-module-text-layers",Tn);var Pn=new WeakSet,Bn=new WeakSet,Ln=new WeakSet;class Fn extends EventTarget{constructor(a,e){super(),Dn(this,Ln),Dn(this,Bn),Dn(this,Pn),this.fpdInstance=a,this.container=document.createElement("fpd-module-text-layers"),e.append(this.container),this.listElem=this.container.querySelector(".fpd-list"),h(a,["elementAdd","elementRemove","viewSelect","productCreate"],e=>{a.productCreated&&Mn(this,Pn,Nn).call(this)}),h(a,["elementModify","textLinkApply"],e=>{if(a.productCreated){const{element:a,options:n}=e.detail,i=this.listElem.querySelector('.fpd-list-row[id="'+a.id+'"]');if(i){const a=i.querySelector('[data-control="fontSize"]'),e=(n.fontSize&&a&&(a.value=n.fontSize),i.querySelector("fpd-dropdown"));n.fontFamily&&e&&e.setAttribute("value",n.fontFamily);var t=i.querySelector(".fpd-text-input");n.text&&t&&(t.value=n.text)}}})}}function Nn(){this.listElem.innerHTML="",this.fpdInstance.getElements(this.fpdInstance.currentViewIndex,"all",!1).forEach(e=>{e.checkEditable()&&"text"==e.getType()&&Mn(this,Ln,Hn).call(this,e)})}function jn(e,t,i){const a=document.createElement("fpd-dropdown"),s=(a.searchable=!0,t.append(a),a.querySelector(".fpd-dropdown-list > .fpd-scroll-area"));return e.forEach((t,e)=>{"object"==typeof t&&(t=t.name);var n=document.createElement("span");n.className="fpd-item",n.family=t,n.style.fontFamily=t,n.innerText=t,n.addEventListener("click",e=>{a.setAttribute("value",e.currentTarget.innerText),this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fontFamily:t},i)}),s.append(n)}),a}function Hn(n){var e=document.createElement("div");if(e.className="fpd-list-row",e.id=n.id,this.listElem.prepend(e),n.editable){var i=document.createElement("div"),i=(i.className="fpd-cell-full fpd-title",i.innerText=n.title,e.append(i),document.createElement("div"));let t;i.className="fpd-cell-full",e.append(i),(t=1==n.maxLines?document.createElement("input"):document.createElement("textarea")).value=n.text,i.append(t),t.className="fpd-text-input";var a=document.createElement("span"),i=(a.className="fpd-clear-text",a.innerText=this.fpdInstance.translator.getTranslation("modules","text_layers_clear","Clear"),i.append(a),h(a,"click",e=>{e.stopPropagation(),this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({text:""},n),t.value=""}),n.on({"editing:exited":()=>{t.value=n.text}}),h(t,"keyup",e=>{e.stopPropagation();let t=e.target.value;t=t.replace(FancyProductDesigner.forbiddenTextChars,""),this.fpdInstance.mainOptions.disableTextEmojis&&(t=(t=t.replace(FPDEmojisRegex,"")).replace(String.fromCharCode(65039),"")),this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({text:t},n)}),Array.isArray(this.fpdInstance.mainOptions.fonts)?this.fpdInstance.mainOptions.fonts:[]);i.length&&((a=document.createElement("div")).className="fpd-cell-1",e.append(a),Mn(this,Bn,jn).call(this,i,a,n).setAttribute("value",n.fontFamily))}if(n.resizable||n.__editorMode){i=document.createElement("div");i.className="fpd-cell-2",e.append(i);const t=document.createElement("input");t.className="fpd-tooltip",t.setAttribute("aria-label",this.fpdInstance.translator.getTranslation("toolbar","font_size","Font Size")),t.type="number",t.value=n.fontSize,t.dataset.control="fontSize",t.min=n.minFontSize,t.max=n.maxFontSize,i.append(t),h(t,"change",e=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fontSize:parseInt(e.currentTarget.value)},n),t.value=n.fontSize})}n.hasColorSelection()&&((a=document.createElement("div")).className="fpd-cell-full",e.append(a),i=J(n,this.fpdInstance),e=rn(this.fpdInstance,{colors:i,patterns:Array.isArray(n.patterns)&&(n.isSVG()||"text"===n.getType())?n.patterns:null,onMove:e=>{n.changeColor(e)},onChange:e=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:e},n)},onPatternChange:e=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({pattern:e},n)}}))&&a.append(e)}window.FPDTextLayersModule=Fn;class zn extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-layouts" data-defaulttext="Layouts" data-title="modules.layouts"> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-contain fpd-padding"></div> </div> </div>'}}function qn(e,t){Un(e,t),t.add(e)}function Vn(e,t,n){Un(e,t),t.set(e,n)}function Un(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Zn(e,t,n){var i=e,e=Rn(e,t,"set"),t=n;if(e.set)e.set.call(i,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function Wn(e,t){return(t=Rn(e=e,t,"get")).get?t.get.call(e):t.value}function Rn(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}function Yn(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}customElements.define("fpd-module-layouts",zn);var Gn=new WeakMap,Jn=new WeakMap,Xn=new WeakMap,Qn=new WeakSet,Kn=new WeakSet;class _n extends EventTarget{constructor(t,e){super(),qn(this,Kn),qn(this,Qn),Vn(this,Gn,{writable:!0,value:0}),Vn(this,Jn,{writable:!0,value:0}),Vn(this,Xn,{writable:!0,value:!1}),this.fpdInstance=t,this.container=document.createElement("fpd-module-layouts"),e.append(this.container),this.gridElem=this.container.querySelector(".fpd-grid"),h(t,"layoutsSet",e=>{this.layoutsData=t.currentLayouts,Yn(this,Kn,ei).call(this)}),h(this.fpdInstance,"beforeElementAdd",Yn(this,Qn,$n).bind(this))}}function $n(e){var t,n=e.detail.element;if(Wn(this,Xn)){Zn(this,Gn,(t=Wn(this,Gn),++t));const e=n.title+"<br>"+String(Wn(this,Gn))+"/"+Wn(this,Jn);this.fpdInstance.mainLoader.querySelector(".fpd-loader-text").innerHTML=e}}function ei(){this.gridElem.innerHTML="",Array.isArray(this.layoutsData)&&this.layoutsData.forEach(i=>{var e=a({url:i.thumbnail,title:i.title,disablePrice:!0,disableDraggable:!0});h(e,"click",e=>{var t,n;this.fpdInstance.productCreated&&((n=(t=l(this.fpdInstance.translator.getTranslation("modules","layouts_confirm_replacement","Yes, please!"),!1,"confirm",this.fpdInstance.container)).querySelector(".fpd-confirm")).innerText=this.fpdInstance.translator.getTranslation("modules","layouts_confirm_button","Sure?"),h(n,"click",()=>{Zn(this,Gn,0),Zn(this,Jn,i.elements.length),this.fpdInstance.globalCustomElements=[],this.fpdInstance.mainOptions.replaceInitialElements&&(this.fpdInstance.globalCustomElements=this.fpdInstance.getCustomElements()),this.fpdInstance.deselectElement(),this.fpdInstance.toggleSpinner(!0),Zn(this,Xn,!0),this.fpdInstance.currentViewInstance.loadElements(i.elements,()=>{Zn(this,Xn,!1),this.fpdInstance.toggleSpinner(!1),this.fpdInstance.dispatchEvent(new CustomEvent("layoutElementsAdded",{detail:{elements:i.elements}}))}),t.remove()}))}),this.gridElem.append(e),this.fpdInstance.lazyBackgroundObserver.observe(e.querySelector("picture"))})}window.FPDLayoutsModule=_n;class ti extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-name-number" data-defaulttext="Names & Numbers" data-title="modules.names_numbers"> <div class="fpd-head"> <span class="fpd-btn" data-defaulttext="Add New"> modules.names_numbers_add_new </span> </div> <div class="fpd-scroll-area"> <div class="fpd-list"></div> </div> </div>'}}function ni(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(e)}function A(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}customElements.define("fpd-module-names-numbers",ti);var ii=new WeakSet,ai=new WeakSet,si=new WeakSet,ri=new WeakSet,oi=new WeakSet,li=new WeakSet,ci=new WeakSet;class di extends EventTarget{constructor(n,e){super(),ni(this,ci),ni(this,li),ni(this,oi),ni(this,ri),ni(this,si),ni(this,ai),ni(this,ii),this.fpdInstance=n,this.container=document.createElement("fpd-module-names-numbers"),e.append(this.container),this.listElem=this.container.querySelector(".fpd-list"),h(n,"viewSelect",e=>{A(this,ai,hi).call(this)}),h(this.container.querySelector(".fpd-btn"),"click",e=>{var t=A(this,si,ui).call(this);A(this,ii,pi).call(this,t),n.currentViewInstance.names_numbers=this.getViewNamesNumbers()})}getViewNamesNumbers(){let i=[];return this.container.querySelectorAll(".fpd-list .fpd-row").forEach(e=>{var t={},n=e.querySelector(".fpd-number-col"),n=(n&&(t.number=n.querySelector("input").value),e.querySelector(".fpd-name-col")),n=(n&&(t.name=n.querySelector("input").value),e.querySelector(".fpd-select-col"));n&&(t.select=n.querySelector("select").value),i.push(t)}),i}}function pi(e){e.querySelector("input").focus();var t=e.querySelector(".fpd-number-col"),t=(t&&A(this,ci,vi).call(this,t.querySelector("input").value||t.querySelector("input").placeholder),e.querySelector(".fpd-name-col"));t&&A(this,ci,vi).call(this,null,t.querySelector("input").value||t.querySelector("input").placeholder)}function hi(){this.listElem.innerHTML="";var e=this.fpdInstance.currentViewInstance;(e.fabricCanvas.textPlaceholder||e.fabricCanvas.numberPlaceholder?(e.names_numbers&&Array.isArray(e.names_numbers)?e.names_numbers.forEach(e=>{A(this,si,ui).call(this,e.number,e.name,e.select)}):A(this,si,ui).call(this),p):u)(this.container,["fpd-disabled"])}function ui(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length?arguments[2]:void 0;const i=this.fpdInstance.currentViewInstance.fabricCanvas,a=document.createElement("div");a.className="fpd-row";var s=document.createElement("div"),r=(s.className="fpd-remove-col",document.createElement("span"));return r.innerText=this.fpdInstance.translator.getTranslation("modules","names_numbers_remove","Remove"),s.append(r),h(r,"click",e=>{a.remove(),A(this,ii,pi).call(this,this.container.querySelector(".fpd-row:first-child")),this.fpdInstance.currentViewInstance.names_numbers=this.getViewNamesNumbers(),this.fpdInstance.mainOptions.namesNumbersEntryPrice&&this.fpdInstance.currentViewInstance.changePrice(this.fpdInstance.mainOptions.namesNumbersEntryPrice,"-")}),a.append(s),i.numberPlaceholder&&a.append(A(this,ri,fi).call(this,e)),i.textPlaceholder&&a.append(A(this,oi,mi).call(this,t)),(this.fpdInstance.mainOptions.namesNumbersDropdown&&0<this.fpdInstance.mainOptions.namesNumbersDropdown.length||n)&&a.append(A(this,li,gi).call(this,n)),this.listElem.append(a),this.fpdInstance.mainOptions.namesNumbersEntryPrice&&this.fpdInstance.currentViewInstance.changePrice(this.fpdInstance.mainOptions.namesNumbersEntryPrice,"+"),a}function fi(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";const t=this.fpdInstance.currentViewInstance.fabricCanvas,n=document.createElement("div"),i=(n.className="fpd-number-col fpd-input-col",document.createElement("input"));return i.type="number",n.append(i),Array.isArray(t.numberPlaceholder.numberPlaceholder)&&(i.setAttribute("min",Number(t.numberPlaceholder.numberPlaceholder[0])),i.setAttribute("max",Number(t.numberPlaceholder.numberPlaceholder[1]))),i.setAttribute("placeholder",t.numberPlaceholder.originParams.text),i.value=e,h(i,["mouseup","keyup"],e=>{Array.isArray(t.numberPlaceholder.numberPlaceholder)&&(i.value>Number(i.max)&&(i.value=Number(i.max)),i.value<Number(i.min))&&(i.value=Number(i.min)),i.value=A(this,ci,vi).call(this,i.value),this.fpdInstance.currentViewInstance.names_numbers=this.getViewNamesNumbers()}),n}function mi(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=this.fpdInstance.currentViewInstance.fabricCanvas,n=document.createElement("div");n.className="fpd-name-col fpd-input-col";const i=document.createElement("input");return i.type="text",n.append(i),i.setAttribute("placeholder",t.textPlaceholder.originParams.text),i.value=e,h(i,["mouseup","keyup"],e=>{i.value=A(this,ci,vi).call(this,null,i.value),this.fpdInstance.currentViewInstance.names_numbers=this.getViewNamesNumbers()}),n}function gi(){let n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";var e=document.createElement("div");e.className="fpd-select-col fpd-input-col";const i=document.createElement("select");e.append(i);var t=[n];return(0<this.fpdInstance.mainOptions.namesNumbersDropdown.length?this.fpdInstance.mainOptions.namesNumbersDropdown:t).forEach(e=>{var t=document.createElement("option");t.value=e,t.selected=n===e,t.innerText=e,i.append(t)}),h(i,"change",e=>{this.fpdInstance.currentViewInstance.names_numbers=this.getViewNamesNumbers()}),e}function vi(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=this.fpdInstance.currentViewInstance.fabricCanvas,n="string"==typeof e?t.numberPlaceholder:t.textPlaceholder;let i="string"==typeof e?e:1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;e=n.maxLength;return i=(i=0!=e&&i.length>e?i.substr(0,e):i).replace(FancyProductDesigner.forbiddenTextChars,""),this.fpdInstance.mainOptions.disableTextEmojis&&(i=(i=i.replace(FPDEmojisRegex,"")).replace(String.fromCharCode(65039),"")),t.setElementOptions({text:i},n),i}window.FPDNamesNumbersModule=di;class bi extends EventTarget{constructor(t,n,i){let a;if(super(),"products"===i)a=new Me(t,n);else if("text"===i)a=new Fe(t,n);else if(i.includes("designs")){let e=null;if(i.includes("designs_")&&!m(t.mainOptions.dynamicDesigns)){if(!(e=i.split("_").pop())||!t.mainOptions.dynamicDesigns[e])return;{var s=t.mainOptions.dynamicDesigns[e];const n={};n["data-dynamic-designs-id"]=e,!m(s.icon)&&s.icon.includes(".svg")?this.configs={icon:s.icon,defaultText:s.name,attrs:n}:console.info("FPD: Dynamic Designs Module does not contain an icon for the main bar.")}}a=new Qe(t,n,e)}else"images"===i?a=new en(t,n):"manage-layers"===i?a=new bn(t,n):"save-load"===i?a=new kn(t,n):"text-layers"===i?a=new Fn(t,n):"layouts"===i?a=new _n(t,n):"names-numbers"===i&&(a=new di(t,n));if(FancyProductDesigner.additionalModules&&!a){const s=FancyProductDesigner.additionalModules[i];s&&(a=new s(t,n))}if(a&&(this.moduleInstance=a,t["moduleInstance_"+i]=a,!i.includes("designs_"))){const t=a.container.querySelector("div");this.configs={icon:t.dataset.moduleicon,langId:t.dataset.title,langKeys:t.dataset.title.split("."),defaultText:t.dataset.defaulttext}}}}function yi(e,t){wi(e,t),t.add(e)}function S(e,t,n){wi(e,t),t.set(e,n)}function wi(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ci(e,t,n){var i;i=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==typeof i?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function xi(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}function k(e,t){return(t=Ei(e=e,t,"get")).get?t.get.call(e):t.value}function O(e,t,n){var i=e,e=Ei(e,t,"set"),t=n;if(e.set)e.set.call(i,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function Ei(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}var Ii=new WeakMap,T=new WeakMap,Ai=new WeakMap,Si=new WeakMap,ki=new WeakMap,Oi=new WeakMap,Ti=new WeakMap,D=new WeakMap,Di=new WeakMap,Mi=new WeakSet,Pi=new WeakSet,Bi=new WeakSet,Li=new WeakSet,Fi=new WeakSet,Ni=new WeakSet;class ji extends EventTarget{constructor(e){super(),yi(this,Ni),yi(this,Fi),yi(this,Li),yi(this,Bi),yi(this,Pi),yi(this,Mi),S(this,Ii,{writable:!0,value:null}),S(this,T,{writable:!0,value:null}),S(this,Ai,{writable:!0,value:!1}),S(this,Si,{writable:!0,value:0}),S(this,ki,{writable:!0,value:0}),S(this,Oi,{writable:!0,value:0}),S(this,Ti,{writable:!0,value:0}),S(this,D,{writable:!0,value:!1}),S(this,Di,{writable:!0,value:!1}),Ci(this,"contentElem",null),Ci(this,"navElem",null),Ci(this,"currentModuleKey",""),Ci(this,"currentModules",[]);var t,n=(this.fpdInstance=e).container;if(this.container=document.createElement("fpd-main-bar"),(e.mainOptions.mainBarContainer&&!e.mainOptions.modalMode&&(t=document.querySelector(e.mainOptions.mainBarContainer))?(p(n,["fpd-off-canvas","fpd-topbar"]),u(n,["fpd-main-bar-container-enabled","fpd-sidebar"]),u(t,["fpd-container","fpd-main-bar-container","fpd-sidebar"]),t):n).append(this.container),this.contentElem=this.container.querySelector(".fpd-module-content"),this.navElem=this.container.querySelector(".fpd-navigation"),this.secContent=this.container.querySelector(".fpd-secondary-content"),O(this,Ii,document.querySelector(this.fpdInstance.mainOptions.modalMode?".fpd-modal-product-designer":"body")),O(this,T,document.querySelector(".fpd-draggable-dialog")),k(this,Ii).append(k(this,T)),h(k(this,T),["mousedown","touchstart"],xi(this,Mi,Hi).bind(this)),h(k(this,T),["mouseup","touchend"],xi(this,Bi,qi).bind(this)),h(document,["mousemove","touchmove"],xi(this,Pi,zi).bind(this)),h(k(this,T).querySelector(".fpd-close-dialog"),["click","touchstart"],xi(this,Fi,Ui).bind(this)),h(this.container.querySelector(".fpd-close"),["click","touchmove"],xi(this,Fi,Ui).bind(this)),h(e,"viewSelect",xi(this,Ni,Zi).bind(this)),n.classList.contains("fpd-off-canvas")){let i=0,a=0,s=0;this.contentElem.addEventListener("touchstart",e=>{i=e.touches[0].pageX,a=e.touches[0].pageY,u(this.container,["fpd-is-dragging"])}),this.contentElem.addEventListener("touchmove",e=>{var t=e.touches[0].pageX,n=e.touches[0].pageY,t=(s=i-t,a-n);Math.abs(s)>Math.abs(t)&&(s=Math.abs(s)<0?0:Math.abs(s),this.contentElem.style.left=-s+"px",this.contentElem.previousElementSibling.style.left=this.contentElem.clientWidth-s+"px",e.preventDefault())}),this.contentElem.addEventListener("touchend",e=>{100<Math.abs(s)?this.toggleContentDisplay(!1):(this.contentElem.style.left="0px",this.contentElem.previousElementSibling.style.left=this.contentElem.clientWidth+"px"),s=0,p(this.container,["fpd-is-dragging"])})}this.updateContentWrapper(),this.setup(e.mainOptions.mainBarModules),this.fpdInstance.translator.translateArea(this.container),k(this,D)&&this.fpdInstance.translator.translateArea(k(this,T))}callModule(e){let t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(p(this.navElem.querySelectorAll(".fpd-nav-item"),["fpd-active"]),p(Array.from(this.contentElem.children),["fpd-active"]),n)t=u(this.navElem.querySelector('.fpd-nav-item[data-dynamic-designs-id="'+n+'"]'),["fpd-active"]),u(this.contentElem.querySelector('[data-dynamic-designs-id="'+n+'"]'),["fpd-active"]);else{t=u(this.navElem.querySelector('.fpd-nav-item[data-module="'+e+'"]'),["fpd-active"]);const n=this.contentElem.querySelector("fpd-module-"+e);u(n,["fpd-active"]),"text"==e&&n.querySelector("textarea").focus()}this.toggleContentDisplay(),this.currentModuleKey=e,this.fpdInstance.dispatchEvent(new CustomEvent("moduleCalled",{detail:{moduleName:e}}))}callSecondary(e){p(this.navElem.querySelectorAll(".fpd-nav-item"),["fpd-active"]),u(this.secContent.querySelector(".fpd-"+e),["fpd-active"]),u([this.fpdInstance.container,k(this,T)],["fpd-secondary-visible"]),this.fpdInstance.dispatchEvent(new CustomEvent("secondaryModuleCalled",{detail:{moduleName:e}}))}get contentClosable(){var e=this.fpdInstance.container;return k(this,Di)||k(this,D)||e.classList.contains("fpd-layout-small")}toggleContentDisplay(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.fpdInstance.container,p([this.fpdInstance.container,k(this,T)],["fpd-secondary-visible"]),f([this.fpdInstance.container,k(this,T)],["fpd-module-visible"],e),this.contentClosable&&!e&&p(this.navElem.querySelectorAll(".fpd-nav-item"),["fpd-active"]),k(this,Di)?(!e&&this.currentModuleKey.length&&this.fpdInstance.deselectElement(),this.contentElem.style.removeProperty("left"),this.contentElem.previousElementSibling.style.removeProperty("left"),this.container.style.setProperty("--fpd-content-height",this.fpdInstance.mainWrapper.container.clientHeight+"px"),f(this.container,["fpd-show"],e)):k(this,D)&&(e&&(k(this,T).querySelector(".fpd-dialog-title").innerText=this.navElem.querySelector(".fpd-nav-item.fpd-active .fpd-label").innerText),f(k(this,T),["fpd-show"],e)),e||(this.currentModuleKey="")}updateContentWrapper(){var e=this.fpdInstance.container;this.toggleContentDisplay(!1),O(this,Di,!1),O(this,D,!1),p(this.navElem.querySelectorAll(".fpd-nav-item"),["fpd-active"]),e.classList.contains("fpd-off-canvas")?(O(this,Di,!0),this.container.append(this.contentElem)):e.classList.contains("fpd-sidebar")?this.container.append(this.contentElem):(O(this,D,!0),k(this,T).append(this.contentElem),k(this,T).append(this.secContent),this.fpdInstance.translator.translateArea(k(this,T))),this.fpdInstance.translator.translateArea(this.container)}toggleUploadZonePanel(){let e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.fpdInstance.loadingCustomImage){if(e){k(this,D)&&(k(this,T).querySelector(".fpd-dialog-title").innerText=""),f(this.uploadZoneNavItems.find(e=>e.classList.contains("fpd-add-image")),["fpd-hidden"],!Boolean(t.uploads)),f(this.uploadZoneNavItems.find(e=>e.classList.contains("fpd-add-text")),["fpd-hidden"],!Boolean(t.texts)),f(this.uploadZoneNavItems.find(e=>e.classList.contains("fpd-add-design")),["fpd-hidden"],!Boolean(t.designs)),this.fpdInstance.UZmoduleInstance_designs&&this.fpdInstance.UZmoduleInstance_designs.toggleCategories();const e=this.uploadZoneNavItems.find(e=>!e.classList.contains("fpd-hidden"));e&&e.click(),this.callSecondary("upload-zone-panel")}else this.fpdInstance.currentViewInstance.currentUploadZone=null;f([this.fpdInstance.container,k(this,T)],["fpd-secondary-visible"],e),k(this,D)&&f(k(this,T),["fpd-show"],e)}}setup(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=(this.currentModules=[],this.fpdInstance.mainOptions.initialActiveModule||"");const r=this.container.querySelector(".fpd-navigation");t.length<=1&&!this.fpdInstance.container.classList.contains("fpd-topbar")?(e=t[0]||"",r.classList.add("fpd-hidden")):this.fpdInstance.container.classList.contains("fpd-sidebar")&&""==e?e=t[0]||"":r.classList.remove("fpd-hidden"),r.innerHTML=this.contentElem.innerHTML="",FancyProductDesigner.additionalModules&&Object.keys(FancyProductDesigner.additionalModules).forEach(e=>{t.push(e)}),t.forEach(e=>{let n="";var i=new bi(this.fpdInstance,this.contentElem,e);if(i.moduleInstance&&i.configs){this.currentModules.push(e);var a,s=document.createElement("div");s.classList.add("fpd-nav-item"),s.dataset.module=e,s.addEventListener("click",xi(this,Li,Vi).bind(this)),r.appendChild(s);let t=document.createElement("span");if("string"==typeof i.configs.icon&&i.configs.icon.includes(".svg")?(a={url:i.configs.icon,onSuccess:e=>{t.innerHTML=e},onError:e=>{console.log(e)}},fetch(a.url).then(e=>{e.ok?e.text().then(e=>{a.onSuccess&&a.onSuccess(e)}):e.text().then(e=>{a.onError&&a.onError(e)})})):(t.classList.add("fpd-nav-icon"),t.classList.add(i.configs.icon)),s.append(t),i.configs.langKeys){const e=i.configs.langKeys;n=this.fpdInstance.translator.getTranslation(e[0],e[1],i.configs.defaultText)}else i.configs.defaultText&&(n=i.configs.defaultText);e=document.createElement("span");if(e.className="fpd-label",e.innerText=n,s.append(e),i.configs.attrs)for(const[e,n]of Object.entries(i.configs.attrs))s.setAttribute(e,n)}});var n=r.querySelector(`[data-module="${e}"]`),n=(!this.contentClosable&&n&&n.click(),this.uploadZoneContent=this.secContent.querySelector(".fpd-upload-zone-content"),this.uploadZoneNavItems=Array.from(this.secContent.querySelectorAll(".fpd-upload-zone-panel .fpd-bottom-nav > div")),new bi(this.fpdInstance,this.uploadZoneContent,"images")),n=(this.fpdInstance.UZmoduleInstance_images=n.moduleInstance,new bi(this.fpdInstance,this.uploadZoneContent,"text")),n=(this.fpdInstance.UZmoduleInstance_text=n.moduleInstance,new bi(this.fpdInstance,this.uploadZoneContent,"designs"));this.fpdInstance.UZmoduleInstance_designs=n.moduleInstance,h(this.uploadZoneNavItems,"click",e=>{p(this.uploadZoneNavItems,["fpd-active"]),u(e.currentTarget,["fpd-active"]),p(Array.from(this.uploadZoneContent.children),["fpd-active"]),u(this.uploadZoneContent.querySelector("fpd-module-"+e.currentTarget.dataset.module),["fpd-active"])}),this.fpdInstance.translator.translateArea(this.container)}}function Hi(e){k(this,T).querySelector(".fpd-dialog-drag-handle").contains(e.target)&&(e.preventDefault(),O(this,Ai,!0),O(this,Si,(e.touches?event.touches[0]:e).clientX),O(this,ki,(e.touches?event.touches[0]:e).clientY),O(this,Oi,k(this,Si)-k(this,T).offsetLeft),O(this,Ti,k(this,ki)-k(this,T).offsetTop))}function zi(n){if(k(this,Ai)){var i=k(this,Ii).clientWidth<window.innerWidth?window.innerWidth:k(this,Ii).clientWidth,a=k(this,Ii).clientHeight<window.innerHeight?window.innerHeight:k(this,Ii).clientHeight,i=i-k(this,T).clientWidth,a=a-k(this,T).clientHeight,s=(n.touches?event.touches[0]:n).clientX;let e=(n.touches?event.touches[0]:n).clientY-k(this,Ti),t=s-k(this,Oi);t<0&&(t=0),e<0&&(e=0),t>i&&(t=i),e>a&&(e=a),k(this,T).style.top=e+"px",k(this,T).style.left=t+"px"}}function qi(e){O(this,Ai,!1)}function Vi(e){e.stopPropagation(),this.fpdInstance.deselectElement(),this.fpdInstance.currentViewInstance&&(this.fpdInstance.currentViewInstance.currentUploadZone=null),e.currentTarget.classList.contains("fpd-active")&&this.contentClosable?this.toggleContentDisplay(!1):this.callModule(e.currentTarget.dataset.module,e.currentTarget.dataset.dynamicDesignsId),this.fpdInstance.dispatchEvent(new CustomEvent("navItemSelect",{detail:{item:e.currentTarget}}))}function Ui(e){e.preventDefault(),this.fpdInstance.currentViewInstance&&this.fpdInstance.currentViewInstance.currentUploadZone&&this.fpdInstance.currentViewInstance.fabricCanvas.deselectElement(),this.toggleContentDisplay(!1)}function Zi(){var e=this.fpdInstance.currentViewInstance,t=e.options.customAdds;f(document.querySelectorAll('.fpd-nav-item[data-module^="designs"]'),["fpd-disabled"],!t.designs),f(document.querySelectorAll('.fpd-nav-item[data-module="images"]'),["fpd-disabled"],!t.uploads),f(document.querySelectorAll('.fpd-nav-item[data-module="text-to-image"]'),["fpd-disabled"],!t.uploads),f(document.querySelectorAll('.fpd-nav-item[data-module="drawing"]'),["fpd-disabled"],!t.drawing),f(document.querySelectorAll('.fpd-nav-item[data-module="text"]'),["fpd-disabled"],!t.texts),f(document.querySelectorAll('.fpd-nav-item[data-module="names-numbers"]'),["fpd-disabled"],!e.fabricCanvas.textPlaceholder&&!e.fabricCanvas.numberPlaceholder),this.toggleContentDisplay(!1)}Ci(ji,"availableModules",["products","images","text","designs","manage-layers","text-layers","layouts","save-load","names-numbers"]),window.FPDMainBar=ji;class Wi extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-product-stage"></div>'}}customElements.define("fpd-main-wrapper",Wi);class Ri{constructor(e){this.container=document.createElement("fpd-main-wrapper"),e.container.append(this.container)}}class Yi extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-pos="left"> <div class="fpd-dropdown-btn"> <i class="fpd-icon-menu"></i> <span class="fpd-label" data-defaulttext="File">actions.menu_file</span> <div class="fpd-dropdown-menu fpd-actions-wrapper fpd-shadow-1"></div> </div> </div> <div class="fpd-actions-wrapper" data-pos="center"></div> <div data-pos="right"> <div class="fpd-dropdown-btn"> <i class="fpd-icon-more"></i> <span class="fpd-label" data-defaulttext="More">actions.menu_more</span> <div class="fpd-dropdown-menu fpd-actions-wrapper fpd-shadow-1"></div> </div> </div> <div data-pos="modal"> <span class="fpd-btn fpd-btn-fill fpd-close fpd-done"> <i class="fpd-icon-done"></i> <span class="fpd-label" data-defaulttext="Done">actions.modal_done</span> <span class="fpd-total-price">10.00$</span> </span> <span class="fpd-btn fpd-close"> <i class="fpd-icon-close"></i> </span> </div>'}}function Gi(e,t,n){var i;i=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==typeof i?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}customElements.define("fpd-actions-bar",Yi);var Ji=new WeakSet;class Xi extends EventTarget{constructor(t){super();var e=this,n=Ji;if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");n.add(this),Gi(this,"currentActions",{}),this.fpdInstance=t,this.container=document.createElement("fpd-actions-bar"),t.container.append(this.container),h(t.container.querySelectorAll(".fpd-dropdown-btn"),"click",e=>{e=e.currentTarget.querySelector(".fpd-dropdown-menu");f(e,["fpd-show"],!e.classList.contains("fpd-show"))}),h(t.container.querySelectorAll(".fpd-close"),"click",e=>{p(this.fpdInstance.modalWrapper,["fpd-show"]),this.fpdInstance.dispatchEvent(new CustomEvent("modalDesignerClose"))}),h(t.container.querySelector(".fpd-done"),"click",e=>{this.fpdInstance.dispatchEvent(new CustomEvent("modalDesignerDone"))}),h(t,["viewSelect"],e=>{this.reset()}),h(window,"resize",e=>{t.inTextField||this.reset()}),this.setup(t.mainOptions.actions)}addActionBtn(e,t){var n,i,a;Xi.availableActions.hasOwnProperty(t)&&(n=Xi.availableActions[t],i=this.fpdInstance.translator.getTranslation("actions",t.replace(/-/g,"_"),n.title),(a=document.createElement("div")).className="fpd-btn fpd-tooltip",a.setAttribute("aria-label",i),a.dataset.action=t,a.innerHTML=`<i class="${n.icon}"></i><span>${i}</span>`,Xi.toggleActions.includes(t)&&a.insertAdjacentHTML("beforeend",'<input type="checkbox" class="fpd-switch" />'),e.append(a),h(a,"click",e=>{var t=e.currentTarget.querySelector(".fpd-switch");t&&!e.target.classList.contains("fpd-switch")&&(t.checked=!t.checked),this.doAction(e.currentTarget.dataset.action)}))}doAction(e){if(this.fpdInstance.currentViewInstance){if(this.fpdInstance.deselectElement(),"print"===e)this.fpdInstance.print();else if("reset-product"===e){var t=l(this.fpdInstance.translator.getTranslation("misc","reset_confirm"),!1,"confirm",this.fpdInstance.container);const e=t.querySelector(".fpd-confirm");e.innerText=this.fpdInstance.translator.getTranslation("actions","reset_product"),h(e,["click"],()=>{this.fpdInstance.loadProduct(this.fpdInstance.productViews),t.remove()})}else if("undo"===e)this.fpdInstance.currentViewInstance.fabricCanvas.undo();else if("redo"===e)this.fpdInstance.currentViewInstance.fabricCanvas.redo();else if("info"===e)l(this.fpdInstance.translator.getTranslation("actions","info_content"),!1,"",this.fpdInstance.container);else if("preview-lightbox"===e)this.fpdInstance.getProductDataURL(e=>{const t=new Image;t.src=e,t.onload=()=>{l('<div style="text-align: center;"><img src="'+t.src+'" download="product.png" /></div>',!0)}});else if("snap"===e)this.fpdInstance.currentViewInstance.fabricCanvas.snapToGrid=!this.fpdInstance.currentViewInstance.fabricCanvas.snapToGrid,this.fpdInstance.currentViewInstance.fabricCanvas.renderAll();else if("zoom"===e){const l=this.fpdInstance.mainWrapper.container.querySelector(".fpd-zoom-wrapper");if(l)return void l.remove();const e=document.createElement("div"),t=(e.className="fpd-zoom-wrapper fpd-shadow-1",this.fpdInstance.currentViewInstance.fabricCanvas.getZoom()/this.fpdInstance.currentViewInstance.fabricCanvas.responsiveScale),n=document.createElement("fpd-range-slider"),i=(n.className="fpd-progress",n.setAttribute("value",t),n.setAttribute("step",.02),n.setAttribute("min",1),n.setAttribute("max",3),n.onInput=e=>{this.fpdInstance.currentViewInstance.fabricCanvas.setResZoom(Number(e.currentTarget.value))},e.append(n),document.createElement("div"));i.className="fpd-stage-pan fpd-toggle",i.innerHTML='<span class="fpd-icon-drag"></span>',e.append(i),h(i,"click",e=>{this.fpdInstance.currentViewInstance.fabricCanvas.panCanvas=!this.fpdInstance.currentViewInstance.fabricCanvas.panCanvas,f(i,["fpd-active"],this.fpdInstance.currentViewInstance.fabricCanvas.panCanvas)}),this.fpdInstance.mainWrapper.container.append(e)}else if("download"===e){const e=`<div class="fpd-modal-download">
			<span data-value="jpeg">
				<span class="fpd-icon-jpg"></span>
			</span>
			<span data-value="png">
				<span class="fpd-icon-png"></span>
			</span>
			<span data-value="pdf">
				<span class="fpd-icon-pdf"></span>
			</span>
			<span data-value="svg">
				<span class="fpd-icon-svg"></span>
			</span>
			<div class="fpd-switch-wrapper">
				<input type="checkbox" class="fpd-switch" id="fpd-action-download-single-view" />
				<label for="fpd-action-download-single-view">${this.fpdInstance.translator.getTranslation("actions","download_current_view")}</label>
			</div>
		</div>`,t=l(e,!1,"",this.fpdInstance.container);h(t.querySelectorAll("span[data-value]"),"click",e=>{this.downloadFile(e.currentTarget.dataset.value,t.querySelector(".fpd-switch").checked),t.remove()})}else"ruler"===e?(this.fpdInstance.currentViewInstance.fabricCanvas.enableRuler=!this.fpdInstance.currentViewInstance.fabricCanvas.enableRuler,this.fpdInstance.currentViewInstance.fabricCanvas.renderAll()):"previous-view"===e?this.fpdInstance.selectView(this.fpdInstance.currentViewIndex-1):"next-view"===e?this.fpdInstance.selectView(this.fpdInstance.currentViewIndex+1):"guided-tour"===e&&this.fpdInstance.guidedTour&&this.fpdInstance.guidedTour.start();this.dispatchEvent(new CustomEvent("actionClick",{detail:{action:e}}))}}downloadFile(t){let r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.fpdInstance.currentViewInstance){const o=this.fpdInstance.mainOptions.downloadFilename;var e,i;"jpeg"===t||"png"===t?(document.createElement("a"),e="jpeg"===t?"#fff":"transparent",r?this.fpdInstance.currentViewInstance.toDataURL(e=>{download(e,o+"."+t,"image/"+t)},{format:t,backgroundColor:e,watermarkImg:this.fpdInstance.watermarkImg}):this.fpdInstance.getProductDataURL(e=>{download(e,o+"."+t,"image/"+t)},{format:t,backgroundColor:e})):"svg"===t?download(this.fpdInstance.currentViewInstance.toSVG({suppressPreamble:!1,watermarkImg:this.fpdInstance.watermarkImg}),"Product_"+this.fpdInstance.currentViewIndex+".svg","image/svg+xml"):(i="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js",new Promise(function(e,t){var n;null===document.querySelector("script[src='"+i+"']")?((n=document.createElement("script")).onload=()=>{e()},n.onerror=()=>{t()},n.src=i,document.body.appendChild(n)):e()}).then(()=>{var e=t=>{let n;t="string"==typeof t?[t]:t;for(let e=0;e<t.length;++e){var i=r?this.fpdInstance.currentViewIndex:e,a=this.fpdInstance.viewInstances[i].options.stageWidth,i=this.fpdInstance.viewInstances[i].options.stageHeight,s=i<a?"l":"p";0!=e?n.addPage([a,i],s):n=new jspdf.jsPDF({orientation:s,unit:"px",format:[a,i]}),n.addImage(t[e],"PNG",0,0,n.internal.pageSize.getWidth(),n.internal.pageSize.getHeight())}n.save(o+".pdf")};jspdf&&(r?this.fpdInstance.currentViewInstance.toDataURL(e,{format:"png",watermarkImg:this.fpdInstance.watermarkImg}):this.fpdInstance.getViewsDataURL(e,{format:"png"}))}))}}reset(){var e=this.container.querySelectorAll(".fpd-actions-wrapper .fpd-switch"),e=(e&&e.forEach(e=>{e.checked=!1}),this.fpdInstance.mainWrapper.container.querySelector(".fpd-zoom-wrapper"));e&&e.remove(),this.fpdInstance.currentViewInstance&&this.fpdInstance.currentViewInstance.fabricCanvas.setResZoom(1)}setup(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if("object"==typeof(this.currentActions=e)){this.container.querySelectorAll(".fpd-actions-wrapper").forEach(e=>{e.innerHTML=""});for(const t in e)!function(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}(this,Ji,Qi).call(this,t,e[t])}this.fpdInstance.translator.translateArea(this.container)}}function Qi(n,e){e&&e.forEach(e=>{let t;if("left"==n)t=this.container.querySelector('[data-pos="left"] .fpd-actions-wrapper');else if("center"==n){if(1<this.container.querySelectorAll('[data-pos="center"].fpd-actions-wrapper > .fpd-btn').length)return;t=this.container.querySelector('[data-pos="'+n+'"].fpd-actions-wrapper')}else"right"==n&&(t=this.container.querySelector('[data-pos="right"] .fpd-actions-wrapper'));t&&this.addActionBtn(t,e)})}Gi(Xi,"availableActions",{print:{icon:"fpd-icon-print",title:"Print"},"reset-product":{icon:"fpd-icon-reset",title:"Reset Product"},undo:{icon:"fpd-icon-undo",title:"Undo"},redo:{icon:"fpd-icon-redo",title:"Redo"},info:{icon:"fpd-icon-info",title:"Info"},zoom:{icon:"fpd-icon-zoom-in",title:"Zoom"},download:{icon:"fpd-icon-download",title:"Download"},"preview-lightbox":{icon:"fpd-icon-preview-lightbox",title:"Preview Lightbox"},ruler:{icon:"fpd-icon-ruler",title:"Ruler"},"previous-view":{icon:"fpd-icon-back",title:"Previous View"},"next-view":{icon:"fpd-icon-forward",title:"Next View"},"guided-tour":{icon:"fpd-icon-guided-tour",title:"Guided Tour"}}),Gi(Xi,"toggleActions",["snap","ruler","zoom"]),window.FPDActions=Xi;class Ki extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-view-locker"> <span class="fpd-icon-locked"></span> <span class="fpd-icon-unlocked fpd-hidden"></span> </div> <div class="fpd-view-prev"> <span class="fpd-icon-forward"></span> </div> <div class="fpd-show-views-grid"> <span class="fpd-current-view">0</span> <span class="fpd-total-views">0</span> </div> <div class="fpd-view-next"> <span class="fpd-icon-forward"></span> </div> '}}function _i(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}customElements.define("fpd-views-nav",Ki);var $i=new WeakSet;class ea extends EventTarget{constructor(t){super();var e=this,n=$i;if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");n.add(this),this.container=document.createElement("fpd-views-nav"),t.mainWrapper.container.append(this.container),h(t,["viewCreate","viewRemove"],e=>{this.container.querySelector(".fpd-total-views").innerText=t.viewInstances.length}),h(t,["viewSelect"],e=>{f(this.container.querySelector(".fpd-view-locker"),["fpd-hidden"],!t.currentViewInstance.options.optionalView),this.container.querySelector(".fpd-current-view").innerText=t.currentViewIndex+1,_i(this,$i,ta).call(this,t.currentViewInstance)}),h(this.container.querySelector(".fpd-view-prev"),"click",e=>{t.selectView(t.currentViewIndex-1)}),h(this.container.querySelector(".fpd-view-next"),"click",e=>{t.selectView(t.currentViewIndex+1)}),h(this.container.querySelector(".fpd-show-views-grid"),"click",e=>{t.deselectElement(),f(t.viewsGrid.container,["fpd-show"],!0)}),h(this.container.querySelector(".fpd-view-locker"),"click",e=>{t.currentViewInstance&&(t.currentViewInstance.toggleLock(!t.currentViewInstance.locked),_i(this,$i,ta).call(this,t.currentViewInstance))})}}function ta(e){var t=this.container.querySelector(".fpd-view-locker");f(t.querySelector(".fpd-icon-locked"),["fpd-hidden"],!e.locked),f(t.querySelector(".fpd-icon-unlocked"),["fpd-hidden"],e.locked)}class na extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-head"> <span class="fpd-btn fpd-add-blank fpd-hidden" data-defaulttext="Add Blank Page">misc.dynamic_views_add_blank</span> <span class="fpd-btn fpd-add-layout" data-defaulttext="Add Page from Layouts">misc.dynamic_views_add_from_layouts</span> <div class="fpd-close"> <span class="fpd-icon-close"></span> </div> </div> <div class="fpd-scroll-area"> <div class="fpd-grid"></div> </div> <div class="fpd-blank-page-modal fpd-shadow-1 fpd-hidden"> <div class="fpd-head"> <label class="fpd-input"> <span data-defaulttext="Width">misc.dynamic_views_width</span> <input type="number" min="1" step="1" data-type="width"> </label> <label class="fpd-input"> <span data-defaulttext="Height">misc.dynamic_views_height</span> <input type="number" min="1" step="1" data-type="height"> </label> <span class="fpd-btn" data-defaulttext="Add Page">misc.dynamic_views_add_view</span> <div class="fpd-close"> <span class="fpd-icon-close"></span> </div> </div> <div class="fpd-scroll-area"> <div class="fpd-grid"></div> </div> </div> <div class="fpd-layouts-modal fpd-shadow-1 fpd-hidden"> <div class="fpd-head"> <div class="fpd-close"> <span class="fpd-icon-close"></span> </div> </div> <div class="fpd-scroll-area"> <div class="fpd-grid"></div> </div> </div> '}}function ia(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(e)}function aa(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}customElements.define("fpd-views-grid",na);var sa=new WeakSet,ra=new WeakSet,oa=new WeakSet,la=new WeakSet;class ca extends EventTarget{constructor(r){if(super(),ia(this,la),ia(this,oa),ia(this,ra),ia(this,sa),this.fpdInstance=r,this.unitFormat=r.mainOptions.dynamicViewsOptions.unit,this.formats=r.mainOptions.dynamicViewsOptions.formats,this.minWidth=r.mainOptions.dynamicViewsOptions.minWidth,this.minHeight=r.mainOptions.dynamicViewsOptions.minHeight,this.maxWidth=r.mainOptions.dynamicViewsOptions.maxWidth,this.maxHeight=r.mainOptions.dynamicViewsOptions.maxHeight,this.currentLayouts=[],this.container=document.createElement("fpd-views-grid"),r.container.append(this.container),f(this.container,["fpd-dynamic-views-enabled"],r.mainOptions.enableDynamicViews),this.gridElem=this.container.querySelector(".fpd-grid"),this.blankPageModal=this.container.querySelector(".fpd-blank-page-modal"),this.layoutsModal=this.container.querySelector(".fpd-layouts-modal"),r.mainOptions.enableDynamicViews){let n;this.blankPageCustomWidthInput=this.blankPageModal.querySelectorAll(".fpd-head input")[0],this.blankPageCustomHeightInput=this.blankPageModal.querySelectorAll(".fpd-head input")[1],this.blankPageCustomWidthInput.setAttribute("placeholder",this.unitFormat),this.blankPageCustomHeightInput.setAttribute("placeholder",this.unitFormat),Array.isArray(this.formats)&&this.formats.length&&(p(this.container.querySelector(".fpd-btn.fpd-add-blank"),["fpd-hidden"]),this.formats.forEach(e=>{const t=e[0],n=e[1];let i,a;t>n?(i=150,a=150/t*n):(a=150,i=150/n*t);e=document.createElement("div");e.className="fpd-shadow-1 fpd-item",e.innerHTML="<span>"+t+"x"+n+"<br>"+this.unitFormat+"</span>",e.style.width=i+"px",e.style.height=a+"px",this.blankPageModal.querySelector(".fpd-grid").append(e),h(e,"click",e=>{aa(this,sa,da).call(this,t,n)})})),AreaSortable("unrestricted",{container:this.gridElem,handle:"fpd-sort",item:"fpd-item",placeholder:"fpd-sortable-placeholder",activeItem:"fpd-sortable-dragged",closestItem:"fpd-sortable-closest",autoscroll:!0,animationMs:0,onStart:e=>{n=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(e);const t=window.pageYOffset||document.documentElement.scrollTop||0;window.onscroll=()=>{window.scrollTo({top:t})}},onEnd:e=>{e=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(e);n!=e&&(aa(this,oa,ha).call(this,r.viewInstances,n,e),r.productStage.innerHTML="",r.viewInstances.forEach(e=>{r.productStage.append(e.fabricCanvas.wrapperEl)}),s(r,"viewMove"),r.selectView(0)),window.onscroll=()=>{}}}),h(this.container.querySelectorAll(".fpd-btn.fpd-add-blank, .fpd-btn.fpd-add-layout"),"click",e=>{u(this.container,["fpd-modal-visible"]),e.currentTarget.classList.contains("fpd-add-blank")?p(this.blankPageModal,["fpd-hidden"]):p(this.layoutsModal,["fpd-hidden"])}),h(this.container.querySelectorAll(".fpd-blank-page-modal .fpd-close, .fpd-layouts-modal .fpd-close"),"click",()=>{p(this.container,["fpd-modal-visible"]),u(this.blankPageModal,["fpd-hidden"]),u(this.layoutsModal,["fpd-hidden"])}),h(r,"layoutsSet",()=>{f(this.container.querySelectorAll(".fpd-btn.fpd-add-layout"),["fpd-hidden"],!(r.currentLayouts&&0<r.currentLayouts.length)),r.currentLayouts&&r.currentLayouts.length&&r.currentLayouts.forEach(t=>{var e=document.createElement("div");e.className="fpd-shadow-1 fpd-item",e.innerHTML='<picture  style="background-image: url('+t.thumbnail+');"></picture><span>'+t.title+"</span>",this.layoutsModal.querySelector(".fpd-grid").append(e),h(e,"click",e=>{r.addView(t),this.hideModals()})})}),h(this.blankPageModal.querySelector(".fpd-head .fpd-btn"),"click",e=>{if(this.blankPageCustomWidthInput.value&&this.blankPageCustomHeightInput.value){const e=parseInt(Math.abs(this.blankPageCustomWidthInput.value)),t=parseInt(Math.abs(this.blankPageCustomHeightInput.value));aa(this,sa,da).call(this,e,t)}}),this.blankPageModal.querySelector('.fpd-input input[data-type="width"]').value=this.minWidth,this.blankPageModal.querySelector('.fpd-input input[data-type="height"]').value=this.minHeight,h(this.blankPageModal.querySelectorAll(".fpd-input input"),"keyup",e=>{e.currentTarget.value=aa(this,la,ua).call(this,e.currentTarget.dataset.type,e.currentTarget)})}h(r,"viewCreate",e=>{const t=e.detail.viewInstance,n=FancyProductDesigner.proxyFileServer?FancyProductDesigner.proxyFileServer+t.thumbnail:t.thumbnail,i=document.createElement("div");if(i.className="fpd-shadow-1 fpd-item",i.title=t.title,i.innerHTML='<picture style="background-image: url('+n+');"></picture><span>'+i.title+"</span>",this.gridElem.append(i),r.mainOptions.enableDynamicViews){const e=document.createElement("div"),n=(e.className="fpd-sort",e.innerHTML='<span class="fpd-icon-drag"></span>',i.append(e),document.createElement("div"));n.className="fpd-options",n.innerHTML="···",i.append(n);var a,s=document.createElement("div");s.className="fpd-dropdown-menu fpd-shadow-1",s.innerHTML=`
                        <span data-option="duplicate">${r.translator.getTranslation("misc","view_duplicate")}</span>
                        <span data-option="delete">${r.translator.getTranslation("misc","view_delete")}</span>
                    `,n.append(s),h(n,"click",e=>{e.stopPropagation();e=n.querySelector(".fpd-dropdown-menu");f(e,["fpd-show"],!e.classList.contains("fpd-show"))}),h(s.querySelectorAll("span"),"click",e=>{e=e.currentTarget.dataset.option;if("duplicate"==e)aa(this,ra,pa).call(this,t);else if("delete"==e){const e=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(i);r.removeView(e)}}),r.mainOptions.dynamicViewsOptions.pricePerArea&&(s=o(t.options.stageWidth,"cm"),a=o(t.options.stageHeight,"cm"),q(t.options.output,["width","height"])&&(s=t.options.output.width/10,a=t.options.output.height/10),s=Math.ceil(s*a)*Number(r.mainOptions.dynamicViewsOptions.pricePerArea),t.changePrice(0,"+",s))}h(i.querySelector("picture"),"click",e=>{var t=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(i);r.selectView(t),this.reset()})}),h(r,"viewRemove",e=>{e=this.gridElem.querySelectorAll(".fpd-item").item(e.detail.viewIndex);e&&e.remove()}),h(r,"clear",()=>{this.gridElem.innerHTML=""}),h(this.container.querySelector(".fpd-close"),"click",this.reset.bind(this)),h(r,"navItemSelect",this.reset.bind(this))}hideModals(){p(this.container,["fpd-modal-visible"]),u(this.blankPageModal,["fpd-hidden"]),u(this.layoutsModal,["fpd-hidden"])}reset(){this.hideModals(),p(this.container,["fpd-show"])}}function da(e,t){var n,i,a,s;e&&t&&(n=H(Number(e),this.unitFormat),i=H(Number(t),this.unitFormat),s={stageWidth:1e3,stageHeight:1e3,printingBox:{width:s=n*(a=Math.min(950/n,950/i)),height:a=i*a,left:500-s/2,top:500-a/2,visibility:!0},usePrintingBoxAsBounding:!0,output:{width:o(n,"mm"),height:o(i,"mm")}},this.fpdInstance.addView({title:e+"x"+t,thumbnail:"",elements:[],options:s}),this.hideModals())}function pa(e){let t=e.fabricCanvas.getObjects(),n=[];t.forEach(e=>{void 0!==e.title&&void 0!==e.source&&(e={title:e.title,source:e.source,parameters:e.getElementJSON(),type:e.getType()},n.push(e))}),this.fpdInstance.addView({title:e.title,thumbnail:e.thumbnail,elements:n,options:e.options})}function ha(e,t,n){var i=e[t];e.splice(t,1),e.splice(n,0,i)}function ua(e,t){return"width"==e?t.value<this.minWidth?t.value=this.minWidth:t.value>this.maxWidth&&(t.value=this.maxWidth):t.value<this.minHeight?t.value=this.minHeight:t.value>this.maxHeight&&(t.value=this.maxHeight),t.value}class fa extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-close-sub-panel"> <span class="fpd-icon-back"></span> </div> <div class="fpd-close"> <span class="fpd-icon-close"></span> </div> <div class="fpd-tools-nav fpd-scroll-area"> <div class="fpd-tool-color" data-panel="color"> <span class="fpd-current-fill"></span> <span class="fpd-label" data-defaulttext="Color">toolbar.color</span> </div> <div class="fpd-tool-edit-text" data-panel="edit-text"> <span class="fpd-icon-text-input"></span> <span class="fpd-label" data-defaulttext="Edit Text">toolbar.edit_text</span> </div> <div class="fpd-tool-text-size" data-panel="text-size"> <span class="fpd-icon-font-size"></span> <span class="fpd-label" data-defaulttext="Size & Spacing">toolbar.text_size_spacing</span> </div> <div class="fpd-tool-font-family" data-panel="font-family"> <span class="fpd-icon-font"></span> <span class="fpd-label" data-defaulttext="Font">toolbar.font</span> </div> <div class="fpd-tool-text-format" data-panel="text-format"> <span class="fpd-icon-text-format"></span> <span class="fpd-label" data-defaulttext="Format">toolbar.text_format</span> </div> <div class="fpd-tool-transform" data-panel="transform"> <span class="fpd-icon-transform"></span> <span class="fpd-label" data-defaulttext="Transform">toolbar.transform</span> </div> <div class="fpd-tool-position" data-panel="position"> <span class="fpd-icon-position"></span> <span class="fpd-label" data-defaulttext="Position">toolbar.position</span> </div> <div class="fpd-tool-curved-text" data-panel="curved-text"> <span class="fpd-icon-curved-text"></span> <span class="fpd-label" data-defaulttext="Curved Text">toolbar.curved_text</span> </div> <div class="fpd-tool-advanced-editing" data-panel="advanced-editing"> <span class="fpd-icon-effects"></span> <span class="fpd-label" data-defaulttext="Edit Image">toolbar.advanced_editing</span> </div> <div class="fpd-tool-reset"> <span class="fpd-icon-reset"></span> <span class="fpd-label" data-defaulttext="Reset">toolbar.reset</span> </div> <div class="fpd-tool-duplicate"> <span class="fpd-icon-copy"></span> <span class="fpd-label" data-defaulttext="Duplicate">toolbar.duplicate</span> </div> <div class="fpd-tool-remove"> <span class="fpd-icon-bin"></span> <span class="fpd-label" data-defaulttext="Remove">toolbar.remove</span> </div> </div> <div class="fpd-sub-panel"> <div class="fpd-panel-color"> <div class="fpd-panel-tabs"> <span data-tab="fill" data-defaulttext="Fill" class="fpd-active">toolbar.fill</span> <span data-tab="stroke" data-defaulttext="Stroke" class="fpd-tool-text-stroke">toolbar.stroke</span> <span data-tab="shadow" data-defaulttext="Shadow" class="fpd-tool-text-shadow">toolbar.shadow</span> </div> <div class="fpd-panel-tabs-content fpd-scroll-area"> <div data-id="fill" class="fpd-active"> <div class="fpd-color-wrapper"></div> <div class="fpd-tool-fill-opacity fpd-input"> <span class="fpd-label" data-defaulttext="Transparency">toolbar.transparency</span> <fpd-range-slider class="fpd-progress" value="1" step="0.01" min="0" max="1" data-control="opacity"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="1" step="0.01" min="0" max="1" data-control="opacity"/> </div> </div> <div data-id="stroke"> <div class="fpd-stroke-color-wrapper"></div> <div class="fpd-tool-stroke-width fpd-input"> <span class="fpd-label" data-defaulttext="Stroke Width">toolbar.stroke_width</span> <fpd-range-slider class="fpd-progress" value="0" step="1" min="0" max="20" data-control="strokeWidth"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="0" step="1" min="0" max="20" data-control="strokeWidth"/> </div> </div> <div data-id="shadow"> <div class="fpd-shadow-color-wrapper"></div> <div class="fpd-tool-shadow-blur fpd-input"> <span class="fpd-label" data-defaulttext="Blur">toolbar.shadow_blur</span> <fpd-range-slider class="fpd-progress" value="0" step="1" min="0" max="200" data-control="shadowBlur"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="0" step="1" min="0" max="200" data-control="shadowBlur"/> </div> <div class="fpd-tool-shadow-offsetX fpd-input"> <span class="fpd-label" data-defaulttext="Offset X">toolbar.shadow_offset_x</span> <fpd-range-slider class="fpd-progress" value="0" step="1" min="-100" max="100" data-control="shadowOffsetX"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="0" step="1" min="-100" max="100" data-control="shadowOffsetX"/> </div> <div class="fpd-tool-shadow-offsetY fpd-input"> <span class="fpd-label" data-defaulttext="Offset Y">toolbar.shadow_offset_y</span> <fpd-range-slider class="fpd-progress" value="0" step="1" min="-100" max="100" data-control="shadowOffsetY"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="0" step="1" min="-100" max="100" data-control="shadowOffsetY"/> </div> <div class="fpd-btn fpd-secondary fpd-remove-shadow" data-defaulttext="Remove Shadow">toolbar.remove_shadow</div> </div> </div> </div> <div class="fpd-panel-edit-text fpd-padding"> <textarea data-control="text"></textarea> </div> <div class="fpd-panel-text-size fpd-padding"> <div class="fpd-tool-text-size fpd-input"> <span class="fpd-label" data-defaulttext="Font Size">toolbar.font_size</span> <fpd-range-slider class="fpd-progress" value="12" step="1" min="1" max="200" data-control="fontSize"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="12" step="1" min="1" max="200" data-control="fontSize"/> </div> <div class="fpd-tool-text-line-spacing fpd-input"> <span class="fpd-label" data-defaulttext="Line Spacing">toolbar.line_spacing</span> <fpd-range-slider class="fpd-progress" value="1" step="0.1" min="-2" max="3" data-control="lineHeight"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="1" step="0.1" min="-2" max="3" data-control="lineHeight"/> </div> <div class="fpd-tool-text-letter-spacing fpd-input"> <span class="fpd-label" data-defaulttext="Letter Spacing">toolbar.letter_spacing</span> <fpd-range-slider class="fpd-progress" value="0" step="1" min="-30" max="30" data-control="letterSpacing"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="0" step="1" min="-30" max="30" data-control="letterSpacing"/> </div> </div> <div class="fpd-panel-text-format fpd-padding"> <div class="fpd-tools-group"> <div class="fpd-tool-text-bold fpd-toggle" data-defaulttext="Bold" data-control="fontWeight" data-enabled="bold" data-disabled="normal" title="toolbar.bold"> <span class="fpd-icon-format-bold"></span> </div> <div class="fpd-tool-text-italic fpd-toggle" data-defaulttext="Italic" data-control="fontStyle" data-enabled="italic" data-disabled="normal" title="toolbar.italic"> <span class="fpd-icon-format-italic"></span> </div> <div class="fpd-tool-text-underline fpd-toggle" data-defaulttext="Underline" data-control="textDecoration" data-enabled="underline" data-disabled="normal" title="toolbar.underline"> <span class="fpd-icon-format-underline"></span> </div> <div class="fpd-tool-text-transform fpd-btn-options" data-control="textTransform" data-options=\'{"none": "fpd-icon-text-transform", "uppercase": "fpd-icon-uppercase", "lowercase": "fpd-icon-lowercase"}\' data-defaulttext="Text Transform" title="toolbar.text_transform"> <span class="fpd-icon-text-transform"></span> </div> </div> <div class="fpd-tool-text-align fpd-btn-group" data-control="textAlign"> <span class="fpd-icon-format-align-left" data-option="left"></span> <span class="fpd-icon-format-align-center" data-option="center"></span> <span class="fpd-icon-format-align-right" data-option="right"></span> <span class="fpd-icon-format-align-justify" data-option="justify"></span> </div> </div> <div class="fpd-panel-font-family fpd-padding" data-control="fontFamily"> <input type="text" data-defaulttext="Search Fonts" placeholder="toolbar.font_family_search"/> <div class="fpd-scroll-area"> <div class="fpd-fonts-list"></div> </div> </div> <div class="fpd-panel-curved-text fpd-padding"> <div class="fpd-curved-options"> <span data-value="normal"> <svg width="48" height="14" viewBox="0 0 48 14" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M2.04787 13.327H0L4.60146 0.673004H6.83039L11.4318 13.327H9.38398L5.76899 2.97148H5.6691L2.04787 13.327ZM2.39126 8.37167H9.03434V9.97814H2.39126V8.37167Z" fill="#485563"/> <path d="M13.2784 13.327V0.673004H17.961C18.8684 0.673004 19.6197 0.821293 20.2149 1.11787C20.8101 1.41033 21.2555 1.80783 21.551 2.31036C21.8465 2.80878 21.9943 3.37104 21.9943 3.99715C21.9943 4.5244 21.8965 4.96926 21.7008 5.33175C21.5052 5.69011 21.243 5.97845 20.9142 6.19677C20.5895 6.41096 20.2315 6.56749 19.8403 6.66635V6.78992C20.2648 6.81052 20.679 6.94645 21.0827 7.19772C21.4906 7.44487 21.8278 7.79705 22.0942 8.25428C22.3606 8.7115 22.4938 9.26759 22.4938 9.92253C22.4938 10.5692 22.3398 11.15 22.0317 11.6649C21.7279 12.1757 21.2575 12.5814 20.6207 12.8821C19.9839 13.1787 19.1701 13.327 18.1795 13.327H13.2784ZM15.2076 11.6896H17.9922C18.9162 11.6896 19.578 11.5125 19.9776 11.1583C20.3772 10.804 20.577 10.3612 20.577 9.82985C20.577 9.43029 20.475 9.06369 20.2711 8.73004C20.0671 8.39639 19.7758 8.1307 19.397 7.93298C19.0224 7.73527 18.577 7.63641 18.0609 7.63641H15.2076V11.6896ZM15.2076 6.14734H17.7924C18.2253 6.14734 18.6145 6.06496 18.9599 5.90019C19.3096 5.73542 19.5864 5.50475 19.7903 5.20817C19.9984 4.90748 20.1025 4.55323 20.1025 4.14544C20.1025 3.62231 19.9173 3.18362 19.5468 2.82937C19.1764 2.47513 18.6082 2.298 17.8424 2.298H15.2076V6.14734Z" fill="#485563"/> <path d="M35.4022 4.78802H33.4542C33.3793 4.37611 33.2399 4.01362 33.0359 3.70057C32.8319 3.38752 32.5822 3.12183 32.2867 2.90352C31.9912 2.6852 31.6602 2.52044 31.294 2.40922C30.9318 2.298 30.5468 2.2424 30.1389 2.2424C29.4022 2.2424 28.7425 2.4257 28.1597 2.7923C27.5812 3.1589 27.1233 3.69645 26.7862 4.40494C26.4532 5.11343 26.2867 5.97845 26.2867 7C26.2867 8.02979 26.4532 8.89892 26.7862 9.60741C27.1233 10.3159 27.5832 10.8514 28.166 11.2139C28.7487 11.5764 29.4043 11.7576 30.1327 11.7576C30.5364 11.7576 30.9194 11.7041 31.2815 11.597C31.6478 11.4857 31.9787 11.323 32.2742 11.1088C32.5697 10.8946 32.8195 10.6331 33.0234 10.3241C33.2315 10.0111 33.3751 9.65273 33.4542 9.24905L35.4022 9.25523C35.2981 9.87722 35.0963 10.4498 34.7966 10.9729C34.501 11.4919 34.1202 11.9409 33.654 12.3199C33.192 12.6947 32.6634 12.9851 32.0682 13.1911C31.4729 13.397 30.8236 13.5 30.1202 13.5C29.013 13.5 28.0265 13.2405 27.1608 12.7215C26.295 12.1984 25.6124 11.4507 25.1129 10.4786C24.6176 9.5065 24.3699 8.34696 24.3699 7C24.3699 5.64892 24.6197 4.48939 25.1191 3.52139C25.6186 2.54927 26.3012 1.80371 27.167 1.2847C28.0328 0.761565 29.0172 0.5 30.1202 0.5C30.7986 0.5 31.4313 0.5968 32.0182 0.7904C32.6093 0.97988 33.14 1.25998 33.6103 1.6307C34.0806 1.99731 34.4698 2.44629 34.7778 2.97766C35.0858 3.50491 35.294 4.10837 35.4022 4.78802Z" fill="#485563"/> <path d="M41.8502 13.327H37.7107V0.673004H41.9813C43.2341 0.673004 44.3101 0.926331 45.2092 1.43299C46.1082 1.93552 46.7971 2.65843 47.2758 3.60171C47.7586 4.54087 48 5.66746 48 6.98146C48 8.29959 47.7565 9.43235 47.2695 10.3798C46.7867 11.3272 46.0874 12.0562 45.1717 12.567C44.256 13.0737 43.1488 13.327 41.8502 13.327ZM39.64 11.6587H41.744C42.718 11.6587 43.5276 11.4775 44.1727 11.115C44.8179 10.7484 45.3007 10.2191 45.6212 9.52709C45.9417 8.83096 46.102 7.98241 46.102 6.98146C46.102 5.98875 45.9417 5.14639 45.6212 4.45437C45.3049 3.76236 44.8325 3.23717 44.204 2.8788C43.5754 2.52044 42.795 2.34125 41.8626 2.34125H39.64V11.6587Z" fill="#485563"/> </svg> </span> <span data-value="curved"> <svg width="60" height="26" viewBox="0 0 60 26" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M4.30362 19.2601L2.8934 20.2466L0 9.08293L1.5349 8.00919L10.7657 14.7396L9.35546 15.7261L1.90512 10.1456L1.83632 10.1938L4.30362 19.2601ZM2.16616 15.591L6.74076 12.3909L7.51036 13.5267L2.93577 16.7269L2.16616 15.591Z" fill="#485563"/> <path d="M17.9225 11.7765L15.7371 1.14353L19.5693 0.330317C20.3119 0.172734 20.9524 0.166864 21.4907 0.312707C22.0283 0.455088 22.4615 0.711755 22.7901 1.08271C23.1181 1.4502 23.3361 1.897 23.4442 2.42311C23.5353 2.86615 23.5321 3.25695 23.4346 3.59552C23.3364 3.93062 23.1716 4.21845 22.9401 4.459C22.7114 4.69537 22.4455 4.88907 22.1424 5.04008L22.1637 5.14392C22.5147 5.0875 22.8772 5.1298 23.251 5.27081C23.6275 5.40765 23.9642 5.64504 24.2612 5.98298C24.5582 6.32091 24.7632 6.76505 24.8763 7.31539C24.988 7.85881 24.9623 8.37359 24.7991 8.85974C24.6387 9.34171 24.3238 9.76433 23.8546 10.1276C23.3846 10.4874 22.7443 10.7533 21.9336 10.9254L17.9225 11.7765ZM19.2186 10.0656L21.4975 9.58204C22.2537 9.42157 22.7648 9.1578 23.0306 8.79074C23.2964 8.42367 23.3835 8.01689 23.2917 7.57039C23.2227 7.23465 23.0759 6.9443 22.8514 6.69936C22.6268 6.45442 22.3425 6.28177 21.9984 6.18141C21.6576 6.08032 21.2761 6.0746 20.8537 6.16423L18.5186 6.65975L19.2186 10.0656ZM18.2614 5.4085L20.3768 4.95961C20.7311 4.88443 21.0353 4.74762 21.2896 4.54917C21.5473 4.35 21.734 4.1081 21.8497 3.82347C21.9681 3.53466 21.9921 3.21892 21.9216 2.87625C21.8313 2.43667 21.6039 2.10021 21.2396 1.86688C20.8752 1.63355 20.3797 1.58338 19.7529 1.71639L17.5966 2.17395L18.2614 5.4085Z" fill="#485563"/> <path d="M43.1012 4.5657L41.5023 4.25126C41.5069 3.89201 41.4506 3.56401 41.3335 3.26726C41.2163 2.9705 41.054 2.70627 40.8464 2.47458C40.6389 2.24288 40.3938 2.05061 40.111 1.89775C39.8316 1.74557 39.5245 1.63655 39.1897 1.57071C38.5849 1.45179 38.014 1.49978 37.4768 1.71468C36.9431 1.93025 36.481 2.30938 36.0905 2.85206C35.7035 3.39541 35.428 4.09755 35.264 4.95849C35.0987 5.82637 35.0958 6.58574 35.2554 7.23659C35.4184 7.88811 35.71 8.41365 36.1301 8.81321C36.5502 9.21276 37.0592 9.47133 37.6571 9.58891C37.9885 9.65408 38.3114 9.67076 38.6258 9.63896C38.9443 9.60435 39.2421 9.52064 39.519 9.38783C39.796 9.25501 40.043 9.07488 40.26 8.84744C40.481 8.6172 40.6564 8.33836 40.7861 8.01091L42.3841 8.33056C42.1988 8.83796 41.9412 9.28792 41.6112 9.68042C41.2854 10.0701 40.9007 10.3871 40.4572 10.6312C40.0178 10.8725 39.5373 11.0319 39.0157 11.1094C38.494 11.1869 37.9445 11.1689 37.3671 11.0553C36.4584 10.8766 35.6903 10.4987 35.063 9.92152C34.4363 9.34089 33.996 8.60062 33.7421 7.70072C33.4916 6.80149 33.4745 5.78428 33.6907 4.64909C33.9076 3.51043 34.2987 2.57351 34.8641 1.83833C35.4301 1.09968 36.1101 0.581522 36.904 0.283862C37.6986 -0.0172703 38.5486 -0.0788126 39.454 0.0992351C40.0109 0.208751 40.5146 0.392457 40.9653 0.650354C41.42 0.90545 41.8107 1.22718 42.1372 1.61554C42.4644 2.00042 42.7118 2.44164 42.8793 2.93918C43.0475 3.43326 43.1215 3.97543 43.1012 4.5657Z" fill="#485563"/> <path d="M51.5599 16.7757L48.7094 14.7817L54.7715 5.8346L57.7123 7.89185C58.5751 8.49539 59.1947 9.19283 59.5711 9.98417C59.9494 10.7726 60.0775 11.6156 59.9552 12.5131C59.8378 13.4097 59.4643 14.3226 58.8348 15.2517C58.2033 16.1837 57.493 16.8673 56.7038 17.3025C55.9174 17.7398 55.0866 17.9185 54.2113 17.8385C53.338 17.7556 52.4542 17.4013 51.5599 16.7757ZM50.8371 14.5315L52.2861 15.5451C52.9568 16.0143 53.6011 16.2761 54.219 16.3306C54.8389 16.3822 55.425 16.2405 55.9772 15.9056C56.5314 15.5678 57.0483 15.0451 57.5278 14.3373C58.0034 13.6354 58.2966 12.9626 58.4074 12.319C58.5211 11.6773 58.4473 11.0784 58.1862 10.5222C57.9251 9.96604 57.4735 9.4634 56.8314 9.01425L55.3008 7.94352L50.8371 14.5315Z" fill="#485563"/> <path d="M57.0036 24.5816C53.8499 20.4523 49.8075 17.1117 45.1862 14.816C40.565 12.5203 35.4877 11.3305 30.3437 11.3379C25.1997 11.3453 20.1257 12.5496 15.5109 14.8585C10.896 17.1675 6.86285 20.5196 3.7207 24.658L5.4326 25.1704C8.37306 21.2977 12.1473 18.1607 16.466 16C20.7846 13.8393 25.5329 12.7123 30.3467 12.7054C35.1605 12.6984 39.9119 13.8119 44.2366 15.9602C48.5612 18.1085 52.3442 21.2347 55.2954 25.0989L57.0036 24.5816Z" fill="#485563"/> </svg> </span> <span data-value="curveReverse"> <svg width="54" height="25" viewBox="0 0 54 25" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M54.0007 1.3373C50.9302 5.23068 46.9944 8.38039 42.495 10.5449C37.9956 12.7094 33.0522 13.8312 28.0439 13.8242C23.0356 13.8173 18.0954 12.6818 13.6023 10.5048C9.10912 8.32778 5.18233 5.16714 2.12305 1.26525L3.78979 0.747006C6.65271 4.39845 10.3275 7.35622 14.5322 9.39348C18.737 11.4307 23.36 12.4934 28.0469 12.4999C32.7337 12.5064 37.3598 11.4566 41.5704 9.43103C45.781 7.40546 49.4642 4.45791 52.3376 0.814432L54.0007 1.3373Z" fill="#485563"/> <path d="M1.37302 16.3375L0 15.4074L8.98733 9.06152L10.4818 10.0739L7.66465 20.5998L6.29163 19.6696L8.69804 11.1241L8.63106 11.0787L1.37302 16.3375ZM3.91457 13.19L8.36853 16.2073L7.61922 17.2783L3.16527 14.2609L3.91457 13.19Z" fill="#485563"/> <path d="M15.9304 23.9401L18.0582 13.9146L21.7893 14.6814C22.5123 14.83 23.086 15.0705 23.5104 15.4029C23.9355 15.7321 24.2236 16.1199 24.3745 16.5665C24.5262 17.0097 24.5494 17.4794 24.4441 17.9754C24.3554 18.3932 24.2027 18.7296 23.9859 18.9848C23.7697 19.2367 23.5123 19.4222 23.2136 19.5413C22.9189 19.6578 22.6073 19.7232 22.279 19.7375L22.2582 19.8354C22.593 19.9212 22.9001 20.0967 23.1796 20.3619C23.4631 20.6245 23.6725 20.9588 23.8079 21.3646C23.9432 21.7705 23.9559 22.2329 23.8457 22.7518C23.737 23.2641 23.5166 23.6991 23.1846 24.0566C22.8566 24.4115 22.4136 24.6559 21.8556 24.7899C21.2983 24.9206 20.625 24.9048 19.8356 24.7426L15.9304 23.9401ZM17.7429 22.9587L19.9617 23.4147C20.698 23.566 21.2551 23.534 21.6331 23.3188C22.011 23.1036 22.2447 22.7855 22.334 22.3645C22.4012 22.0479 22.3816 21.7408 22.2752 21.443C22.1688 21.1453 21.9813 20.8871 21.7128 20.6684C21.4475 20.4504 21.1093 20.2992 20.698 20.2147L18.4245 19.7475L17.7429 22.9587ZM18.6749 18.5677L20.7345 18.991C21.0794 19.0618 21.4033 19.0603 21.7063 18.9863C22.0126 18.913 22.272 18.7756 22.4843 18.574C22.7007 18.3699 22.8432 18.1062 22.9118 17.7832C22.9998 17.3687 22.9259 16.9908 22.6903 16.6495C22.4547 16.3082 22.0318 16.0748 21.4215 15.9494L19.3222 15.518L18.6749 18.5677Z" fill="#485563"/> <path d="M39.1873 17.1784L37.6305 17.4749C37.5063 17.159 37.3382 16.8922 37.1263 16.6744C36.9144 16.4567 36.6732 16.2836 36.403 16.1551C36.1327 16.0266 35.8425 15.9461 35.5323 15.9134C35.2256 15.8802 34.9092 15.8946 34.5832 15.9567C33.9944 16.0688 33.4958 16.3148 33.0874 16.6948C32.6824 17.0742 32.4005 17.571 32.2418 18.1853C32.0864 18.799 32.0885 19.5117 32.2482 20.3235C32.4091 21.1417 32.678 21.807 33.0549 22.3194C33.4351 22.831 33.8863 23.1865 34.4087 23.3859C34.931 23.5852 35.4832 23.6295 36.0654 23.5186C36.388 23.4572 36.6857 23.3563 36.9583 23.2161C37.2337 23.072 37.4727 22.8923 37.6754 22.6772C37.8781 22.462 38.0368 22.2161 38.1515 21.9396C38.2689 21.6592 38.3277 21.3525 38.3278 21.0197L39.8855 20.7282C39.8995 21.2383 39.8277 21.724 39.67 22.1853C39.5149 22.6427 39.2807 23.0574 38.9674 23.4295C38.6567 23.7977 38.2797 24.1089 37.8362 24.3631C37.3927 24.6174 36.8899 24.798 36.3277 24.9051C35.4429 25.0736 34.614 25.0175 33.841 24.7369C33.0673 24.4529 32.4049 23.9627 31.8538 23.2663C31.3061 22.5692 30.9269 21.6855 30.7164 20.6152C30.5052 19.5416 30.5236 18.5822 30.7715 17.737C31.0187 16.8885 31.4477 16.1921 32.0585 15.648C32.6686 15.1005 33.4144 14.7428 34.2959 14.575C34.8381 14.4717 35.3589 14.4523 35.8581 14.5168C36.3601 14.5775 36.828 14.7193 37.2618 14.9423C37.695 15.162 38.0762 15.4595 38.4054 15.8349C38.7339 16.207 38.9946 16.6548 39.1873 17.1784Z" fill="#485563"/> <path d="M51.4414 18.6799L48.666 20.5601L42.7638 12.1242L45.6271 10.1845C46.4671 9.61549 47.3066 9.29566 48.1457 9.22507C48.9829 9.15173 49.782 9.32077 50.5429 9.7322C51.3046 10.139 51.992 10.7804 52.6049 11.6564C53.2197 12.5351 53.5848 13.4009 53.7002 14.2536C53.8183 15.1045 53.6896 15.9082 53.3139 16.6646C52.9362 17.4183 52.3121 18.0901 51.4414 18.6799ZM49.1814 18.5717L50.5921 17.616C51.2451 17.1736 51.7034 16.6851 51.9668 16.1504C52.2284 15.613 52.3052 15.0408 52.1973 14.4339C52.0875 13.8242 51.7992 13.1858 51.3323 12.5185C50.8693 11.8567 50.3689 11.3679 49.8313 11.0521C49.2964 10.7345 48.7347 10.5989 48.1461 10.6455C47.5576 10.6921 46.9508 10.9271 46.3256 11.3506L44.8354 12.3601L49.1814 18.5717Z" fill="#485563"/> </svg> </span> </div> <div class="fpd-tool-curved-text-radius fpd-input"> <span class="fpd-label" data-defaulttext="Radius">toolbar.radius</span> <fpd-range-slider class="fpd-progress" value="80" step="1" min="0" max="400" data-control="curveRadius"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="80" step="1" min="0" max="400" data-control="curveRadius"/> </div> </div> <div class="fpd-panel-transform fpd-padding"> <div class="fpd-tool-angle fpd-input"> <span class="fpd-label" data-defaulttext="Rotate">toolbar.rotate</span> <fpd-range-slider class="fpd-progress" value="1" step="1" min="0" max="359" data-control="angle"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="1" step="1" min="0" max="359" data-control="angle"/> </div> <div class="fpd-tool-scaleX fpd-tool-scale fpd-input"> <span class="fpd-label" data-defaulttext="Scale X">toolbar.scaleX</span> <fpd-range-slider class="fpd-progress" value="1" step="0.01" min="0" max="5" data-control="scaleX"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="1" step="0.01" min="0" max="5" data-control="scaleX"/> </div> <div class="fpd-tool-uniscaling-locker fpd-tool-scale fpd-toggle" data-control="lockUniScaling" data-enabled="true" data-disabled="false"> <span class="fpd-icon-unlocked"></span> </div> <div class="fpd-tool-scaleY fpd-tool-scale fpd-input"> <span class="fpd-label" data-defaulttext="Scale Y">toolbar.scaleY</span> <fpd-range-slider class="fpd-progress" value="1" step="0.01" min="0" max="5" data-control="scaleY"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="1" step="0.01" min="0" max="5" data-control="scaleY"/> </div> <div class="fpd-tool-flip fpd-tools-group"> <div data-do="flip-x"> <span class="fpd-icon-flip-horizontal"></span> <span data-defaulttext="Flip Horizontal">toolbar.flip_h</span> </div> <div data-do="flip-y"> <span class="fpd-icon-flip-vertical"></span> <span data-defaulttext="Flip Vertical">toolbar.flip_v</span> </div> </div> </div> <div class="fpd-panel-position"> <div class="fpd-panel-tabs"> <span data-tab="arrange" data-defaulttext="Arrange" class="fpd-active">toolbar.arrange</span> <span data-tab="align" data-defaulttext="Align" class="fpd-tool-text-stroke">toolbar.align</span> </div> <div class="fpd-panel-tabs-content fpd-scroll-area"> <div data-id="arrange"> <div class="fpd-tool-layer-depth fpd-tools-group"> <div data-do="layer-up"> <span class="fpd-icon-move-up"></span> <span data-defaulttext="Move Up">toolbar.move_up</span> </div> <div data-do="layer-down"> <span class="fpd-icon-move-down"></span> <span data-defaulttext="Move Down">toolbar.move_down</span> </div> </div> </div> <div data-id="align"> <div class="fpd-tool-position-align fpd-tools-group"> <div data-do="align-top"> <span class="fpd-icon-align-top"></span> <span data-defaulttext="Top">toolbar.align_top</span> </div> <div data-do="align-middle"> <span class="fpd-icon-align-horizontal-middle"></span> <span data-defaulttext="Middle">toolbar.center_h</span> </div> <div data-do="align-bottom"> <span class="fpd-icon-align-bottom"></span> <span data-defaulttext="Bottom">toolbar.align_bottom</span> </div> <div data-do="align-left"> <span class="fpd-icon-align-left"></span> <span data-defaulttext="Left">toolbar.align_left</span> </div> <div data-do="align-center"> <span class="fpd-icon-align-vertical-middle"></span> <span data-defaulttext="Center">toolbar.center_v</span> </div> <div data-do="align-right"> <span class="fpd-icon-align-right"></span> <span data-defaulttext="Right">toolbar.align_right</span> </div> </div> </div> </div> </div> <div class="fpd-panel-advanced-editing fpd-padding"> <div class="fpd-tool-filters fpd-grid fpd-scroll-area"> </div> </div> </div>'}}customElements.define("fpd-element-toolbar",fa);const ma={none:{name:"None",preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABGhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNDlGNUFEOERDNDhFNDExOThFMDgyRUM1NERENjU5QTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+QzA2NTAzMzhGRDBGRjNDNTQ2NjQ5MTdERjU4RTZBOUY8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6NDJBOTU5NjZBQTVFMTFFNDg3MTc5QzUzNEZBREI5NjI8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NDJBOTU5NjVBQTVFMTFFNDg3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"},grayscale:{name:"Grayscale",preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAANRElEQVRoQ92aR2hW3RaGT3577713RMSCFRVUVNShiIgzERxEjIJkoCASUBQHOhIEkQwEHYsDM1AEIYMoasQWNbH33ruey7Ouz2H7/fnv5U7vByen7bLeVd619j4py/6PfmVguXHjRt6yZcusrKwsy/M84P369Sv78uVL9vr166yhoSF79uxZPP/27Vv2/fv3eG9b+rVq1ao42rVrl7Vp0yaO1q1bF2fm4KBtixYt4qCvZ6450l9673yc//rrr6KZ/aJnY2Nj7oA05EDYr1+/Zm/fvgVsdufOnejMsx8/fvxtoBQMINq2bVsA4p3ABMR8KtC5EbA5QCk45eNc2rYAw4QM9vPnzzhojODv37/Pbt++HYAAiFWwjoMhCP04sIKCp5ZpDgxAtI5jIJwab85CAgFcaiXuAxgXTU1NOYIIBoF1KcDcv38/u3r1algEQIDhWiEUCgF1K8BoLZ556GalYFLrKFypu5UC8H3h7oJhcsDoXjQA1IcPH7LHjx9nly5dihgSpH6bCqEFcDGtVAqIe10tBaR1/8nVtFQpID0kzikYOqh5XQowz58/z65duxbu16FDhxBUf1c7AP38+XO04T2AtELqZoJDCSkR/C9xk7qZZBXW5E9DQ0PO5FrGmMCVAPPmzZvs5cuXIVzHjh1D0JSJtCIxRntckzG0QKnrpa6mdbRMwUwlrNZcBkmtVFimvr4+h04ZGACSAMIB5NWrV/EMt2NSXYU+7du3L8AxIe0AAqWjAO5pI8OlrCcQzrrXf2I0hS+1jMQQlqmtrQ0CYCIEgY7RLkC45hkakxho27lz5wwwWKlTp05xr1Z5Dgj6E28ohXbGkpZhnFJG+29gUkClrBZgampqcgRV+I8fP4a7IJBJTTdgMEAjvPSLQNx37969sJyEgjIAxJiA0arNWYg5ZMjm3Ko03wjmD8vs27cvxyXQIIMBDCAMjha5dnLcUJpF4K5du8Y7foDp0qVLXNMPsmAMgAAIa9MntYzXKivNOaXU2xwYiEoSCMts3Lgxx68REkC4FYNrBa2D0HQ2wdKmf//+4W60BWi/fv2K7J8KDaAHDx5knz59KgDJihJFSs/N5ZpSSwjiD8ts2LAh2MzgV7Nyu5o3rswxPEf7vXv3DvAook+fPqF5AKa5hme48cOHD8PSzZU3aTWRgikN/LSksfRCyWGZdevWBRgexMPfBSeD80sZDAtKBsYMAPjhYjIiFA4x0IYxGZ9+uPOLFy/Cnc0zKT2nRec/uRkALLmUuQBTXl5eFJpqJC08AYNQCIOQnLGCFuBZz549Q2DiDYtgmV69eoXQTMRZ6wMGV07jQy9w3tL44L3pgfFkPa4ts8IygEl5XmtY9KEJhEOT1nAIbX7AWqNHj47JqAToh+tBDkxGH34yHHFDDFlYpqWKXqH7WK7Q5927dzFHmp/0HuQJMOvXrw8wWkUmo6GDqlnaECfRuawsrhESIrBsYeK+fftGsrT4ZByZjL4kYs4CTC0iIBSBLLAg7dOxVITpI2SXzRygoLnfi6a0ZAAwAsp0uh9WIz5kMrM+QE2U1mwABsS9e/diaYH1oHTAWNOpbQP90aNH4da6ehrHXBdLEm4qKirydP2QmtqODkxy1FqWKFpo4MCBWY8ePYolAtdaQ2ZzmcFi7/jx4wF28uTJcaagpR39sApz8Xvy5EmRbHU75kQxqaxhGag5dSmtYxCamMzeaJwKGcHQLBPgArgWsUJAWpTqhuYm3IV8g2WIGy0DgRBvgIS+qUCmT59eVA1aBQtLAH9jQd3M3KEFXONbSadsY1GKeREWQQGAYDCbgjOZRIAw5JkLFy4EeJcSMprMiAvW1tZm1dXV2YwZM7Lly5eHkrQI86TWQS6TbsFmFokObvDxnAFc69CRd1YMtOcaS6UFKDUZWgQggFAAzyQSYkAGTT2A542NjQFmwIAB5MCgeH5WGdK0FrJgDTCrV6+OmEm1xERqIWU5QfPeLM9gJlIsgxXcK1DowYMHRyzwDqGsA7GiJJMuCA8dOhRtysvLI4elCTRNmpZABZutWLEiN1AFpVsZYGrRzOtz2UqGkzAAyKQkSEBMnDgxgMhU0j/t3bpS+7w7ceJEdu7cuayysjL6p/IYN1Yr9Atq52Lt2rU59Gc5YkAbR1pGV2Mwfumy16qaPgrnsgK2GjNmzB/LCZfZaR3HmDzXUrAYLszBnLq0daBeUjAbA+zduzdnBwZfpSGuIrulWVpW0yrp0tmShWcIaGKk7bx588JVeM69TAiVIzwMBzmocSiZnOW+nbUhfd1Ukd0AbskUltm1a1csm3l48+bN7PLlyxF0Tl7qcrqDA8mA9PcADAoaOXJkNnv27IgvqBghYCdjBypmic09wuOeJGCtajxyRsnIRTsKVpcQekKA2bp1a45mYY9u3boF158+fToaM4AlQ1rclQakwK1iERzXXbx4cTZ+/PiwBr7P+FiBWAIA97SzWORMO+aijDHAAYAcWAyZ+AGI9rhhUTVXV1fnJDI0NG7cuAzmaWpqyk6ePFkEcJpnUq6X89PAZlKEBcDKlSuDmnEzBMfyrlzRKNSNwFgxXdEClHk4iEfAUPYgNPveXDMmY3BPvIdl9u/fHxvn+C7CjRo1KpIaGjx//nxWV1cXjbGUfs0kTCgZaCmeMzHBi/DLli3LiI3hw4cHECpf5kot6/KapTVaRgbmIilzpPtw7s2hPArasWPHBliUH2AOHDiQY1IegpgBXV2CnK1ZqBLXQUDeEwN3796Ne3dtGAsgTEJJgnstXLgwmzRpUsTBxYsXQ7MqRDakH64DCOZwaeEyg3b04UBZPEcGyyosFIQgm6F53IuBGND1A0IwEZoG/fXr12PQpUuXhiUPHz5cMA+ToDkOaq8FCxZkc+fOzaZNmxaTUSWbGG0rvSKwgMwfCo0VqNXc8qKt21kGP+4aYKqqqnKKOgIPUxM//OiMECyLXWBR6V65ciVia86cOdmZM2eyo0ePBkPRnkmxzq1bt7I1a9Zks2bNirbEo6xlHtMlZUfOLq85MxZKhapRkAkZcICApgGOjJEL+bNt27Z86tSpEagGLg1xPTq644+ANTU14YpodOjQoSEs7nbw4MGIBwZGayiloqIiyntikCCFfRASsFbgCCl5uF6CsZgLbeNK9DUZ627I7ZKZd3hQgNm8eXMOEEoOGuA+Vrn6OGxz6tSpYu1v1QsgrApZUO3ihnxpQ6NVVVWxAsUyKAQ3M7Dd5Uz3AZgTkAiGxYcNGxbLcRTsl7t0/ZIuEmNtIxiEgnXwWzRsUJsv6uvrI2bcOzMHEYgksilTpoQCWGDRB1dEOVhixIgRMTYfrBAAAOYuC1TjxJIFF0NhyIMiqLit3l3g6Z4u0gLMnj17cusyExaWQLuYEJdBUy5PGcwdGCbjGtcbMmRIUT+5Ewpx4POLFi0KgbA6ANE0LiZrAs79aGQyDeDuKtCyBTksVGW3qBS0DA0RDA2hXYIeTUMGZOhUqwjKxPg0A0ux3GMByxsUw1j0X7VqVSQ54guXtJZzc0RSkI7dBgYMbpdW65ITz4pSxs+AlZWVuesKBkVj0DSNsRAfmmAihXYXJu1j8GJh6zoA+010woQJUdpwT1xFxv69SnRVm27dAgLlIoulkkClc0Dx7I/abMuWLblfkbGQ5bm8Tq3GoBaHJlVM65auGxYuYbEK136AIgaWLFmSwZoym/sHzAcQ5uaZ5GBfFGUitSJw0ecaKSgddJs2bYqP/3Ty4yv3goImmcwCz+0mALh0ZdA0qVmyOBmMBGWTSKFrPACiga4tX6yaGROXpA8ymB6wJnO40Wi88Z5KJMBQaLKqSws9hEeb/Mjm1lp01N38bildpgWomvTr2tOnT4sN85kzZ2bz588PC7CGcu3k9i19OIg1vQCGpB0xZjXNvNJ5rEYRli9nmP7s2bMR8K5ttBKCQMsEooUgA7nvzBgAcVdUmpX1AI8wMBka5EfugeEYA2Xh91wzJ3NwRqFuVvifIVgHJTgHbQYNGvTvL3cMfOzYsdyBYBuYiwRHJ1zATxG0ccsVAY0TXdKFWZQWv/9BwYxNzKEUFBJ1VFlZ0DmrUJbU9EVgd3kAh2fgUgDgHoVJ31xjJZfyFLEBpq6uLndd4tqBial88Vv8GhKgAwAZ2DW/Sc+1ul+i3aCTeQAFI+IB0L5Lc8ZjNUoxSuLmOVpG85ZWuFKaVGFLxjPmqOqL2uzIkSPx5YxOHGjc4s2VIxoi6WFWNIgQaJF7jpQBufYLHMBlJVwNMIBC236Gd90CGOo43IbU4Fc5Y1RScf+Msa0Y4rsRiLZv3x55Js0fAhKgO/ByfrpfZVlhvlABaSEohSOI7XTLlHqt1aR4C1LdNnVhl/Em6QCzY8eO2AS0btI13GlxYF1HRkvvS/d9Bes53RaSKNKNEoUMf0n+0cd7z/ZJ2xc7SDzcuXNn5Bk15cSC85xqsvRd2kaNMQ59UiBq3rymUOkeQwrSsZprX/ouLLN79+6CANSkk6Znc4dC+q4UiJOkVmnuWSqgmk/BpkpNQTf3nH7/Aiwg3FwP47VMAAAAAElFTkSuQmCC"},sepia:{name:"Sepia",preview:"data:image/png;base64,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"},vintage:{name:"Vintage",preview:"data:image/png;base64,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"},kodachrome:{name:"Kodachrome",preview:"data:image/png;base64,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"},technicolor:{name:"Technicolor",preview:"data:image/png;base64,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"},black_white:{name:"Black & White",preview:"data:image/png;base64,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"},cold:{name:"Cold",array:[1,0,0,0,0,0,1,0,0,0,-.2,.2,.1,.4,0,0,0,0,1,0],preview:"data:image/png;base64,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"},old:{name:"Old",array:[1,0,0,0,0,-.4,1.3,-.4,.2,-.1,0,0,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEDWlDQ1BJQ0MgUHJvZmlsZQAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VVBg/m8AAAAJcEhZcwAACxMAAAsTAQCanBgAABdfSURBVGgFTZrZjx3pWcafWs/W2+lut92envaMZ/AkmWx4EiIiSBQgAoSAG6RcECm3CHGDhLi2xF+AxG0u+APgBikIJQFNIBGJhiQTZs94xvbYbtu9d5+tTm38nu+0Jxy7uk5Vfcu7Pu9SJxr947fbVLmSOJKiVo2kpok1KyY6Gp/qx/f29d7eRE1Ua97UmjFiztG2UhumRMyO1WOVbpJqkGYaZJl6Sa5uJ1GH627aVZYlyuJEeZIpiVL2SxRFiRLmxvJC/OX4/x/uskn4z3MoC3syhnkNc9o4hq6Ec6o0blmARcWSiirONfy0iqOIjSEyiyG8VcW9GYvNVKldrMm4QIIqxjJLJTuXbOYjQyg1nHpF3884+8Mj9mkhmpO/+g/fFtcRTIVLBj4dYOoRbqDPs+uwhtlvuEygq4ag1JIQ0lRgxquwdQy/8JVy9POYx5FmdQRDsSqYaKwOFrYEE46KZUqkk8FYFa5jlTxncQQZKWVHM2ciFxubl5a5ptFMcDA3RnALxhj4MZdhEKu1gYEgcAi35USWKAO9Lhz4w5ZtxkDfKsIitjQffbiJklg1xLTs0kJAE9eMZCwm0kIAFKBiGLbUOBqEYi1VSJXZyNBytFR9bphpQSw+rBho9mZmIhx+xPePh/l7+Hi0PwiQdZ6y5juppWGiWlNtNXil2gYBW9DYxbQS7HsOJWakgbi28XNv7PE+bN++TlEsB+fFMwvGB8/8FyqCT3Dh7dicM+vDeBjJPTNuEsIfnwPpC3afshFYR9Nh0cBZ/VQjnuhJlhtPMC3vGuMTKTvkdmK4GkBgj136qDS3aXDUEHHOlLE1BTm25YXTBmrCwhaUvcmm9PQwEyZ6cb3wyYR7ZmLheabHH254KfZo/NC+4wsm2jqCdJiRthqzOUjS5oyx8ksOTAfHj+JSnaTVS5YyyLCRd7XCMWBWbo/Bd7zYFMc5Khs9nLd6zNrFhZnxFRr8d0FL0A17LLDKtNhP8CFGWaNmyrozvb/6XFwYIHzTfwIzPi3WbhB82kT7wclqDRhkfBoxwJZcqCzOFZ+c6QUITOpS2bxRD+I7SaVOt6s0WwEQllg71bNNqhvzSE9muX45q/UAWywQSB6kCHhcSNJOa03aT6xx27oZtB6MlP5nkw5S92lBOSHhghFf46NPP7YDO33apo9Q2YhlltTWwGtxrPHxSOMnZxrtjTU/G/OsxnEhKy6YhLbirpJ0iY37+NaW4uxysPMV4sage0mXYOb9Sal3xlOEgUDAtRpfsmnAhpoUgRlcYL7FNFuemYEF0fjcQpUXtHLBfxutP3Zxf2xVfnBxBSPxA5VY0/iw0tHdSuePkOT5ier5BAurlaHvNENqMbGkqlWOkUGfkGjGmnNF5Sm7nBM3rkFHR2n3TMPuUJ/rDbQBULw9GmtcwggkGLarzJoggKkTAtnCvdEGphu1GB3WEEzHoHJBpkm+4CPQ0diFAxv+YzQFOA7u39bhLxud3mfsjMUrEKlGCwgmwYyaCoe2LSPtpoYJHs/HZmymdMhm+E9dP2Is2UG6y8rnMAYYpFf0fLaspW6ut85ONS3nPPMH2V/YuK1uoQnc26L14ZsBQRdjP+YFQYbPBVqZycU/6Iaz9J3vnKLiHpIfwMQcTcx4wiQYCOhhx/U10wgnCCBWMYaBplRvFfPKegHsyvIe35ehYRVCGBiPFXG9la+xdq73zp+oYP0gy48ZWFxavPaAp2hlmPc9bi7OnCz2xmAUaFg8WsR4BkFfPD/HWUCdenqqanaO1OcQzD0m1CBRCGcMbEqwOrO6vSj/K2LLOSaGlhJMigSGTaecRwzAVlvHGiNbreHyUNdXNsi77OL+5yX819QuPhcAxMXFvbARl4vBiy/wYZS0g9ufUQXbNHgguUWD3StZSKrlgVVdcy/CN+BFJYiVdXC1euGQCXZfF6gy51mBBqfIsjtlzDacs0XzBMaY6QHRMlueKM4zbQ7WSTrnelScBqgNBENkiAUXRNtqjGrYMjvzMQEmG5qDL/gEx86tWo4G4PH82qZlbVV4e4w58AxNQBjrxMGO4d5npyGWRGPH8VaFKhis5pjZ5BwHX2din3VOeAySAQRRtMQ9xvNpoomiHmimbc2TjqaGSx7Z7M2zzSaYU/jKzUB5sBj+8NhaQsNNi9bRRAwohBTITLJWYMQb2cY8I7KTMclrmxl/N3PwwNfcayhCWlGwA0xrDKp1ZzgqjJD6t81UTQI8ZxtoxKuwseOTqUlKgmhPmxoSNEtWJi1hDy8VzPfCZAK8glytpc1MHiK2fZXNI8UVARrLyMoOmUVHJUI7jzuaE7hTQIcFcTMvijk1pKleIkiK/b3anADnyBtyrGUyAKyxRkL9zIhl8xtDaKY0hYH4gEmIu+Fe3OdYEBMlCIrbAxjulRNNuKiiAYwQS0RwZR9vt2AM/wIe26bQJP4IRh4C1xnzB2AQG2LeLSjYnWIN84FOk54Zse1ffCwdLqzmcM9EsLo1UhYzaE0BBJhiLX/KFBMhWZ6cHmg1uwZED1Auk1yAxBBjypHYQjPI2pc5aNf8XPvFHZT2nLrRCwuG4iXYX8a/SJeaDOFiMqhsHh2xn5NQfA6mfc9rNhkBHHDJCOab0wJBBDEEukIRxqigUsePyOjFvJD925Fdt5gJKsUMX7HkqykVYzxRNSSFwYwMoU19xHkF6aIRgqZipz88QZox0szxq/Pbr6k3eEuXrnxJRXtJh3rEXkNl6XOatEtaSTZg5gh3GZHSQDQ6aV344U/B6KCtpPqs+8sAzZynxmBglZ34aofmK0SjhEC0mbC/G61sYr0liihMv3W+NcgptJgwq1SMjtVZQiNAr4Ejbk4uGOhQthhAxiqnP9PBwXt68PCuotm6Bqs5QHBMZr3OmrkO5v+tN6av6vXmef3O5ZeJQSfqVV0sAqFBkEHE5hGRE9ZorCHRTfCNFqEl39xZuWWaHW3tB2GGoYz/9hMzEWwiLADTqDbJ4R9m/dypRUWMieygOHtVgmjlOTHo2ABHhtADZYgy07f00YP/0NHJBJRb0/LGlrLeEEaQKjlcmq+oSrb0r/sn+u4bH+h4vqdfX92mF7DJ/hTKweydmZsw04QPeU87ITlbOp853TDRMMIBXQzCvCDUE3zGWrF7vrNGiZN1upXyLmgBBMcpjMxJAo9nKrHlvE/tPjti8bkGwyMNljCzfKjjCjNJXoABtBaDbmBYoAFSStfP8RnZ15meBz2m54UOD8nfCiA8zyHDEi3DnGD4gECLVswcNSzkYloTINSSTR0Aya2cJEaca7DWABHGoqmQc3HtsQ3PGlKUDnnUDCZcJo8niwy5Y9TD2ct5oiMyaFXvarDzojrPYvPJCpsSD4jEEdmAIN0MsyN72cca3Vxa10p0H99jZ5u6pWkq7J+kUjXzQ0sDYTv5bJ1B4DvpeOTUAwd0IEb6NUQbkm1SF0sE8HHd7uSsrezMreZgekHN0SlRexgYqXD9cs582kEVYfpkn8DYW9EuJpI6AQ2J39NMFxdkvTFIeO5n7JuDWr2tUl/Z7uuE2sbY7tQoorgLH/sKc8w40sNHiEeYF1WP0qWdDuk7ds3GKR0Tp9sJ34O7MNuxxc7vMGy/tqb8SXPuY24k9miTjkkHW8f2aky1Hs80J087Irm89Aw2vkTU9xx8z9VgSSx50m102AEsom3l8Qrrs1KEIJKJXvnqrh6PHuv+Uqm1dl85ZUB3Tpyq1rEa1o8KwMT+YIasKRh5+U87+ui1VPd/RvAZo160A858zEiwSXynxWQsF5uWvxjh3JBIUJ17XUkBtCJZA0EJdD85w9aJ5NfWN8EKm48TavbpUDJ0r2g9fkXd+LGO4/s6i95FOzBYplqGscv5y1q+tA0M76uiiHOfoBufssc99Y8H6kA4rv4rsyGfS+f7E+3czLR14xnde22mh28/DqlHp4sJwGyMKVkbjhrQvYBnFrH/BJWH9YxmNACA8RjfmRStHuF7q5dW1HWqjx8c5WM9Xn5WS8nnSFNYk/hwGN2mcXGGnXdZ+QzN0rNEMI/1jiaAg7ifoCXKNTSzoo30ZZ1t7ZFk39fwhKyA0FFT1FmyaXGcqDjDcS8d6MbvfkYbvzbUW9//QKegULdPPoR9mhkXWj5sXiE1gzlM1P4YGLD1zTArlxxHk0aPGbSzsaYO/vwkm2u09nmtJZs6qe+Qa+2jq56WmqsE03MRTjEX0A/d9hyHAI/IFWPTCc49obRo2sdqSUeyBvMaDHS/+67WDhrSlB4axxL+5s9v3irHVajPCdhau/Y1Da8NdXZwqJPjSVC5HdENOntHAcUFBl/CQYk5OOM2E0b4gjEjnt3FP86Iup+9fl39Kx1NrtzUErX9XvQ/mNsEXwC6yYgzZJ21qxrFj4ghmCYpTRNg1UyBbtQykBik1dOzmjSnOoo+BABEfHlRxRK+2B4pn5He/NXvZ7c6yx2CF5yRtwjkSAef1OUbO2ig0PH+MQ0JWIAZ26X7uUYvM2cHdivUqdWMMwisQ5i5i0QiVPGF568penZbS4Mv6FH0Y9pEZ06S2YeYAHzileRKMfnWKt/P+O5MGQ2DToU7OgRK5115A2xzf4aZuQkIXiK0J9osv6R20Ndx90PmnK9S3o5xUrqKK88xAamUh8r6jV76Kk63taw3/usNtDMNaJaTZObrA41Ox0FLlpk1VUIgjSQSbnpbmN0OTp84cA6eUUWMGINGjsM2H+dMCRpr8IExqcxSvaxhu61ZQsZMJmyoT4n4Wb0R+m1+B1BHnsdjULNP2UC/X3vtWxpOd9Xv/RaIRnnbxj11Vr9OjT1UVTwB0R6Sf91RthRr56UvgyBX9eGbt/XB7Xt6dGOs63/0GV39z4He/P53gzaCtCDyiI0OOJ+B8VkGJPbogeUEMUxhlfSjBJ4Lyl83iOYt0rVBUksUMN6tsX18ouW7JWN/dP1ieJ1lIxCP6F3n3AOqoy5rUFaDpvv6SCuzy0T2/akG1z7Ppp/AZN7AcX4EE3Qfq4lmZzhd+oF6/ev61Bcv6fXnJvrf4Ux7+Zv6yte/pqv7r+hnr/9EBRKcYSK0MXRsYtHOeo+mQwd8agc6St6DkBHYQ94FKYN2jbJ3HWhFhxYzGiqReI8st6l5l4JWRjh3hSllVJqul3LWSfAhp11ztFi3tKHgOYl6jL1PGKJ7WM/cNkVWszUy1JuY2kto5grNuR3NgTqRlf7g8Pt6VQ90RD714KDQD+PvqfNnl3Xzt/9QBanKfcS+TyQeO+IiqWEfu+6RJzkp5B4hF7uv8IozTeN9HGGEn9Fp4UlCEeVAmTcDPVNdw0Tf1ZVqWzvNpyGU9izlgF9eVPiM/SymwRfTWI/okbnB4R5Z8q2X1m/Nz6m0+jQPegSvmiBUbtGkIxsddzkG+vDkVP8cPdA+AS8UR3ZYHP50/Yl2n/+EbvY/qxwNmthzch+j11cuv6TNXYhYoxNZDTXK9vAJUI46Yk5B5Ea3Tck+gbsDq7RegVw3FB5Nf6G1Zqit5jpamWqWnobEFrcHml1NWkP9oKU+WUFGDpZ888Xhrc7KFXKyZ6i6VlFdquLY+LRMYjnT9OC+/q3Y19s9t0xhhEX4y6YAo4leuavOcEufXf6ivrad6ZWdK1rpd3Wtu6l4k1xro9Cw/A0YpJuCbfex8Zz2rInnxRyMFGgGFHMpTN7khnoab9JfXgVAyBnIbGuOmBTGbSq/CUsYjxhYj/TI5gaUp/mQKo4Oe3H6IX4HrlBCjg9uU9qe4ifkS5NC72zjnoZdDpegYREcsqLAOjoDJpd/pNHlkZ6fRNpZL7V7eQekQrLNQ91rH2o7/WNdrV4CDO6wMQVUe4eanWSVkjVEZ9jpwaIj+TybqEPTb1xPSF/2YJdUntQmrnmOH9U0/kSu5cxf+F2tY874zze2+7fmE/dvT/GJj3TywU+ROqDax7wO9vRzHen1FZwRacRE0Iw0xO8W+8KfqBJLTGyCAKbLB0i1r+igVH2OGZEjFRRXv+zu6+raslaqT2qUPNQ+zDSkMwnaWda6dRtAwHV2SclsbRfuKQffKtRhXHhLwP62a7rucGDId8gk6wjIB21OZv2CanI41fRkRMIHak9LjY4ekESOCW4uK/FNbDqYEwjlt1KzhGqQkD6d0u0dAbnjue5s3tab2yBXs6wZcaZ4SCr/qNXPq++oTp5oUF+FgUq9OEMQdGOQp98oG4LnOH4K0cF3gFwn3W47zd1LxoQbzo76JfMj+msdEK5nRENjUYOZfuszq7dq9DQn0XN9MPd7jclE09NTEGymt7ulnqziDzSxnTzmHeddNGcIeO4Ju1GZs6sNzmn82eBUBwnaAOzyg6lOEeCHfer5/j1da38TOF5DMBMg+BIEEqX5XjqCo4HlaC1oaKXZwvQgPPXLcIdcOiuw7H6yS20HSMN2Ts3eY73V5hrAQSPNuZLfU1T0c11/+HW1IbNyM463Cw3M4eOIiOIK55pz9qsIh9oU6cYQXrPImOZEwXG4+US/+MSp3scMV/dSHe3H+uH5m/pJ/g9axS92519GiqnO4oeYh/2DTBYtjAEESz+DKXdm/DFdBalTCkq5i9MAzhFaiamBKtfsHJl9aP3Tf6BkaUi8II7MWRbb9ltZM9cweOhEirLTdbWvpxWacIKFNijG4S0NRdQcIZjxMSqa0BMu1s704Cb+k/eV7XV09yjWqydv6d+jvydS36a3tR5gtIyPiD0HICA9K5zYKDTies4rwRhYzUN5axM7CJALJ9DmzglpP8LuEBAHEV2Uv/7Gn9wabH0KCYPXp4ehEecfB1ihRgY3GN5f4lcPNBWiLpEeKfl+AlMuN8MYwMHvH601/jodCiY3p4g6pBIcHWY6mMAcVeU+UXm/81Nt0jXcqj+Hq6JawnWAYvY1qs0gEn6CWTmld5LYUKvn+EUFS4ZxO7qRcaV9llKexvlf/t6NW2k60NLOCxpsbWN7mMgZ0XdCigxF5Wyuh6jvdGglLMpdzDQ4YlO7jre2qJsxN1SE37gRZ/8hFed+kQEcoMnhAywbdCsRwH5d6E70tqbRPe3Gu3SDd3FeHBaiu+0y8zPSHH42QtPambFbtW6Zup/Sr7cDki01O4zd0P3+a3p18C+KfvB3/9SmFE+p25+0dhp6uNOjxzp58D7ItafTwyN9QDb8veu8QqOjV+HQUU5QGrg9AzhQT7v4ygcAArw4zoSAyV+zZoGX00ijR5VO9mbqbyXqb/IrCcJDjLYu0fV4cfCcbuSf1tVoVxvNbnDoUXSC7GmJEkksXP9EoMu/ZZCPN5zap0x+kNzVfXKytTE53bf/4m/bnJ5t3ukTiADFlIOMNSEoXfwIA58oiSZznSAhZ6+kk9TTU6L1VCOa1YUPUok590vukRFhx8A2BlDOSuoZnnCenJBrnRXqbpAdkVnH7thzZByDXkebNOmuJpd1vfecdnmNtwQi5fiAIdqvEkItg5XY9J35mrEBrzN6ji8HJ49xWBZD5a6Zk9BVJ03IaN2nVMucU595dgnEif3c3cPocnB0HgY088KAWIBFy6/GHPEcoj6Oivn510Xsj09hfpzdP3P7PGXvGFP0r5P8gsjxww0NYi3+sri2boPhAvXhzPzwwx8EFYF0fiXnNndw0NDDRaY19lzS3I3JiAvihVs9jhsJBPsdhFEq4bAZxoZevNLPEEUoiMI1UJohpQ7oZyh3QyEEOpNh/1rgBFdQZFNlX2jhw0NiVfgehjKPMS5R4NfUM4cxfMwspPMMt7DtZNg3a4Wb3iwchh9GBQl7FgNaylcEwkQG+0AaiV/ZOe4Ave4BO8D5N1ROO+DAJIR7JtU/BkDGLAsXJoJ/HhfezSxmMBqBhJ4aTwOhi3EM8v9AIxSwtDXEPWvGZ89MIcC/9ln8ZMjtSIjCZu24Vv1iAc6ejHbCj2d4mMDA4mdJ3DeRFxuZ3BjJsbZ54TZZKxry+pGBgHsLqXp7D+Cebe1CcEyHUQ7LKix2cfY9hOClzWSgiwE2R9P2f6CwiTh0/9XaAAAAAElFTkSuQmCC"},milk:{name:"Milk",array:[0,1,0,0,0,0,1,0,0,0,0,.6,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,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"},purple:{name:"Purple",array:[1,-.2,0,0,0,0,1,0,-.1,0,0,1.2,1,.1,0,0,0,1.7,1,0],preview:"data:image/png;base64,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"},yellow:{name:"Yellow",array:[1,0,0,0,0,-.2,1,.3,.1,0,-.1,0,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEDWlDQ1BJQ0MgUHJvZmlsZQAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VVBg/m8AAAAJcEhZcwAACxMAAAsTAQCanBgAABewSURBVGgFZZpJrCXnWYbfOlV15jsP3X3vdXfbHbc7tuMhNrFCokAiRexYIVlIQVllE7FCEesWC/asWCDEggWLRGIDCEJQArEUnIRgO06C46Gn233n8cynJp73P/cCEtVdXXVq+P9veL/3+76/OhpVf1LFqitWJKnij1Sopkkx0tHeud5+91wf3JuqrApl00LjstS04jkerHjHf+pxpFYSq1FP1G3E6rQStdibTa6FY0Mp19OUmeqx4jRhj1WLa6rVvDN3xDHyEQEutnAa5vGF2UnlZ+NYBc9XvF/xfsV4SYTQNdQQ/1oFKZ+Jx/MpAqaNSFMGKUppXJVBEQ5B4YiJPXfOuwUnGW9nFUfmTDnm7DHnWVQp9fC8VdW4wO6fFhR5+Acp+BHxj6+FwZk7bKXN5Uv8G6xXCpsqZgxLG3G/ZE845acV8e7N4hRhAhRWpxkxeaRxgUK1WHlWqkCWCAm8x1gkx0IZ5wni5fzOIn5znqBIjfcSZsxKzhEu5rxk3JydyVVxPeJ6MMqlIhYj6ME/mDqowZzWI/LLRgTIiNhtAY/hsdgS3kvRmoc0CVeCamjdxiMR5iwQqEJYW6PEPYZBlCTBtWijEmEq4IW0CIrCXMsvFLXlrDyGE1NzrIKnPBFvBW/YKxYZuXzKxsPefcEv4VX/ruwpTv1eGQblMhv6+k/MZb9t8a1Mzs4EDNJAiQRcT6e8yDMFilUZonliuwyheZBzLsX4JOAfw3jCy/vc9OgW0KP7Fq9wZOZkFiPhUUOOOS17GJBD0IKHrUvNmLYCeNoXYj9o/fhx4RH/8Gbb+eHZC/ghYLtOoLaziECuqYXnWri0YatGwAzhe3mkPtYpGbjEC8b6Bfg9KILNhLOZghJYF/mxIte5lqAArylBGytryP7vNjv3u0aEt6AQc1TGmndDq9IQpeoMaGhZAXuDGHHQl7katVLPdaRPM8nKYkPznVSduOTpPAiFszWalDoaSzvjSHsZjIcFDVMbKyDCR/agBFftH+tau1DIngmesGd5zt6aGdPHoIJPgnSzEx7gb1VieOvCn6TsHaqc8+tICz+VGhAHhcrRRNlJT7XHQz3TY/JhprRXqNUBbkmu5lxDyeKckm5b0UKiLYLwOby2P0n04aCmx4NKEyAIKrELhoHkmZn5zZHlxY4CF8xmVWOsGzxie1pCK+SAtqhGgC9bVUMsPMMp1x2zSXW6r2I6lNptVTn0enCu/u5Ag4d99R8NNTkYwTQ5OWSqvJgqauOppYZqK21pvqXa+qqS9XUlaaQ5vNbhfG0S66PTSv91SO7pT2EsQIr7TRg2Ylmk4DxTCTnUiEGTQ41oNTtGdoft+j+b/cqlC+FtfW8hTtDmkpaT8nBHBRg/2c91sl3ofBdL7p6rHIxwEJrakEDJQMnRPBsTH3HONbw3HSgbnJNgekq3rkv1FKo909LSsl6er2ulIf3qYKL+uACs8D5xVJBkinzKc3VVJFCCDPYDUnis5sBH4eAWtLkUOkjuf9AhXL10VrjBU3gnOfjJIx19Uup8D4tVDD4hRgZjcArusFLpvIEycQtAwJ+26nSAYrWp4jreR4Bi/0Bxs6F4c0vVeIgcRN3KFT19o63uXKJfPhlqBDQvt8iswzZjTJ/77HKb/Q4XHEgXEApB7Vt+9+KyYeV0UKFJ8l9/38cycFG7oWqaqeiTR4CY1TfdmuICO4BVU6RdOSWwleVqXWkr7jTDZNn2tmoLHcXdBdMQ91Go3dWVpxaVNuv64P6xJuMLZQgEJ8DLzace91KdyhccEEaR48QbnpqREaeIZ2+FPIIylBCqZecMQQ1VnvSVHw9UMtll0BXkjoBNU6thls7G9gRlVdP0dAJMGKRuT2IANCxHfQZG4Is9quVavrqgW9cXqMWIB8a6/BMEvNDn/6g1E95KeLNNg109KX+tBMiomNc/Soye5QVQBTrpxJZCY26aqgvYxsFn6syYOG0SIXCn80OCtXPihKqEQMYAE2JHY9U31hkY6B0chGKQ6pAhgebwTLVOotWri5rixd2D3iygmc8GCfDg6M0H253CLcBndhGhfcPs5LsWnlgtfWS3zAX3Egubjyj7wI2DxpYJxOGXg+3QLMCAQZy+UaQCmA7anAnHRwN1ry+KMlf5EUK3W3hvyrFLEFMxEHJVOWLMVa1trWmKgiOMg53IKxjOMhu+ntnWJjZnJ549iACquIfVyzFeN5XXKI24FpyCUgVemWV2BvDLoazgbRI2QvCyuQptKwcYDGPqNI36jrWdklfS5kRRF0V4thyP8SIPXVnmed7NuNeCpi0hZWQjbml1Tdqb4HEMZ/l4Colnu60drGmhbW0XZ2yT8yNND/YUT0nQQDqFZdK0rqTZUY/jFMESQ8TlkoUzrEjmgSprZHRftZemfXIHs5ZRoSY5PeSCUanWnJmMsv2cPFRCvUtLUu9kNuBgIDWtBFsIWAODtIuB2qOhBlGqqNGk2EQgHkAE5p09GjFBlJneMw0PH2t8uAukeYrxMk8OU8bEYPNoX2nU0ikKJTGJbMYgM+1NnRdns1EvjOTEFs9Tno+cpZEbK2YmgGms4faJFp7fVNzuqHQqtweJB3VtJZIJMWSveFwX+I0HP9fexw+VbN1Q69pNZZ1OYLgk7XKfpgsjRo06hhtixGMM7VxDzHG0OTLOy7mOquZI6dlAaxgvCbC5FD1wtGMB6zjwjWELbWjAB6XLDDsKTKYYwK7Mh6UmJ2Pl5J861UFtgueOTxTNEyMTPJL02O0Z11EYgT/1QU/n//i+Wksfau2rr2iysKYjclG0sKj65nWNGl3NLy8pQoliMoItqTqYy6WTNxvRsuVWdglIT0iwYIO20053CTGDq4UNCvKCGcKKxWB+itDtRUp6lHI505hHYQJ3Osw12TlVY60FDmmpXHr0zhV1ulLLHnEoDzR9/J4O3/tEj995QuwsqLOUqDg/VWdxGSunOnj7p3r/5G29u/K0vvKFT2k9O6GFhtrxkyUsoXh3hDFVRQHmDcuY6ruam1P8tWeadz1NCDyw7LizclbGMeN7oVT1bwaBMMji6H9B1TV675wSxIFTwSoZCTU/d046YxKeJ9G6Mxx/8oEe/N2PdLQ7VrI8r7mbK9RoCzRj6axkWeiqgAn+4ddDffe7j3W8s6/PfmpF7QXirkYC80bNZ8GCvFjd7Gn2sreSbMzl0A+gDBNaUGtVufFmM5Ncese5JDuGOZql6nMpxsc6DJKNMlWHFIfRWI3FprKDU6qEXN0HWPvWqWprizo55Nr1m5qnWi6nI+K1Du5nYmW2HsrXez09TQU+Opvq6PGA0s3QbABvLFowh+PEz8KGRWZYICBFZ5znSgY9wofnXFc5CdLgBeo1e9kxQQkUMFlEwQs+x60wWINEN+obSokGUHGOy3OqgXxC3z6MdfIuzPWLe+q8flON55YpYeZmVrRlqc1C0oR9mJ6aLofKS722OdF8fISXbUX+uoh0brGFCYEKoaOI98lnbrXtpQLhkgF9g3+HRIywKI6VZ8xluPnM+LS3LhUreWZ6Qly4EjYz+UG2yXCoPsaIWQIiFeh0j0mvzuvG9Ws2LEogEM9GWMtv2CA93NJHqII85U60dTPXl55OdUbseRBXGYgfxjdr2SOzopNreKXGM5VzytxmquNHGUREKYLnXB34+SAb5yCHi+wcXfkWTO4tIfhBAUUm1uA8xTsZ9woIoYSqJ3SNx8Oa1q+vSktk/Trjk2k9nFdZ9jkew3L56jU1oFInrCl1Wm1zqNf/+Ib2Hh1pu1FqYXysOjBtwktpe5E4ZXxyTEgZVAQlwY5llDz/O7Ee/SLW9jsknwFYw32NuuOFmVDaHZyDvSJn2C6XVaspcIrbQZPGZOoYBWZEQMwQOwenpYbA5+aNJWRkYoyRQQzbWOhs7apWnn1Vzd6+Tk6e6OzJr/E2VTUCza9c1dXbd7SweaLBCRBrNGAuKqDRuWKe7eQt2m8Iwt7lnUBI/XPy2c5UW7cTrb+yqkc/y/T4x5QDw0oNFhqCYHax2Qp97AsrYI1ciUTO/j63F3nAFF2DTYbge6dfIUxXzfUOJfZUx5Qve1tPaf7ZF7TmF8Z9GOyBzqFppS1V5JYUqnadt3v/Iw3OThXV6XF6BD0QWep2tfLiHZ2f7kqPn2gJhZzjij5xyJZMcP/kPkx09US3f+/TPDyvX3x7W2dHlABtBCNeLldBPAk6hd2jWBnrZS8WCFcQM6QXhK60Bwyfesqle6l9gnHwwitaIsmd7m9r5+SQ9NJQd2ldExQYEsAFGM4nY7UI0lqaYkRyB4FbMMmQhFceHhILHeC1otrTbW0/+liLZ5RMEX0UXo6/9a1n7+YwT//BOCS35d/9opZuz+vs/gmTQnMI6OrToeHAB0VyE0m8U/c4fLjnc3Z3A5RlekCXfE5+ePnzm2pvUu2+9qq6Kyva+fAdvEUVkDaIB8oLLF7vzqt3vE8l6xxFCYL3DIUcNiIagDIKca99ZQNm7OnoyUNIgmWpjVuaxGNNz07wGA3dH36hultfJkN20AzWES5M79zWlTeuEVhjnXxyJuYO0Y+MM8Vwi2seKwDbhrXeMXgdsh9ZEWSJOnW99saGaneuqfv8q9r56D9AU5/3eAEPOOwnlB8pRmrSVY6HPdVdKSN0gnfG0HJJbx9jkHob2sZo4xG9DBTrhZDx8YHWnn2NhZCWjg+o26p0TsXpMDBV86UtBIAKqXESGOPOm89qbrOj97/9IVQ65hmvpkPV623190coZY8ANSDntVxSkg5QZI9rTzVYIWfZqP7UVSg01wAPGJYZJUxVDGE6qmg1NIBguq2ulunxx5OLipl4S6mm09YycxLYCF6QBHk91FvdhWUW1xvauf+hltY31H3t80ryQ3r2TkvNr/wWCWtB+cGhIsrm6PgReIx0/auf0/ztK7r3g4f6+Mc72l0a6dY3P63NX7f0/p+9BZXOWH6MlMdMdIhXzlEoaaWUMlibsVmk0eLiClAEmvD+BMEmwz4J1j5mCQovtOhpap1F8G5xyda8U3edRp4ZsVpTshSVYMX6AgUe0LQ3vbK5v7+jhaVVxV+/k95tvvG8Gp99HVM+UP7uT1Bilx6+p3yQUdxR+0OJ6y9v6KfZsX7WHOswOtP1L91Sc9TSJ7+APuFAOEbHKHGCsMS6PnN7nRjZUuOFWzo82NaYZaMEzk9gjPYcJABcUmCTNC86SUqJllmKyrdNWZ/T/xfTCdAiboiXGOHrhoPLpDHLUJTubuRcFhQTPFzQIOVn1D4E2bSxqPzGS4oHB8p391hAg+Lu72C0I/3rfqEfPDzSmCXTyZNc//bDt/Sbb/6GXtv4ir7/1z/S9im4xTsTyME12fJKl6qUYg/hzflTZ2m+L0yZPKHWMvYLlo4MnRr3LXCj3tHylWv6+N0faePms/QoCzo8fIgCTRhtFFocw9TeqkH1lXuefIIxWnjkpfbd6QEDbl1RtLqCJw5VzK3ycWGemGSAqKN72z1958ER2ZieAHeGHhvKOp0c6Qaeef2VO0ohCsOmx3WSur70+g2tblKPba5TAS+pf4phTBB4bEqH6JX8GlY2TGqUFGmL7E7pUlJ27Lz/Ky3CZleuXEf4MURwHsqt1LSMUikIqDeblDQdtXkupdOMv/ZC+27jxqoqLFHNz9N1JTAC9UtzDmuONfrgif7pUU+/JEGYhkMJjTBeFYyZdHy6rcatNb3yuZf02zek119e1lyXjL4B5ttAszPS8vVX1RuTmRGiPdcF+9ClYYQCFfAxdPxpzy1uSYWb0p80kCUroGrySkFx5y8D7g/DVxyuRTBbDWZLcI8XBeNvfHX5bry6COZcGtO+5qkG736k4Qf3NXxwrj1yyfdIVOduZMB3jR4jRQmas7ASUlD7DHu7GmHhOtl8qzHSiy8sanG+Ig/t6nC8pxuf+SKl/xy471ExNNU72FV/OCJ5AjfGDXUeFo65VyBcnUW/KVA/OzsICAB59Ou0w0DK7EVQoBbQYqm2gLb9PTF+cyu9O92nHWX9aXrvsU7/5X34G+tcXdf4o129c9jTe2R3M44bJLwbvi125hfIHyxuo/yQPn5EcVdg7eiAUv4hArQRhubqg5Njbd1sa2H1tnq9Pe07oXliBJ+ntbWHE87NXhkGiygsJyxc1Bxb5JGGLcbRy6JAhLkpvHinRGEn5JqZD2/Gv3+nddeh75USt7IThCpw+ZiVkfFeTz8Z59phgY6YDC5IKShTFhhKJnTTldOjZC6ZSf3DknIDzHbHUC9rvaP9TPdGkMj4sa6/8Bn4tKv+4SMYiyVaIBTgAUSczU2njRZBa/hitMTxAuW6//DKp4PdpYgR4MY3MTRDmQ5tUQnEX3+leTc3pOBML3RNidTJ6Uij3b4yOrVfYYn9FpDiU7O3OrmhhiL+3BwUwSoUtdgTXVDqHPgcslg3YVG8sTcM1HyP6rQ+2taNF14nV8wDjyF9+ioBT5cJvjPnCFw9Dy2bEObJC8Ohcwfx4+LNtM1eZbAdqHBN5nhtwHwtkLGwtsUqvj90YoHSvTe6Gj4RmvoaCBPdK3w+K+EN0pISYQI0aBHY+L6I5Wq4n3gle2OEYaHD6ZHemxvoQ0Jz8TzW8Xmit97+SG//7V9qgTi4/vQbeCOhMN2lIuAbPZ4wi/V7p7YGLW7CN0vXRaAGWp6iVIJxSt4pOPeXNNN1jpErkFA3ha/8wZeVXAPvPSAArNyClu7YPAiWXyLQIrxlCJV0cWO+MVTUUq4XKuMXS1opL8jk1Cp9PDqkCB0Ds8e3UG6uzZeuuh6cxfr+v3+if/6bv2DB7Z7arUWSIz1I/0T9s+NZKQILJgjYoxA0Rdf4SlAHQq4MJufHEAyxBMysUEl/wr/8pwSYsAsL/tGffvlu+7PPMeBI4yenQSGziKvenEw9pTT/kPia0p9E7dlqRk6R5cVsB2B4BteFRQq0c0z6mqvlCR/Vj4Bdv5fqkJJ7QnwdHJ3r4N7PtcoixZVnXoQsaIcRzOXHLDaIzwHlC6VKSW9T454ZzGtadZirMPWiUEAMsJtf2yDDHyr+5ptP3U26Lc29dlOd59bp1CoN9vusZEywNLGDdZ8g1Sl1V1gBx1UYMrgEHgvXMn+RcrPC7i+vDmIHYEZpPIZi+3y2OKJAGAPRDIsf9DJ98vFHGhH41zc3tHyNUgbhWPZUkwIyor5y8HtxrkVlbCUcI+6u20tX+GRe19zqJrlmWY/uvaPv//B7it46+fMq5RuGPxF7variheGDQ53+5z31Pt7T2cMTfbx7pu/N0RyBKXsjStzWUmaj9BRW89dZmrywaOGkZdiFr7ROAHgnY/Wxv48xtidqrfKdcZnYarksKbW2kOrZ2xt67sXb2tzY1OoqFTiN2mBwxuIGnyuAlrvSmNhsEtxzS9eA71AHx/T0u9t6tH+oxfqyor/6zjeqlI+ajfk2fQG0SLXamCc5mQqxcFg9QdgTuibvUy8s07ENmKTPd8YeiW3CPh5TC5GsXEtNWBHMwbuXeDJWIUdD6HVAp8ea2IDVlyaKNLowoU0MRE3p/kS3ujynjasruvXMFisvG+pQDQdPEQ3+fO5GC8C5nQHWVNaUNx2WJVrcTw7u+8OMeZnVOoLXLBQTC2mLkplPZgkNV8LRn8/W6CFisOzF6jhhbda8C1QMI9dgjM1EwAvgOWO7X/HEhqit6utBCI4pzztnOLj9iSH0/EDKC9iMGHa4iD9Ofz46dVKJ84fpOPdvvsNQFVrBBEiHCSOnSW4UUFA0nBCothSvhZ0JEDqGtbxE6vOkwTQcHYzhOo2UPy3P/ksGFnIZg5COl/AfcCwsu/x/WywcSoRQq7nY4NxaekcMC8kDvhrO/RtbYzCbKbwVFA2XuIwEzMcvL5wZQhYk7NYOswQLBzPiUp5zJ2h2mlETAiAssOUbJArxHwXsHddjnt5LmabxWfbmtz3mQi9kY54IknH0XLauH0FRV9ZW0jEWDOAblo2nwgcoX0edi1k48h5XEkMq1FYWkGQU3AdmnUHD6glPetIwCUJcKuzlVXjhQnmm8d/ZIQT/5W/U4TdTAbUwOQ8FsSABj2kXzMCIohfvc/H/bzaox/FhNkIYD9Pwq6b/BoN59YGiHgKVAAAAAElFTkSuQmCC"}};function M(e,t){va(e,t),t.add(e)}function ga(e,t,n){va(e,t),t.set(e,n)}function va(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function P(e,t){return(t=ba(e=e,t,"get")).get?t.get.call(e):t.value}function ba(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}function B(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}var ya=new WeakMap,L=new WeakMap,wa=new WeakSet,Ca=new WeakSet,xa=new WeakSet,Ea=new WeakSet,Ia=new WeakSet,Aa=new WeakSet,Sa=new WeakSet,ka=new WeakSet,Oa=new WeakSet,Ta=new WeakSet,Da=new WeakSet,Ma=new WeakSet,F=new WeakSet,Pa=new WeakSet;class Ba extends EventTarget{constructor(a){var i,e,t,n;if(super(),M(this,Pa),M(this,F),M(this,Ma),M(this,Da),M(this,Ta),M(this,Oa),M(this,ka),M(this,Sa),M(this,Aa),M(this,Ia),M(this,Ea),M(this,xa),M(this,Ca),M(this,wa),i=this,t="",n=e="currentPlacement",(e=String(n))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,ga(this,ya,{writable:!0,value:void 0}),ga(this,L,{writable:!0,value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],e=this.navElem.querySelectorAll(".fpd-tools-nav > .fpd-tool-"+e);return f(e,["fpd-hidden"],!Boolean(t)),e}}),this.fpdInstance=a,this.container=document.createElement("fpd-element-toolbar"),B(this,Ma,Ra).call(this),Object.keys(a.mainOptions.maxValues).forEach(e=>{var t=this.container.querySelector('[data-control="'+e+'"]');t&&t.setAttribute("max",a.mainOptions.maxValues[e])}),Array.isArray(a.mainOptions.fonts)&&a.mainOptions.fonts.length){const i=this.subPanel.querySelector(".fpd-fonts-list");a.mainOptions.fonts.forEach(e=>{let t="object"==typeof e?e.name:e;const n=document.createElement("span");n.className="fpd-item",n.dataset.value=t,n.innerText=t,n.style.fontFamily=t,i.append(n),h(n,"click",e=>{p(Array.from(i.children),["fpd-active"]),u(n,["fpd-active"]),a.currentViewInstance.fabricCanvas.setElementOptions({fontFamily:t})})}),h(this.subPanel.querySelector(".fpd-panel-font-family input"),"keyup",e=>{const t=e.currentTarget.value;i.querySelectorAll(".fpd-item").forEach(e=>{0==t.length?e.classList.remove("fpd-hidden"):e.classList.toggle("fpd-hidden",!e.innerText.toLowerCase().includes(t.toLowerCase()))})})}else this.navElem.querySelector(".fpd-tool-font-family").style.display="none";var s=this.subPanel.querySelector(".fpd-tool-filters");for(const i in ma){const e=document.createElement("div"),t=ma[i];e.className="fpd-item",e.setAttribute("aria-label",t.name),e.style.backgroundImage=`url(${t.preview})`,s.append(e),h(e,"click",e=>{a.currentViewInstance.fabricCanvas.setElementOptions({filter:t.array||i})})}h(a,"elementSelect",()=>{var e=a.currentElement;B(this,ka,Va).call(this,e)?(B(this,Oa,Ua).call(this,e),B(this,Ta,Za).call(this),"text"==e.getType()&&(e.off("changed",B(this,Ta,Za).bind(this)),e.on("changed",B(this,Ta,Za).bind(this)))):B(this,Da,Wa).call(this,!1)}),h(a,"elementChange",()=>{"smart"==this.currentPlacement&&B(this,Da,Wa).call(this,!1)}),h(a,"elementModify",e=>{e=e.detail.options;void 0!==e.fontSize&&B(this,F,Ya).call(this,"fontSize",e.fontSize),void 0!==e.scaleX&&B(this,F,Ya).call(this,"scaleX",parseFloat(Number(e.scaleX).toFixed(2))),void 0!==e.scaleY&&B(this,F,Ya).call(this,"scaleY",parseFloat(Number(e.scaleY).toFixed(2))),void 0!==e.angle&&B(this,F,Ya).call(this,"angle",parseInt(e.angle)),void 0!==e.text&&B(this,F,Ya).call(this,"text",e.text)}),h(document.body,["mouseup","touchend"],()=>{this.fpdInstance.currentElement&&B(this,Ta,Za).call(this)}),h(this.subPanel.querySelectorAll(".fpd-number"),"change",e=>{var e=e.currentTarget,t={},n=(e.value>Number(e.max)&&(e.value=Number(e.max)),e.value<Number(e.min)&&(e.value=Number(e.min)),Number(e.value));e.classList.contains("fpd-slider-number")&&(e.previousElementSibling.setAttribute("value",n),"scaleX"===e.dataset.control)&&a.currentElement&&a.currentElement.lockUniScaling&&(t.scaleY=n,B(this,F,Ya).call(this,"scaleY",n)),t[e.dataset.control]=n,a.currentViewInstance&&a.currentViewInstance.fabricCanvas.setElementOptions(t)}),h(this.subPanel.querySelectorAll("fpd-range-slider"),"onInput",e=>{var t,n=e.currentTarget,i=e.detail,n=(a.currentViewInstance&&a.currentElement&&((t={})[n=n.dataset.control]=i,"scaleX"===n&&a.currentElement&&a.currentElement.lockUniScaling&&(t.scaleY=i,B(this,F,Ya).call(this,"scaleY",i)),a.currentViewInstance.fabricCanvas.setElementOptions(t)),e.currentTarget.nextElementSibling);n&&n.classList.contains("fpd-slider-number")&&(n.value=i)}),h(this.subPanel.querySelectorAll(".fpd-panel-tabs > span"),"click",e=>{const t=e.currentTarget,n=t.parentNode,i=n.nextElementSibling;p(n.querySelectorAll("span"),["fpd-active"]),u(t,["fpd-active"]);e=Array.from(i.children);p(e,["fpd-active"]),u(e.filter(e=>e.dataset.id==t.dataset.tab),["fpd-active"])}),h(this.subPanel.querySelectorAll(".fpd-toggle"),"click",e=>{var e=e.currentTarget,t={};f(e,["fpd-enabled"],!e.classList.contains("fpd-enabled")),t[e.dataset.control]=e.classList.contains("fpd-enabled")?e.dataset.enabled:e.dataset.disabled,["true","false"].includes(t[e.dataset.control])&&(t[e.dataset.control]="true"===t[e.dataset.control]),e.classList.contains("fpd-tool-uniscaling-locker")&&B(this,Aa,za).call(this,t[e.dataset.control]),a.currentViewInstance.fabricCanvas.setElementOptions(t)}),h(this.subPanel.querySelectorAll(".fpd-btn-options"),"click",e=>{e.preventDefault();var e=e.currentTarget,t=JSON.parse(e.dataset.options),n=Object.keys(t),i=a.currentElement?a.currentElement[e.dataset.control]:n[0],n=n.indexOf(i)==n.length-1?n[0]:n[n.indexOf(i)+1],i={};i[e.dataset.control]=n,e.querySelector("span").className=t[n],a.currentViewInstance.fabricCanvas.setElementOptions(i)}),h(this.subPanel.querySelectorAll(".fpd-btn-group [data-option]"),"click",e=>{e.preventDefault();var e=e.currentTarget,t=e.dataset.option,n=(p(Array.from(e.parentNode.children),["fpd-active"]),u(e,["fpd-active"]),{});n[e.parentNode.dataset.control]=t,a.currentViewInstance.fabricCanvas.setElementOptions(n)}),h(this.subPanel.querySelectorAll(".fpd-tools-group > [data-do]"),"click",e=>{var t=e.currentTarget.dataset.do;if("align-left"==t)a.currentElement.alignToPosition("left");else if("align-right"==t)a.currentElement.alignToPosition("right");else if("align-top"==t)a.currentElement.alignToPosition("top");else if("align-bottom"==t)a.currentElement.alignToPosition("bottom");else if("align-middle"==t)a.currentElement.centerElement(!1,!0);else if("align-center"==t)a.currentElement.centerElement(!0,!1);else if("layer-up"==t||"layer-down"==t){e=a.currentElement.getZIndex();a.currentViewInstance.fabricCanvas.setElementOptions({z:(e="layer-up"==t?e+1:e-1)<0?0:e})}else if("flip-x"==t||"flip-y"==t){const e={};"flip-x"==t?e.flipX=!a.currentElement.flipX:e.flipY=!a.currentElement.flipY,a.currentViewInstance.fabricCanvas.setElementOptions(e)}}),h(this.subPanel.querySelector('textarea[data-control="text"]'),"keyup",e=>{e.stopPropagation,e.preventDefault();var t=e.currentTarget.selectionStart,n=e.currentTarget.selectionEnd;a.currentViewInstance.fabricCanvas.setElementOptions({text:e.currentTarget.value}),e.currentTarget.selectionStart=t,e.currentTarget.selectionEnd=n}),h(this.subPanel.querySelectorAll(".fpd-curved-options > span"),"click",e=>{var e=e.currentTarget,t={};"normal"==e.dataset.value?t.curved=!1:(t.curved=!0,t.curveReverse="curveReverse"==e.dataset.value),a.currentViewInstance.fabricCanvas.setElementOptions(t),B(this,Sa,qa).call(this,t)}),h(this.navElem.querySelector(".fpd-tool-reset"),"click",e=>{var t=a.currentElement.originParams;delete t.clipPath,delete t.path,a.currentElement.boundingBox&&(a.currentElement.scaleX=1,t.boundingBox=a.currentElement.boundingBox),a.currentViewInstance.fabricCanvas.setElementOptions(t),a.deselectElement()}),h(this.navElem.querySelector(".fpd-tool-duplicate"),"click",e=>{a.currentViewInstance.fabricCanvas.duplicateElement(a.currentElement)}),h(this.navElem.querySelector(".fpd-tool-remove"),"click",e=>{a.currentViewInstance.fabricCanvas.removeElement(a.currentElement)}),h(this.subPanel.querySelector(".fpd-panel-color .fpd-remove-shadow"),"click",e=>{a.currentViewInstance.fabricCanvas.setElementOptions({shadowColor:null})}),h(Array.from(this.navElem.children),"click",e=>{const t=e.currentTarget;if(t.dataset.panel){p(Array.from(this.navElem.children),["fpd-active"]),u(t,["fpd-active"]);const e=Array.from(this.subPanel.children),n=e.filter(e=>e.classList.contains("fpd-panel-"+t.dataset.panel));p(e,["fpd-active"]),u(n,["fpd-active"]),"smart"==this.currentPlacement&&(u(this.container,["fpd-panel-visible"]),B(this,Ta,Za).call(this))}}),h(this.container.querySelector(".fpd-close"),"click",e=>{B(this,Da,Wa).call(this,!1),a.deselectElement()}),h(this.container.querySelector(".fpd-close-sub-panel"),"click",e=>{p(Array.from(this.subPanel.children),["fpd-active"]),p(this.container,["fpd-panel-visible"])})}}function La(e,t,n){n=Boolean(n);var i=this.subPanel.querySelector(".fpd-panel-"+e);return f(i.querySelectorAll(".fpd-tool-"+t),["fpd-hidden"],!n),e}function Fa(e,t,n){e=this.subPanel.querySelector(".fpd-panel-"+e);f(e.querySelectorAll('.fpd-panel-tabs [data-tab="'+t+'"]'),["fpd-disabled"],!n)}function Na(e,t){"png"!==e.isColorizable()&&e.changeColor(t)}function ja(e,t){this.navElem.querySelector(".fpd-current-fill").style.background=t,this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:t},e)}function Ha(e,t,n){t=e.changeObjectColor(t,n);this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:t},e)}function za(e){this.subPanel.querySelector(".fpd-tool-uniscaling-locker > span").className=e?"fpd-icon-locked":"fpd-icon-unlocked",f(this.subPanel.querySelector(".fpd-tool-scaleY"),["fpd-disabled"],e)}function qa(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.subPanel.querySelector(".fpd-curved-options");p(t.querySelectorAll("[data-value]"),["fpd-active"]),e.curved?e.curveReverse?u(t.querySelectorAll('[data-value="curveReverse"]'),["fpd-active"]):u(t.querySelectorAll('[data-value="curved"]'),["fpd-active"]):u(t.querySelectorAll('[data-value="normal"]'),["fpd-active"]),f(this.subPanel.querySelector(".fpd-tool-curved-text-radius"),["fpd-hidden"],!e.curved)}function Va(e){return e&&!e._ignore&&!e.uploadZone}function Ua(a){if(B(this,Pa,Ga).call(this),p(this.container,["fpd-type-image"]),a.hasColorSelection()){let e,t=J(a,this.fpdInstance);(e="group"===a.type&&1<a.getObjects().length?(n=Array.isArray(a.colors)&&1<a.colors.length,sn({colors:t,colorNames:this.fpdInstance.mainOptions.hexNames,palette:a.colors,subPalette:n,enablePicker:!!this.fpdInstance.mainOptions.editorMode||!n,onChange:(e,t)=>{B(this,Ia,Ha).call(this,a,t,e)},onMove:(e,t)=>{a.changeObjectColor(t,e)}})):rn(this.fpdInstance,{colors:t,patterns:Array.isArray(a.patterns)&&(a.isSVG()||"text"===a.getType())?a.patterns:null,onMove:e=>{B(this,xa,Na).call(this,a,e)},onChange:e=>{B(this,Ea,ja).call(this,a,e)},onPatternChange:e=>{this.navElem.querySelector(".fpd-current-fill").style.background=`url("${e}")`,this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({pattern:e},a)}}))&&P(this,ya).append(e);var n=this.subPanel.querySelector(".fpd-stroke-color-wrapper"),i=(n.innerHTML="",nn({initialColor:tinycolor(a.stroke).isValid()?a.stroke:"#000",colorNames:this.fpdInstance.mainOptions.hexNames,palette:this.fpdInstance.mainOptions.colorPickerPalette,onMove:e=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({stroke:e},a)},onChange:e=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({stroke:e},a)}})),n=(n.append(i),this.subPanel.querySelector(".fpd-shadow-color-wrapper")),i=(n.innerHTML="",nn({initialColor:tinycolor(a.shadowColor).isValid()?a.shadowColor:"#000000",colorNames:this.fpdInstance.mainOptions.hexNames,palette:this.fpdInstance.mainOptions.colorPickerPalette,onMove:e=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({shadowColor:e},a)},onChange:e=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({shadowColor:e},a)}}));n.append(i),P(this,L).call(this,"color"),B(this,Ca,Fa).call(this,"color","fill",!0)}(a.isSVG()||"text"===a.getType())&&a.patterns&&a.patterns.length&&(P(this,L).call(this,"color"),B(this,Ca,Fa).call(this,"color","fill",!0));n=Boolean(a.resizable&&"image"===a.getType()||a.uniScalingUnlockable||a.__editorMode);(n||a.rotatable)&&(P(this,L).call(this,"transform"),B(this,wa,La).call(this,"transform","scale",n),B(this,Aa,za).call(this,a.lockUniScaling),B(this,wa,La).call(this,"transform","uniscaling-locker",Boolean(a.uniScalingUnlockable||a.__editorMode)),B(this,wa,La).call(this,"transform","angle",Boolean(a.rotatable||a.__editorMode)),B(this,wa,La).call(this,"transform","flip",Boolean(n||a.__editorMode))),(a.draggable||a.zChangeable||a.__editorMode)&&(P(this,L).call(this,"position"),B(this,Ca,Fa).call(this,"position","arrange",Boolean(a.zChangeable||a.__editorMode)),B(this,Ca,Fa).call(this,"position","align",Boolean(a.draggable||a.__editorMode))),"text"===a.getType()&&(a.editable||a.__editorMode)?(P(this,L).call(this,"edit-text"),P(this,L).call(this,"text-size",a.resizable),P(this,L).call(this,"font-family"),P(this,L).call(this,"text-format"),B(this,Ca,Fa).call(this,"color","stroke",!0),B(this,Ca,Fa).call(this,"color","shadow",!0),a.curvable&&(P(this,L).call(this,"curved-text"),B(this,Sa,qa).call(this,a)),this.subPanel.querySelector('textarea[data-control="text"]').value=a.text,P(this,L).call(this,"edit-text",!a.textPlaceholder&&!a.numberPlaceholder)):u(this.container,["fpd-type-image"]),a.advancedEditing&&a.source&&(i=a.source,["jpeg","jpg","png"].includes(G(i)))&&P(this,L).call(this,"advanced-editing"),B(this,wa,La).call(this,"text-size","text-line-spacing",!a.curved),P(this,L).call(this,"reset"),P(this,L).call(this,"duplicate",a.copyable||a.__editorMode),P(this,L).call(this,"remove",a.removable||a.__editorMode),this.subPanel.querySelectorAll(".fpd-panel-tabs").forEach(e=>{var t=e.querySelectorAll("[data-tab]:not(.fpd-disabled)");f(e,["fpd-hidden"],t.length<=1),t.item(0)&&t.item(0).click()}),this.container.querySelectorAll("[data-control]").forEach(e=>{const t=e.dataset.control;if(e.classList.contains("fpd-number")){if(void 0!==a[t]){var n=e.step&&1<e.step.length?parseFloat(a[t]).toFixed(2):parseInt(a[t]);if(e.value=n,e.classList.contains("fpd-slider-number")){const i=e.previousElementSibling;"fontSize"==t?(i.setAttribute("min",a.minFontSize),i.setAttribute("max",a.maxFontSize)):"scaleX"!=t&&"scaleY"!=t||i.setAttribute("min",a.minScaleLimit),i.setAttribute("value",n)}}}else if(e.classList.contains("fpd-toggle"))f(e,["fpd-enabled"],a[t]===e.dataset.enabled);else if(e.classList.contains("fpd-btn-options")){const n=JSON.parse(e.dataset.options);e.querySelector("span").className=n[a[t]]}else if(e.classList.contains("fpd-btn-group")){p(Array.from(e.children),["fpd-active"]);const t=e.dataset.control;u(e.querySelector('[data-option="'+a[t]+'"]'),["fpd-active"])}else"fontFamily"==t&&void 0!==a[t]&&(p(this.subPanel.querySelectorAll(".fpd-fonts-list .fpd-item"),["fpd-active"]),u(this.subPanel.querySelector('.fpd-fonts-list .fpd-item[data-value="'+a[t]+'"]'),["fpd-active"]));const i=X(a);i&&(this.navElem.querySelector(".fpd-current-fill").style.background=i)}),"mainbar"==this.currentPlacement&&this.navElem.querySelector("[data-panel]:not(.fpd-hidden)").click(),B(this,Da,Wa).call(this),this.container.querySelectorAll(".fpd-scroll-area").forEach(e=>{e.scrollLeft=e.scrollTop=0})}function Za(){if("smart"===this.currentPlacement&&B(this,ka,Va).call(this,this.fpdInstance.currentElement)&&(B(this,Da,Wa).call(this,Boolean(this.fpdInstance.currentElement)),this.fpdInstance.currentElement)){var t=this.fpdInstance.currentElement,n=t.getBoundingRect(),n=n.top+n.height+t.controls.mtr.offsetY+t.cornerSize;let e=this.fpdInstance.productStage.getBoundingClientRect().top+n;e>window.innerHeight-this.container.clientHeight&&(e=window.innerHeight-this.container.clientHeight);n=t.oCoords,t=this.container.offsetWidth/2,n=this.fpdInstance.currentViewInstance.fabricCanvas.wrapperEl.getBoundingClientRect().left+n.mt.x;n=(n=n<t?t:n)>window.innerWidth-t?window.innerWidth-t:n,this.container.style.top=e+"px",this.container.style.left=n+"px"}}function Wa(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];f(this.container,["fpd-show"],e),f(document.body,["fpd-toolbar-visible"],e)}function Ra(){var e,t=this.fpdInstance.container.dataset.layout,n=(this.container.className="fpd-layout-"+t,this.fpdInstance.container.classList.contains("fpd-sidebar")||(this.fpdInstance.mainOptions.toolbarPlacement="smart"),"smart"==this.fpdInstance.mainOptions.toolbarPlacement||this.fpdInstance.container.classList.contains("fpd-layout-small")?("smart"!=this.currentPlacement&&("body"==this.fpdInstance.mainOptions.toolbarDynamicContext?document.body:document.querySelector(this.fpdInstance.mainOptions.toolbarDynamicContext)).appendChild(this.container),this.currentPlacement="smart",this.container.className+=" fpd-container fpd-smart"):("mainbar"!=this.currentPlacement&&this.fpdInstance.mainBar.container.appendChild(this.container),this.currentPlacement="mainbar",this.container.className+=" fpd-container fpd-sidebar"),this.navElem=this.container.querySelector(".fpd-tools-nav"),this.subPanel=this.container.querySelector(".fpd-sub-panel"),t=ya,e=this.subPanel.querySelector(".fpd-color-wrapper"),this),t=ba(this,t,"set");if(t.set)t.set.call(n,e);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=e}}function Ya(e,t){this.subPanel.querySelectorAll('[data-control="'+e+'"]').forEach(e=>{e.value=t,e.setAttribute("value",t)})}function Ga(){P(this,ya).innerHTML="",p(this.container,["fpd-panel-visible"]),u(Array.from(this.navElem.children),["fpd-hidden"]),p(Array.from(this.navElem.children),["fpd-active"]),p(Array.from(this.subPanel.children),["fpd-active"]),u(this.subPanel.querySelectorAll(".fpd-panel-tabs > span"),["fpd-disabled"]),p(this.subPanel.querySelectorAll(".fpd-panel-tabs > span"),["fpd-hidden"]),p(this.subPanel.querySelectorAll(".fpd-panel-tabs-content > *, .fpd-panel-tabs > *"),["fpd-active"])}class Ja{constructor(e){this.fpdInstance=e}start(){var e;this.fpdInstance.mainOptions.guidedTour&&Object.keys(this.fpdInstance.mainOptions.guidedTour).length&&(e=Object.keys(this.fpdInstance.mainOptions.guidedTour)[0],this.selectStep(e))}selectStep=a=>{const s=document.body.querySelector(".fpd-gt-step");s&&s.remove();let r=Object.keys(this.fpdInstance.mainOptions.guidedTour).indexOf(a),e=a.split(":"),o=null;if("module"===e[0]?o=this.fpdInstance.mainBar.container.querySelector('.fpd-navigation > [data-module="'+e[1]+'"]'):"action"===e[0]?o=document.body.querySelector('.fpd-btn[data-action="'+e[1]+'"]'):1===e.length&&(o=document.body.querySelector(e[0])),o)if(0===o.length)Object.keys(this.fpdInstance.mainOptions.guidedTour)[r+1]&&this.selectStep(Object.keys(this.fpdInstance.mainOptions.guidedTour)[r+1]);else{const s=document.createElement("div");s.className="fpd-container fpd-gt-step",s.innerHTML=`<div class="fpd-gt-pointer">
                <span class="fpd-icon-arrow-dropdown"></span>
            </div>
            <div class="fpd-gt-close">
                <span class="fpd-icon-close"></span>
            </div>
            <div class="fpd-gt-text">${this.fpdInstance.mainOptions.guidedTour[a]}</div>
            <div class="fpd-gt-actions">
                <div class="fpd-gt-next fpd-btn fpd-primary">${this.fpdInstance.translator.getTranslation("misc","guided_tour_next","Next")}</div>
                <div class="fpd-gt-back fpd-btn fpd-primary">${this.fpdInstance.translator.getTranslation("misc","guided_tour_back","Back")}</div>
                <span class="fpd-gt-counter">${String(r+1)+"/"+Object.keys(this.fpdInstance.mainOptions.guidedTour).length}</span>
            </div>`,document.body.append(s);let e=o.getBoundingClientRect(),t=.5*e.width,n=e.left+t,i=e.top+e.height;n<24&&(n=24),s.style.left=n+"px",s.style.top=i+"px";a=s.getBoundingClientRect();a.width+a.left>window.innerWidth&&(t=window.innerWidth-(a.width+n),s.style.left=n+t+"px",s.querySelector(".fpd-gt-pointer").style.marginLeft=Math.abs(t)+"px");const l=s.querySelector(".fpd-gt-back"),c=Object.keys(this.fpdInstance.mainOptions.guidedTour)[r-1],d=(c?h(l,"click",e=>{this.selectStep(c)}):u(l,["fpd-hidden"]),s.querySelector(".fpd-gt-next")),p=Object.keys(this.fpdInstance.mainOptions.guidedTour)[r+1];p?h(d,"click",e=>{this.selectStep(p)}):u(d,["fpd-hidden"]),h(s.querySelector(".fpd-gt-close"),"click",e=>{g()&&window.localStorage.setItem("fpd-gt-closed","yes"),s.remove()})}}}function Xa(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(e)}function Qa(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}var Ka=new WeakSet,_a=new WeakSet;class $a extends EventTarget{constructor(e){if(super(),Xa(this,_a),Xa(this,Ka),n=this,a=!1,t=i="enabled",(i=String(t))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,this.fpdInstance=e,this.variations=e.mainOptions.bulkVariations,e.mainOptions.bulkVariationsPlacement&&"object"==typeof this.variations&&(this.container=document.querySelector(e.mainOptions.bulkVariationsPlacement),this.container)){this.enabled=!0;const n=document.createElement("div"),i=(n.className="fpd-head",this.container.append(n),document.createElement("div")),a=(i.className="fpd-headline",i.innerText=e.translator.getTranslation("misc","bulk_add_variations_title","Bulk Order"),n.append(i),document.createElement("span"));a.className="fpd-btn",a.innerText=e.translator.getTranslation("misc","bulk_add_variations_add","Add"),n.append(a),h(a,"click",e=>{Qa(this,Ka,es).call(this)}),this.listElem=document.createElement("div"),this.listElem.className="fpd-variations-list",this.container.append(this.listElem),u(this.container,["fpd-bulk-variations","fpd-container"]),Qa(this,Ka,es).call(this),h(e,"getOrder",()=>{e._order.bulkVariations=this.getOrderVariations()})}var t,n,i,a}getOrderVariations(){if(!this.listElem)return!1;let n=[];return this.listElem.querySelectorAll(".fpd-row").forEach(e=>{var t={};e.querySelectorAll("select").forEach(e=>{m(e.value)&&(n=!1,u(e,["fpd-error"])),t[e.name]=e.value}),!1!==n?n.push({variation:t,quantity:parseInt(e.querySelector(".fpd-quantity").value)}):c(this.fpdInstance.translator.getTranslation("misc","bulk_add_variations_term"))}),n}setup(e){Array.isArray(e)&&(this.listElem.innerHTML="",e.forEach(e=>{Qa(this,Ka,es).call(this,e)})),Qa(this,_a,ts).call(this)}}function es(){let n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};const t=document.createElement("div"),i=(t.className="fpd-row",this.listElem.append(t),n.variation||{});for(const n in this.variations){const a=document.createElement("select");a.name=n,a.innerHTML=`<option value='' disabled selected>${n}</option>`,t.append(a),this.variations[n].forEach(e=>{var t=document.createElement("option");t.value=e,t.innerText=e,i[n]==e&&(t.selected=!0),a.append(t)}),h(a,["change"],e=>{p(a,["fpd-error"])})}const a=document.createElement("input");a.className="fpd-quantity",a.type="number",a.min=1,a.step=1,a.value=n.quantity||1,t.append(a),h(a,"change",e=>{a.value<Number(a.min)&&(a.value=Number(a.min)),""==a.inputElem&&(a.value=1),Qa(this,_a,ts).call(this)});var e=document.createElement("span");e.className="fpd-icon-close",t.append(e),h(e,"click",e=>{t.remove(),Qa(this,_a,ts).call(this)}),Qa(this,_a,ts).call(this)}function ts(){let t=0;this.listElem.querySelectorAll(".fpd-quantity").forEach(e=>{t+=parseInt(e.value)}),this.fpdInstance.setOrderQuantity(parseInt(t))}function ns(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");t.add(e)}function is(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}var as=new WeakSet,ss=new WeakSet,rs=new WeakSet,os=new WeakSet,ls=new WeakSet;class cs extends EventTarget{constructor(e){super(),ns(this,ls),ns(this,os),ns(this,rs),ns(this,ss),ns(this,as),this.fpdInstance=e,m(e.mainOptions.colorSelectionPlacement)||(this.container=document.querySelector(e.mainOptions.colorSelectionPlacement),this.container&&(u(this.container,["fpd-color-selection","fpd-container"]),h(e,"productCreate",is(this,as,ds).bind(this)))),h(e,"elementRemove",e=>{var t=e.detail["element"];if(t&&t.showInColorSelection){const e=this.container.querySelector('.fpd-cs-item[data-id="'+t.id+'"]');e&&e.remove()}})}}function ds(){this.container.innerHTML="";var e=this.fpdInstance.getElements(0).filter(e=>e.showInColorSelection);f(this.container,["fpd-hidden"],0==e.length),e.forEach(e=>{is(this,ss,ps).call(this,e)})}function ps(n){if(n.hasColorSelection()){var i,a=document.createElement("div");a.className="fpd-cs-item",a.dataset.id=n.id,a.innerHTML=`<div class="fpd-title">${n.title}</div>`,this.container.append(a);let e,t=J(n,this.fpdInstance);(e="group"===n.type&&1<n.getObjects().length?(i=Array.isArray(n.colors)&&1<n.colors.length,sn({colors:t,colorNames:this.fpdInstance.mainOptions.hexNames,palette:n.colors,subPalette:i,enablePicker:!i,onChange:(e,t)=>{is(this,rs,hs).call(this,n,t,e)},onMove:(e,t)=>{n.changeObjectColor(t,e)}})):rn(this.fpdInstance,{colors:t,patterns:Array.isArray(n.patterns)&&(n.isSVG()||"text"===n.getType())?n.patterns:null,onMove:e=>{is(this,os,us).call(this,n,e)},onChange:e=>{is(this,ls,fs).call(this,n,e)},onPatternChange:e=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({pattern:e},n)}}))&&a.append(e)}}function hs(e,t,n){t=e.changeObjectColor(t,n);this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:t},e)}function us(e,t){"png"!==e.isColorizable()&&e.changeColor(t)}function fs(e,t){this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:t},e)}var ms=new WeakSet;class gs{constructor(e){var t=this,n=ms;if(n.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object");n.add(this),(this.fpdInstance=e).mainOptions.viewThumbnailsWrapper&&(this.container=document.querySelector(e.mainOptions.viewThumbnailsWrapper),this.container)&&(u(this.container,["fpd-view-thumbnails-wrapper"]),h(this.fpdInstance,["viewCreate","viewRemove","viewMove"],function(e,t){if(ms.has(e))return t;throw new TypeError("attempted to get private field on non-instance")}(this,vs).bind(this)))}}function vs(e){this.container.innerHTML="",this.fpdInstance.viewInstances.forEach((e,t)=>{var n=document.createElement("div");n.className="fpd-item fpd-tooltip fpd-shadow-1",n.setAttribute("aria-label",e.title),n.style.backgroundImage=`url("${e.thumbnail}")`,this.container.append(n),h(n,"click",()=>{this.fpdInstance.selectView(t)})})}function bs(e,t){ys(e,t),t.add(e)}function ys(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ws(e,t){return(t=Cs(e=e,t,"get")).get?t.get.call(e):t.value}function Cs(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}function xs(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}var Es=new WeakMap,Is=new WeakSet,As=new WeakSet,Ss=new WeakSet;class ks extends EventTarget{constructor(e){var t,n,i;super(),bs(this,Ss),bs(this,As),bs(this,Is),n={writable:!0,value:0},ys(this,t=Es),t.set(this,n),t=this,i=n="currentLayout",(n=String(i))in t?Object.defineProperty(t,n,{value:"",enumerable:!0,configurable:!0,writable:!0}):t[n]="",this.fpdInstance=e}init(){if(this.fpdInstance.mainOptions.modalMode){this.fpdInstance.mainOptions.maxCanvasHeight=.75,this.fpdInstance.mainOptions.canvasHeight="auto";let t=this.fpdInstance.mainOptions.fabricCanvasOptions.allowTouchScrolling=!1;u(document.body,["fpd-modal-mode-active"]),p(this.fpdInstance.container,["fpd-off-canvas","fpd-topbar"]),u(this.fpdInstance.container,["fpd-sidebar"]);const n=document.createElement("div");n.className="fpd-modal-product-designer fpd-modal-overlay fpd-fullscreen",document.body.append(n),this.fpdInstance.modalWrapper=n;var e=document.createElement("div"),e=(e.className="fpd-modal-inner",e.append(this.fpdInstance.container),n.append(e),document.querySelector(this.fpdInstance.mainOptions.modalMode));h(e,"click",e=>{e.preventDefault(),u(document.body,["fpd-overflow-hidden","fpd-modal-designer-visible"]),u(n,["fpd-show"]),this.fpdInstance.selectView(0),this.fpdInstance.currentViewInstance&&(this.fpdInstance.currentViewInstance.fabricCanvas.resetZoom(),t||this.fpdInstance.doAutoSelect()),t=!0,this.fpdInstance.dispatchEvent(new CustomEvent("modalDesignerOpen"))}),h(this.fpdInstance,"modalDesignerClose",()=>{p(document.body,["fpd-overflow-hidden","fpd-modal-designer-visible"])}),h(this.fpdInstance,"priceChange",()=>{n.querySelector("fpd-actions-bar .fpd-total-price").innerHTML=this.fpdInstance.formatPrice(this.fpdInstance.currentPrice)})}this.fpdInstance.container.classList.add("fpd-container"),this.fpdInstance.container.classList.add("fpd-wrapper");e=document.createElement("div");e.innerHTML='<div class="fpd-loader-wrapper"> <div class="fpd-loader"> <div class="fpd-loader-circle"></div> <span class="fpd-loader-text" data-defaulttext="Initializing Product Designer">misc.initializing</span> </div> </div>',this.fpdInstance.container.appendChild(e.firstChild.cloneNode(!0)),this.fpdInstance.mainLoader=this.fpdInstance.container.querySelector(".fpd-loader-wrapper"),this.fpdInstance.actionsBar=new Xi(this.fpdInstance),this.fpdInstance.mainBar=new ji(this.fpdInstance),this.fpdInstance.mainWrapper=new Ri(this.fpdInstance),this.fpdInstance.productStage=this.fpdInstance.mainWrapper.container.querySelector(".fpd-product-stage"),this.fpdInstance.viewsNav=new ea(this.fpdInstance),this.fpdInstance.viewsGrid=new ca(this.fpdInstance),this.fpdInstance.bulkVariations=new $a(this.fpdInstance),new cs(this.fpdInstance),this.fpdInstance.viewThumbnails=new gs(this.fpdInstance),this.fpdInstance.guidedTour=new Ja(this.fpdInstance),this.fpdInstance.translator.translateArea(this.fpdInstance.container),this.dispatchEvent(new CustomEvent("ready")),window.addEventListener("resize",xs(this,Is,Os).bind(this)),xs(this,Is,Os).call(this),xs(this,As,Ts).call(this),xs(this,Ss,Ds).call(this)}updateToolbarWrapper(){var e=document.querySelector("fpd-element-toolbar");e&&e.remove(),this.fpdInstance.toolbar=new Ba(this.fpdInstance),this.fpdInstance.translator.translateArea(this.fpdInstance.toolbar.container)}}function Os(){var e=this.fpdInstance.mainOptions.responsiveBreakpoints;let t;var n=window.innerWidth,i=this,a=Cs(this,Es,"set");if(a.set)a.set.call(i,n);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=n}t=ws(this,Es)<e.small?(this.fpdInstance.container.classList.remove("fpd-layout-medium"),this.fpdInstance.container.classList.remove("fpd-layout-large"),this.fpdInstance.container.classList.add("fpd-layout-small"),"small"):ws(this,Es)<e.medium?(this.fpdInstance.container.classList.remove("fpd-layout-small"),this.fpdInstance.container.classList.remove("fpd-layout-large"),this.fpdInstance.container.classList.add("fpd-layout-medium"),"medium"):(this.fpdInstance.container.classList.remove("fpd-layout-medium"),this.fpdInstance.container.classList.remove("fpd-layout-small"),this.fpdInstance.container.classList.add("fpd-layout-large"),"large"),(this.fpdInstance.container.dataset.layout=t)!=this.currentLayout&&(this.currentLayout=t,this.updateToolbarWrapper(),this.fpdInstance.dispatchEvent(new CustomEvent("uiLayoutChange",{detail:{layout:t}})))}function Ts(){var e=document.body;let n;(n=document.createElement("div")).className="fpd-thumbnail-preview fpd-shadow-1 fpd-hidden",n.innerHTML="<picture></picture>";const i=document.createElement("div");i.className="fpd-preview-title",n.append(i),e.append(n),h(e,["mouseover","mouseout","mousemove","click"],e=>{if(this.fpdInstance.draggedPlaceholder)n.classList.add("fpd-hidden");else{var t=e.target;if(t.classList.contains("fpd-hover-thumbnail")&&n.classList.contains("fpd-hidden")&&"mouseover"===e.type&&t.dataset.source){n.querySelector(".fpd-price")&&n.querySelector(".fpd-price").remove(),n.querySelector(".fpd-image-quality-ratings")&&n.querySelector(".fpd-image-quality-ratings").remove(),n.querySelector("picture").style.backgroundImage=`url("${t.dataset.source}")`,t.dataset.title&&(i.innerText=t.dataset.title),f(i,["fpd-hidden"],!t.dataset.title),f(n,["fpd-title-enabled"],t.dataset.title);const e=t.querySelector(".fpd-price");e&&n.append(e.cloneNode(!0));t=t.querySelector(".fpd-image-quality-ratings");if(t){const e=t.cloneNode(!0),i=document.createElement("span");i.className="fpd-image-quality-rating-label",i.innerText=t.dataset.qualityLabel,e.prepend(i),n.append(e)}n.classList.remove("fpd-hidden")}if(n.classList.contains("fpd-hidden")||"mousemove"!==e.type&&"mouseover"!==e.type)"mouseout"!==e.type&&"click"!=e.type||n.classList.add("fpd-hidden");else{const i=e.pageX+10+n.offsetWidth>window.innerWidth?window.innerWidth-n.offsetWidth:e.pageX+10;n.style.left=i+"px",n.style.top=e.pageY+10+"px"}}})}function Ds(){const e=document.body,o=document.createElement("div");o.className="fpd-main-tooltip",e.append(o),this.fpdInstance.mainTooltip=o,e.addEventListener("mouseover",n=>{var i=n.target;if(i.classList.contains("fpd-tooltip")){const n=i.getAttribute("aria-label");o.innerHTML=n;var{x:i,y:a,width:s,height:r}=i.getBoundingClientRect();let e=Math.floor(a-o.clientHeight-5),t=Math.floor(i+s/2-o.clientWidth/2);e<0&&(e=Math.floor(a+r+5)),t<0?t=0:t>window.outerWidth-o.clientWidth&&(t=window.outerWidth-o.clientWidth-5),o.style.left=t+"px",o.style.top=e+"px",o.classList.add("fpd-show")}else o.classList.remove("fpd-show")}),e.addEventListener("touchstart",e=>{o.classList.remove("fpd-show")})}class Ms{constructor(n){const t=document.querySelector(n.mainOptions.editorMode);t&&(u(t,["fpd-editor-box-wrapper","fpd-container"]),this.titleElem=document.createElement("div"),this.titleElem.className="fpd-eb-title",t.append(this.titleElem),this.gridElem=document.createElement("div"),this.gridElem.className="fpd-eb-grid",t.append(this.gridElem),n.mainOptions.editorBoxParameters.forEach(e=>{var t=document.createElement("div");t.innerHTML="<span>"+e+'</span><input type="text" readonly data-prop="'+e+'" />',this.gridElem.append(t)})),h(n,["elementSelect","elementChange"],e=>{t&&(n.currentElement?(this.titleElem.innerText=n.currentElement.title,n.mainOptions.editorBoxParameters.forEach(e=>{let t=n.currentElement[e];void 0!==t&&(t="object"==typeof(t="number"==typeof t?t.toFixed(2):t)&&t.source?t.source.src:t,"fill"===e&&"group"===n.currentElement.type&&(t=n.currentElement.svgFill),e=this.gridElem.querySelector('input[data-prop="'+e+'"]'))&&(e.value=t)})):this.titleElem.innerText="",f(this.gridElem,["fpd-hidden"],!n.currentElement))})}}function t(e,t){Bs(e,t),t.add(e)}function Ps(e,t,n){Bs(e,t),t.set(e,n)}function Bs(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function N(e,t,n){var i;i=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==typeof i?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function Ls(e,t){return(t=Ns(e=e,t,"get")).get?t.get.call(e):t.value}function Fs(e,t,n){var i=e,e=Ns(e,t,"set"),t=n;if(e.set)e.set.call(i,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}return n}function Ns(e,t,n){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+n+" private field on non-instance")}function j(e,t,n){if(t.has(e))return n;throw new TypeError("attempted to get private field on non-instance")}var js=new WeakMap,Hs=new WeakMap,zs=new WeakSet,qs=new WeakSet,Vs=new WeakSet,Us=new WeakSet,Zs=new WeakSet,Ws=new WeakSet,Rs=new WeakSet,Ys=new WeakSet,Gs=new WeakSet,Js=new WeakSet;class Xs extends EventTarget{constructor(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(super(),t(this,Js),t(this,Gs),t(this,Ys),t(this,Rs),t(this,Ws),t(this,Zs),t(this,Us),t(this,Vs),t(this,qs),t(this,zs),N(this,"container",null),N(this,"mainOptions",{}),N(this,"currentViewInstance",null),N(this,"currentViewIndex",0),N(this,"products",[]),N(this,"designs",[]),N(this,"modalContainer",document.body),N(this,"currentCategoryIndex",0),N(this,"currentProductIndex",0),N(this,"viewInstances",[]),N(this,"productViews",null),N(this,"currentElement",null),N(this,"productCreated",!1),N(this,"colorLinkGroups",{}),N(this,"globalCustomElements",[]),N(this,"doUnsavedAlert",!1),N(this,"currentPrice",0),N(this,"singleProductPrice",0),N(this,"pricingRulesPrice",0),N(this,"watermarkImg",null),N(this,"currentLayouts",[]),N(this,"orderQuantity",1),N(this,"bulkVariations",null),N(this,"loadingCustomImage",!1),N(this,"lazyBackgroundObserver",null),N(this,"draggedPlaceholder",null),N(this,"mouseOverCanvas",!1),N(this,"firstProductCreated",!1),Ps(this,js,{writable:!0,value:0}),Ps(this,Hs,{writable:!0,value:0}),N(this,"inTextField",!1),N(this,"_order",{}),e){this.lazyBackgroundObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(function(e,t){var n,t=1<arguments.length&&void 0!==t?t:null;e&&(e.classList.add("fpd-on-loading"),(n=new Image).src=t||e.dataset.img,n.onload=function(){e.dataset.originwidth=this.width,e.dataset.originheight=this.height,e.classList.remove("fpd-on-loading"),e.style.backgroundImage='url("'+this.src+'")'},n.onerror=function(){e.parentNode.remove()})}(e.target),this.lazyBackgroundObserver.unobserve(e.target))})}),this.container=e,(this.container.instance=this).mainOptions=K.merge(K.defaults,n);let t={};Object.keys(this.mainOptions.hexNames).forEach(e=>{t[e.toLowerCase()]=this.mainOptions.hexNames[e]}),this.mainOptions.hexNames=t,(e.classList.contains("fpd-off-canvas")||e.classList.contains("fpd-topbar"))&&(this.mainOptions.toolbarPlacement="smart"),Array.isArray(this.mainOptions.pricingRules)&&this.mainOptions.pricingRules.length&&(this.pricingRulesInstance=new re(this)),this.translator=new ye,this.translator.loadLangJSON(this.mainOptions.langJSON,j(this,zs,Qs).bind(this))}else console.log("No DOM element found for FPD.")}setupProducts(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.products=[],e.forEach(t=>{t.hasOwnProperty("category")?t.products.forEach(e=>{this.addProduct(e,t.category)}):this.addProduct(t)}),this.mainOptions.loadFirstProductInStage&&0<e.length?this.selectProduct(0):this.toggleSpinner(!1),s(this,"productsSet",{})}setupDesigns(e){this.designs=e,s(this,"designsSet",{})}addProduct(e,t){var n=j(this,Us,$s).call(this,t);(void 0===t?this:(!1===n&&(n=this.products.length,this.products[n]={category:t,products:[]}),this.products[n])).products.push(e),s(this,"productAdd",{views:e,category:t,catIndex:n})}selectProduct(e,t){this.currentCategoryIndex=void 0===t?this.currentCategoryIndex:t,t=(this.products&&this.products.length&&this.products[0].category?this.products[this.currentCategoryIndex]:this).products,(this.currentProductIndex=e)<0?this.currentProductIndex=0:e>t.length-1&&(this.currentProductIndex=t.length-1);e=t[this.currentProductIndex];this.loadProduct(e,this.mainOptions.replaceInitialElements)}loadProduct(e){let t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];e&&(s(this,"productSelect",{product:e}),this.toggleSpinner(!0),this.productCreated=!1,this.colorLinkGroups={},this.globalCustomElements=[],t?this.globalCustomElements=this.getCustomElements():this.doUnsavedAlert=!1,this.fixedElements=this.getFixedElements(),this.reset(),e.forEach((t,e)=>{i&&(t.options=K.merge(this.mainOptions,t.options));const n={};z(t.options)&&ge.relevantOptions.forEach(e=>{void 0!==t.options[e]&&(n[e]=t.options[e])}),t.options=n}),this.productViews=e,Fs(this,js,Fs(this,Hs,0)),e.forEach((e,t)=>{Fs(this,js,Ls(this,js)+e.elements.length)}),h(this,"viewCreate",j(this,Zs,er)),e)&&this.addView(e[0])}addView(e){let n={},i=(ge.relevantOptions.forEach(e=>{var t=this.mainOptions[e];n[e]=z(t)?{...t}:t}),e.options=z(e.options)?d(n,e.options):n,new ge(this.productStage,e,j(this,Ys,ir).bind(this),this.mainOptions.fabricCanvasOptions));i.fabricCanvas.on({"mouse:move":e=>{this.mouseOverCanvas=!e.target||e.target},"mouse:out":e=>{this.mouseOverCanvas=!1},beforeElementAdd:e=>{var t;this.mainBar&&this.uiManager&&"small"==this.uiManager.currentLayout&&this.mainBar.toggleContentDisplay(!1),this.productCreated||(Fs(this,Hs,(t=Ls(this,Hs),++t)),t=e.title+"<br>"+String(Ls(this,Hs))+"/"+Ls(this,js),this.mainLoader.querySelector(".fpd-loader-text").innerHTML=t),s(this,"beforeElementAdd",{element:e})},elementAdd:e=>{let n=e["element"];if(n){if(this.productCreated&&"image"==n.getType()&&n.isCustom&&this.toggleSpinner(!1),n.replace&&n.replaceInAllViews&&this.viewInstances.forEach((e,t)=>{this.currentViewIndex!=t&&e.fabricCanvas.getElementByReplace(n.replace)&&!n._replaceAdded&&e.fabricCanvas.addElement(n.getType(),n.source,n.title,{...n.originParams,_replaceAdded:!0})}),n.colorLinkGroup&&0<n.colorLinkGroup.length&&!this.mainOptions.editorMode){e=this.getViewIndexByWrapper(i.fabricCanvas.wrapperEl);if(this.colorLinkGroups.hasOwnProperty(n.colorLinkGroup))if(this.colorLinkGroups[n.colorLinkGroup].elements.push({id:n.id,viewIndex:e}),"object"==typeof n.colors){const e=this.mainOptions.replaceColorsInColorGroup?n.colors:this.colorLinkGroups[n.colorLinkGroup].colors.concat(n.colors);this.colorLinkGroups[n.colorLinkGroup].colors=Z(e)}else 1!==n.colors&&!0!==n.colors||(this.colorLinkGroups[n.colorLinkGroup].colors=["#000"]);else this.colorLinkGroups[n.colorLinkGroup]={elements:[{id:n.id,viewIndex:e}],colors:[]},"object"==typeof n.colors?this.colorLinkGroups[n.colorLinkGroup].colors=n.colors:1!==n.colors&&!0!==n.colors||(this.colorLinkGroups[n.colorLinkGroup].colors=["#000"])}this.productCreated&&this.mainOptions.hideDialogOnAdd&&this.mainBar&&this.mainBar.toggleContentDisplay(!1),s(this,"elementAdd",{element:n}),s(this,"viewCanvasUpdate",{viewInstance:i})}else this.toggleSpinner(!1)},elementRemove:e=>{let t=e["element"];e=this.fixedElements.findIndex(e=>e.element.title==t.title);-1!=e&&this.fixedElements.splice(e,1),s(this,"elementRemove",{element:t}),s(this,"viewCanvasUpdate",{viewInstance:i})},elementSelect:e=>{let t=e["element"];if(this.currentElement=t,j(this,Gs,ar).call(this),t&&!t._ignore&&this.currentViewInstance){if(t.uploadZone&&!this.mainOptions.editorMode){let e=d(this.currentViewInstance.options.customAdds,t.customAdds||{});return void setTimeout(()=>{this.currentViewInstance.currentUploadZone=t.title,this.mainBar.toggleUploadZonePanel(!0,e)},100)}this.currentViewInstance.currentUploadZone&&this.mainBar.toggleUploadZonePanel(!1)}s(this,"elementSelect",{}),this.mainOptions.openTextInputOnSelect&&t&&"text"===t.getType()&&t.editable&&this.toolbar&&this.toolbar.container.querySelector(".fpd-tool-edit-text").click()},elementCheckContainemt:e=>{e=e.boundingBoxMode;"inside"===e&&j(this,Gs,ar).call(this)},elementFillChange:e=>{let{element:t,colorLinking:n}=e;if(this.productCreated&&n&&t.colorLinkGroup&&0<t.colorLinkGroup.length){const e=this.colorLinkGroups[t.colorLinkGroup];e&&e.elements&&e.elements.forEach(e=>{t.id,e.id&&(e=this.viewInstances[e.viewIndex].fabricCanvas.getElementByID(e.id))&&e.changeColor(t.fill,!1)})}s(this,"elementFillChange",{element:t,colorLinking:n}),s(this,"viewCanvasUpdate",{viewInstance:i})},elementChange:e=>{var{element:e,type:t}=e;j(this,Gs,ar).call(this),s(this,"elementChange",{type:t,element:e})},elementModify:e=>{var{element:e,options:t}=e;this.applyTextLinkGroup(e,t),s(this,"elementModify",{options:t,element:e}),s(this,"viewCanvasUpdate",{viewInstance:i})},"text:changed":e=>{e=e.target;this.applyTextLinkGroup(e,{text:e.text})},"history:append":()=>{j(this,Ws,tr).call(this,"append")},"history:clear":()=>{j(this,Ws,tr).call(this,"clear")},"history:undo":()=>{j(this,Ws,tr).call(this,"undo")},"history:redo":()=>{j(this,Ws,tr).call(this,"redo")}}),h(i,"priceChange",e=>{this.calculatePrice()}),i.init()}doAutoSelect(){let t=null;this.currentViewInstance.fabricCanvas.getObjects().forEach(e=>{e.autoSelect&&!e.hasUploadZone&&(t=e)}),t&&setTimeout(()=>{this.currentViewInstance.fabricCanvas.setActiveObject(t).renderAll()},500)}applyTextLinkGroup(n){let i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(n&&!m(n.textLinkGroup)){const a=this.mainOptions.textLinkGroupProps||[];this.viewInstances.forEach(e=>{e.fabricCanvas.getObjects().forEach(t=>{t!==n&&"text"===t.getType()&&t.textLinkGroup===n.textLinkGroup&&(i.text&&(t.set("text",n.text),s(this,"textLinkApply",{element:t,options:{text:n.text}})),Object.keys(i).filter(e=>a.includes(e)).forEach(e=>{t.set(e,n[e]),s(this,"textLinkApply",{element:t,options:{[e]:n[e]}})}),e.fabricCanvas.renderAll())})})}}getViewIndexByWrapper(e){return Array.from(this.productStage.querySelectorAll(".fpd-view-stage")).indexOf(e)}toggleSpinner(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return!!this.mainLoader&&(this.mainLoader.querySelector(".fpd-loader-text").innerText=t,this.mainLoader.classList.toggle("fpd-hidden",!e),this.mainLoader)}selectView(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.viewInstances.length<=0||(this.currentViewInstance&&this.currentViewInstance.fabricCanvas&&this.currentViewInstance.fabricCanvas.resetZoom(),(this.currentViewIndex=e)<0?this.currentViewIndex=0:e>this.viewInstances.length-1&&(this.currentViewIndex=this.viewInstances.length-1),this.currentViewInstance&&this.currentViewInstance.fabricCanvas&&this.currentViewInstance.fabricCanvas.clearHistory(),this.currentViewInstance=this.viewInstances[this.currentViewIndex],this.deselectElement(),e=this.productStage.querySelectorAll(".fpd-view-stage"),u(e,["fpd-hidden"]),p(e.item(this.currentViewIndex),["fpd-hidden"]),f(document.body.querySelectorAll('.fpd-btn[data-action="previous-view"], .fpd-btn[data-action="next-view"], fpd-views-nav'),["fpd-hidden"],this.viewInstances.length<=1),f(document.body.querySelectorAll('.fpd-btn[data-action="previous-view"], .fpd-view-prev'),["fpd-disabled"],0==this.currentViewIndex),f(document.body.querySelectorAll('.fpd-btn[data-action="next-view"], .fpd-view-next'),["fpd-disabled"],this.currentViewIndex===this.viewInstances.length-1),j(this,Rs,nr).call(this),this.currentViewInstance.fabricCanvas.snapToGrid=!1,this.currentViewInstance.fabricCanvas.enableRuler=!1,this.currentViewInstance.fabricCanvas.resetSize(),s(this,"viewSelect"))}getElements(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"all",n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];e=void 0===e||isNaN(e)?-1:e,n&&this.deselectElement();let i=[];if(-1===e)for(var a=0;a<this.viewInstances.length;++a)i=i.concat(this.viewInstances[a].fabricCanvas.getElements(t,n));else{if(!this.viewInstances[e])return[];i=this.viewInstances[e].fabricCanvas.getElements(t,n)}return i}getCustomElements(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"all",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=[];return this.getElements(t,e,n).forEach(e=>{var t;e.isCustom&&(t=this.getViewIndexByWrapper(e.canvas.wrapperEl),i.push({element:e,viewIndex:t}))}),i}getFixedElements(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"all",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=[];return this.getElements(t,e,n).forEach(e=>{var t;e.fixed&&(t=this.getViewIndexByWrapper(e.canvas.wrapperEl),i.push({element:e,viewIndex:t}))}),i}reset(){null!==this.productViews&&(this.removeEventListener("viewCreate",j(this,Zs,er)),this.deselectElement(),this.currentViewInstance&&this.currentViewInstance.fabricCanvas.resetZoom(),this.currentViewIndex=this.currentPrice=this.singleProductPrice=this.pricingRulesPrice=0,this.currentViewInstance=this.productViews=this.currentElement=null,this.viewInstances.forEach(e=>{e.fabricCanvas.dispose()}),this.productStage.innerHTML="",this.viewInstances=[],s(this,"clear"),s(this,"priceChange"))}deselectElement(){this.currentViewInstance&&this.currentViewInstance.fabricCanvas&&(this.currentViewInstance.fabricCanvas.deselectElement(),this.currentElement=null)}addCustomImage(i,a){let s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0;r=void 0===r?this.currentViewIndex:r;const o=new Image;o.crossOrigin="anonymous",o.src=i,this.toggleSpinner(!0,this.translator.getTranslation("misc","loading_image")),u(this.viewsNav.container,["fpd-disabled"]),o.onload=()=>{this.loadingCustomImage=!1;var e=o.height,t=o.width,n=this.currentViewInstance.options.customImageParameters;if(!Y(this,t,e))return this.toggleSpinner(!1),!1;t={isCustom:!0},o.src.includes(".svg")&&!n.colors&&(t.colors=!0),e=d(n,t),e=d(e,s);this.viewInstances[r].fabricCanvas.addElement("image",i,a,e,r),p(this.viewsNav.container,["fpd-disabled"])},o.onerror=()=>{p(this.viewsNav.container,["fpd-disabled"]),c("Image could not be loaded!")}}_addGridItemToCanvas(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];this.currentViewInstance&&(n=void 0===n?this.currentViewIndex:n,t=d({_addToUZ:this.currentViewInstance.currentUploadZone},t),this.productCreated&&this.mainOptions.hideDialogOnAdd&&this.mainBar&&this.mainBar.toggleContentDisplay(!1),this._addCanvasImage(e.dataset.source,e.dataset.title,t,n,i))}_addCanvasImage(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length?arguments[3]:void 0,a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];this.currentViewInstance&&(i=void 0===i?this.currentViewIndex:i,Xs.uploadsToServer&&a?this._downloadRemoteImage(e,t,n):(this.loadingCustomImage=!0,this.addCustomImage(e,t,n,i)))}_downloadRemoteImage(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(this.mainOptions.fileServerURL){this.loadingCustomImage=!0,this.toggleSpinner(!0,this.translator.getTranslation("misc","loading_image")),u(this.viewsNav.container,["fpd-disabled"]);var i,a=new FormData;a.append("url",e);const s=e=>{p(this.viewsNav.container,["fpd-disabled"]),this.toggleSpinner(!1),c(e)};i={url:this.mainOptions.fileServerURL,body:a,onSuccess:e=>{e&&e.image_src?this.addCustomImage(e.image_src,e.filename||t,n):s(e.error)},onError:s},e=i.url,a={Accept:"application/json"},!i.body instanceof FormData&&(a["Content-Type"]="application/json"),fetch(e,{method:"POST",redirect:"follow",headers:a,body:i.body instanceof FormData?i.body:JSON.stringify(i.body)}).then(e=>e.json()).then(e=>{i.onSuccess&&i.onSuccess(e)}).catch(e=>{i.onError&&i.onError(e)})}else alert("You need to set the fileServerURL in the option, otherwise file uploading does not work!")}addCanvasDesign(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length?arguments[3]:void 0;this.currentViewInstance&&(this.toggleSpinner(!0,this.translator.getTranslation("misc","loading_image")),(n=d(this.currentViewInstance.options.customImageParameters,n)).isCustom=!0,this.currentViewInstance.currentUploadZone&&(n._addToUZ=this.currentViewInstance.currentUploadZone),this.productCreated&&this.mainOptions.hideDialogOnAdd&&this.mainBar&&this.mainBar.toggleContentDisplay(!1),this.currentViewInstance.fabricCanvas.addElement("image",e,t,n,i))}toggleResponsive(n){return n=void 0===n?this.container.classList.contains("fpd-not-responsive"):n,f(this.container,["fpd-not-responsive"],!n),this.viewInstances.forEach((e,t)=>{e.options.responsive=n,t==this.currentViewIndex&&e.fabricCanvas.resetSize()}),n}getProduct(){let n=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t,i="all"==this.mainOptions.customizationRequiredRule?"every":"some";if(t=this.viewInstances[i](e=>e.fabricCanvas.isCustomized),e&&!t)return c(this.translator.getTranslation("misc","customization_required_info")),!1;this.deselectElement(),this.currentViewInstance.fabricCanvas.resetZoom(),this.doUnsavedAlert=!1;let a=[];return this.getElements().forEach(e=>{e.isOut&&"inside"===e.boundingBoxMode&&!e.__editorMode&&(c(e.title+": "+this.translator.getTranslation("misc","out_of_bounding_box")),a=!1)}),!1!==a&&(this.viewInstances.forEach((e,t)=>{e={title:e.title,thumbnail:e.thumbnail,elements:e.fabricCanvas.getElementsJSON(n),options:e.options,names_numbers:e.names_numbers,mask:e.mask,locked:e.locked};0==t&&this.productViews[0].hasOwnProperty("productTitle")&&(e.productTitle=this.productViews[0].productTitle),a.push(e)}),a)}getProductDataURL(){let o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:()=>{},l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(l.onlyExportable=void 0!==l.onlyExportable&&l.onlyExportable,l.enableRetinaScaling=void 0!==l.enableRetinaScaling&&l.enableRetinaScaling,l.watermarkImg=this.watermarkImg,0===this.viewInstances.length)o("");else{this.currentViewInstance.fabricCanvas.resetZoom();var t=document.createElement("canvas");let n=fabric.devicePixelRatio,i=new fabric.Canvas(t,{containerClass:"fpd-hidden fpd-hidden-canvas",enableRetinaScaling:!1}),a=0,s=l.multiplier||1,r=2==e.length?this.viewInstances.slice(e[0],e[1]):this.viewInstances;const c=t=>{fabric.devicePixelRatio=1,t.toDataURL(e=>{fabric.Image.fromURL(e,e=>{i.add(e),0<a&&(e.set("top",i.getHeight()),i.setDimensions({height:i.getHeight()+t.options.stageHeight*s})),++a<r.length?c(r[a]):(delete l.multiplier,setTimeout(function(){o(i.toDataURL(l)),fabric.devicePixelRatio=n,i.dispose(),this.currentViewInstance&&this.currentViewInstance.fabricCanvas.resetSize()},100))},{crossOrigin:"anonymous"})},l),t.options.stageWidth*s>i.getWidth()&&i.setDimensions({width:t.options.stageWidth*s})},d=r[0];i.setDimensions({width:d.options.stageWidth*s,height:d.options.stageHeight*s}),c(d)}}getViewsDataURL(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:()=>{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(e.watermarkImg=this.watermarkImg,[]);this.currentViewInstance.fabricCanvas.resetZoom();for(var i=0;i<this.viewInstances.length;++i)this.viewInstances[i].toDataURL(e=>{n.push(e),n.length===this.viewInstances.length&&t(n)},e)}print(){this.getViewsDataURL(a=>{let s=[],r=0;for(var e=0;e<a.length;++e){let i=new Image;i.src=a[e],i.onload=()=>{if(s.push(i),++r==a.length){const r=window.open("","","width="+s[0].width+",height="+s[0].height*a.length+",location=no,menubar=no,scrollbars=yes,status=no,toolbar=no");t=r,n=this.translator.getTranslation("misc","popup_blocker_alert"),null!=t&&void 0!==t||c(n),r.document.title="Print Image";for(var e=0;e<s.length;++e)r.document.body.append(s[e]);setTimeout(()=>{r.print()},1e3)}var t,n}}})}getUsedFonts(){let a=[],s=[];return this.getElements(-1,"all",!1).forEach(n=>{var e,i;"text"===n.getType()&&-1===a.indexOf(n.fontFamily)&&(e={name:n.fontFamily},(i=this.mainOptions.fonts.find(e=>e.name==n.fontFamily))&&(i.url&&(e.url=i.url),i.variants)&&Object.keys(i.variants).forEach(e=>{var t=n.fontFamily;"n7"==e?t+=" Bold":"i4"==e?t+=" Italic":"i7"==e&&(t+=" Bold Italic"),a.push(t),s.push({name:t,url:i.variants[e]})}),a.push(n.fontFamily),s.push(e))}),s}getViewsSVG(e){for(var t=[],n=0;n<this.viewInstances.length;++n)t.push(this.viewInstances[n].toSVG(e,this.getUsedFonts()));return t}getUsedColors(){var n=[];return this.getElements(0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,"all",!1).forEach(e=>{var t=e.isColorizable();t&&("svg"===t&&"group"===e.type?e.getObjects().forEach(e=>{tinycolor(e.fill).isValid()&&n.push(e.fill)}):tinycolor(e.fill).isValid()&&n.push(e.fill))}),Z(n)}removeView(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.viewInstances[e].fabricCanvas.wrapperEl.remove(),this.viewInstances.splice(e,1),0<this.viewInstances.length&&(e==this.currentViewIndex?this.selectView(0):this.selectView(e)),s(this,"viewRemove",{viewIndex:e}),this.calculatePrice()}setOrderQuantity(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.orderQuantity=""==e||e<0?1:e,this.calculatePrice()}getOrder(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this._order.product=this.getProduct(e.onlyEditableElements,e.customizationRequired),this._order.usedFonts=this.getUsedFonts(),this._order.usedColors=[],this.getUsedColors().forEach(e=>{var t=this.mainOptions.hexNames[e.replace("#","").toLowerCase()],e={hex:e};t&&(e.name=t),this._order.usedColors.push(e)}),s(this,"getOrder",{}),this._order}getPrintOrderData(){let t={used_fonts:this.getUsedFonts(),svg_data:[],custom_images:[]};return this.viewInstances.forEach(e=>{t.svg_data.push({svg:e.toSVG({respectPrintingBox:!0}),output:e.options.output})}),this.getCustomElements("image").forEach(e=>{t.custom_images.includes(e.element.source)||t.custom_images.push(e.element.source)}),t}calculatePrice(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];j(this,Js,sr).call(this);let t=this.singleProductPrice;return this.currentPrice=t,t+=this.pricingRulesPrice,e&&(t*=this.orderQuantity),t%1!=0&&(t=Number(t.toFixed(2))),this.currentPrice=t,s(this,"priceChange",{}),this.currentPrice}formatPrice(e){return Q(e,this.mainOptions.priceFormat)}}function Qs(){{var e,o=e=>{this.mainOptions.fonts=e,setTimeout(()=>{this.uiManager=new ks(this),this.uiManager.addEventListener("ready",j(this,qs,Ks).bind(this)),this.uiManager.init()},1)};let r=(e=this).mainOptions.fonts;if(r&&0<r.length&&"object"==typeof r[0]){r.sort((e,t)=>{e=e.name.toUpperCase(),t=t.name.toUpperCase();return e<t?-1:t<e?1:0});let i=[],a=[],s=0;const l=document.createElement("style");l.id="fpd-fonts",e.container.before(l),r.forEach(t=>{if(t.hasOwnProperty("url"))if("google"==t.url)i.push(t.name+":400,400i,700,700i");else{let e=t.name;e+=":n4",t.variants&&(e+=","+Object.keys(t.variants).toString()),a.push(e),l.append(pe(t))}});var n=function(e,t,n){"inactive"==e&&console.log(t+" font could not be loaded."),s==i.length+a.length-1&&o(r),s++},e={fontactive:function(e,t){n("active",e)},fontinactive:function(e,t){n("inactive",e)},timeout:3e3};0<i.length&&(e.google={families:i}),0<a.length&&(e.custom={families:a}),"undefined"!=typeof WebFont&&(0<i.length||0<a.length)?WebFont.load(e):o(r)}else o(r)}}function Ks(){s(this,"ready",{}),this.mainOptions.productsJSON&&("object"==typeof this.mainOptions.productsJSON?this.setupProducts(this.mainOptions.productsJSON):i({url:this.mainOptions.productsJSON,onSuccess:e=>{this.setupProducts(e)},onError:()=>{alert("Products JSON could not be loaded. Please check that your URL is correct! URL: "+this.mainOptions.productsJSON)}})),this.mainOptions.designsJSON&&("object"==typeof this.mainOptions.designsJSON?this.setupDesigns(this.mainOptions.designsJSON):i({url:this.mainOptions.designsJSON,onSuccess:e=>{this.setupDesigns(e)},onError:()=>{alert("Design JSON could not be loaded. Please check that your URL is correct! URL: "+this.mainOptions.designsJSON)}})),this.mainOptions.keyboardControl&&h(document,"keydown",e=>{if(this.currentViewInstance&&this.currentViewInstance.fabricCanvas){var t=this.currentViewInstance,n=e.target.nodeName,i=t.fabricCanvas.getActiveObject();if(i&&!["TEXTAREA","INPUT"].includes(n)){switch(e.which){case 8:i.removable&&t.fabricCanvas.removeElement(i);break;case 37:i.draggable&&t.fabricCanvas.setElementOptions({left:i.left-1});break;case 38:i.draggable&&t.fabricCanvas.setElementOptions({top:i.top-1});break;case 39:i.draggable&&t.fabricCanvas.setElementOptions({left:i.left+1});break;case 40:i.draggable&&t.fabricCanvas.setElementOptions({top:i.top+1});break;default:return}e.preventDefault()}}}),this.mainOptions.watermark&&fabric.Image.fromURL(this.mainOptions.watermark,(e,t)=>{t||(this.watermarkImg=e)},{crossOrigin:"anonymous"}),this.mainOptions.unsavedProductAlert&&(window.onbeforeunload=()=>{if(this.doUnsavedAlert)return""});let t=0;if(window.addEventListener("resize",e=>{window.innerWidth===t||this.inTextField||(t=window.innerWidth,this.currentElement&&!["INPUT","TEXTAREA"].includes(document.activeElement)&&this.deselectElement(),this.currentViewInstance&&setTimeout(()=>{this.currentViewInstance.fabricCanvas.resetSize()},100))}),h(this,["productCreate","layoutElementsAdded"],j(this,Vs,_s).bind(this)),h(this,["productCreate","modalDesignerOpen"],e=>{(this.firstProductCreated||this.mainOptions.modalMode)&&(this.firstProductCreated||"modalDesignerOpen"!==e.type)||(this.mainOptions.autoOpenInfo&&this.actionsBar&&this.actionsBar.doAction("info"),!this.guidedTour)||g()&&"yes"===window.localStorage.getItem("fpd-gt-closed")||this.guidedTour.start(),this.firstProductCreated=this.mainOptions.modalMode&&"modalDesignerOpen"===e.type}),h(document.body,["focusin","blur"],e=>{["TEXTAREA","INPUT"].includes(e.target.nodeName)&&(this.inTextField="focusin"==e.type)},!0),h(document.body,["mouseup","touchend"],t=>{var e=Array.from(document.querySelectorAll(".fpd-container"));!Boolean(e.find(e=>e.contains(t.target)))&&this.mainOptions.deselectActiveOnOutside&&this.deselectElement()},!0),this.mainOptions.dragDropImagesToUploadZones){let t=null;h(document.body,["mousedown","touchstart"],e=>{1==e.which&&(e=e.target).classList.contains("fpd-draggable")&&(t=e,this.draggedPlaceholder=document.createElement("div"),this.draggedPlaceholder.className="fpd-dragged-image fpd-shadow-1 fpd-hidden",this.draggedPlaceholder.style.backgroundImage=`url("${e.querySelector("picture").dataset.img}")`,document.body.append(this.draggedPlaceholder))}),h(document.body,["mousemove"],e=>{this.draggedPlaceholder&&(this.draggedPlaceholder.style.left=e.pageX-.5*t.offsetWidth+"px",this.draggedPlaceholder.style.top=e.pageY-.5*t.offsetHeight+"px",p(this.draggedPlaceholder,["fpd-hidden"]),setTimeout(()=>{this.draggedPlaceholder&&u(this.draggedPlaceholder,["fpd-animate"])},1),e.stopPropagation(),e.preventDefault())}),h(document.body,["mouseup"],e=>{this.draggedPlaceholder&&(this.draggedPlaceholder.remove(),this.draggedPlaceholder=null),!this.loadingCustomImage&&t&&this.mouseOverCanvas&&this._addGridItemToCanvas(t,this.mouseOverCanvas.uploadZone?{_addToUZ:this.mouseOverCanvas.title}:{}),t=null,this.mouseOverCanvas=!1})}"string"==typeof this.mainOptions.editorMode&&new Ms(this)}function _s(){const e=this.globalCustomElements.concat(this.fixedElements);if(!e.length)return;let t=0;const n=t=>{var n=this.viewInstances[t.viewIndex];if(n){t=t.element;if(!n.fabricCanvas.getElementByTitle(t.title)){let e=Object.keys(this.mainOptions.elementParameters);e="text"===t.getType()?e.concat(Object.keys(this.mainOptions.textParameters)):e.concat(Object.keys(this.mainOptions.imageParameters));var i=t.getElementJSON(!1,e);i._printingBox&&delete i.boundingBox,n.fabricCanvas.addElement(t.getType(),t.source,t.title,i)}}else a()},a=()=>{++t<e.length?n(e[t]):this.removeEventListener("elementAdd",a)};h(this,"elementAdd",a),e[0]&&n(e[0])}function $s(t){var e=this.products.findIndex(e=>e.category===t);return-1!==e&&e}function er(){var e;this.viewInstances.length<this.productViews.length?this.addView(this.productViews[this.viewInstances.length]):(this.removeEventListener("viewCreate",j(this,Zs,er)),this.toggleSpinner(!1),this.selectView(0),!this.mainOptions.editorMode&&this.currentViewInstance&&this.currentViewInstance.fabricCanvas.wrapperEl.offsetParent&&this.doAutoSelect(),this.productCreated=!0,"string"==typeof(e=this.productViews[0].options.layouts)?i({url:e,onSuccess:e=>{this.currentLayouts=e,s(this,"layoutsSet",{})},onError:()=>{alert("Layouts JSON could not be loaded. Please check that your URL is correct! URL: "+this.mainOptions.layouts)}}):Array.isArray(e)&&(this.currentLayouts=e,s(this,"layoutsSet",{})),s(this,"productCreate"))}function tr(e){["undo","redo"].includes(e)&&this.currentViewInstance.fabricCanvas._renderPrintingBox(),s(this,"historyAction",{type:e}),j(this,Rs,nr).call(this)}function nr(){var e,t;this.currentViewInstance&&(e=this.currentViewInstance.fabricCanvas.historyUndo,t=this.currentViewInstance.fabricCanvas.historyRedo,e.length&&(this.doUnsavedAlert=!0),e)&&(f(document.body.querySelectorAll('.fpd-btn[data-action="undo"]'),["fpd-disabled"],0==e.length),f(document.body.querySelectorAll('.fpd-btn[data-action="redo"]'),["fpd-disabled"],0==t.length))}function ir(e){e.fabricCanvas.wrapperEl.parentNode&&(this.viewInstances.push(e),e.fabricCanvas.on("sizeUpdate",e=>{var e=e["canvasHeight"],t=e+"px";this.productStage.style.height=t,this.container.classList.contains("fpd-sidebar")&&(this.mainBar.container.style.height=t,e!=this.mainWrapper.container.offsetHeight)&&(this.mainBar.container.style.height=this.mainWrapper.container.offsetHeight+"px")}),s(this,"viewCreate",{viewInstance:e}),e.fabricCanvas.onHistory(),e.fabricCanvas.clearHistory())}function ar(){if(this.mainTooltip){const n=this.currentElement;if(this.productCreated&&n&&!n.uploadZone&&!n.__editorMode){if(n.isOut&&"inside"===n.boundingBoxMode){const n=this.translator.getTranslation("misc","out_of_bounding_box","Move element inside the boundary!");this.mainTooltip.innerHTML=n,this.mainTooltip.classList.add("fpd-show")}else this.mainOptions.imageSizeTooltip&&"image"===n.getType()?(this.mainTooltip.innerText=parseInt(n.width*n.scaleX)+" x "+parseInt(n.height*n.scaleY),this.mainTooltip.classList.add("fpd-show")):this.mainTooltip.classList.remove("fpd-show");var e,t;this.mainTooltip.classList.contains("fpd-show")&&(e=n.oCoords,t=this.currentViewInstance.fabricCanvas.wrapperEl.getBoundingClientRect(),this.mainTooltip.style.left=t.left+e.mt.x-this.mainTooltip.clientWidth/2+"px",this.mainTooltip.style.top=t.top+e.mt.y-this.mainTooltip.clientHeight-20+"px")}else this.mainTooltip.classList.remove("fpd-show")}}function sr(){this.currentPrice=this.singleProductPrice=0,this.viewInstances.forEach(e=>{e.locked||(this.singleProductPrice+=e.truePrice)})}N(Xs,"version","6.0.7"),N(Xs,"forbiddenTextChars",/<|>/g),N(Xs,"proxyFileServer",""),N(Xs,"uploadsToServer",!0),N(Xs,"additionalModules",{}),window.FancyProductDesigner=Xs,window.FPDEmojisRegex=/(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F/g})()})();